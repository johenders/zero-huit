"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/portfolio/page",{

/***/ "(app-pages-browser)/./src/app/admin/portfolio/page.tsx":
/*!******************************************!*\
  !*** ./src/app/admin/portfolio/page.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminPortfolioPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _lib_budget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/budget */ \"(app-pages-browser)/./src/lib/budget.ts\");\n/* harmony import */ var _lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/cloudflare */ \"(app-pages-browser)/./src/lib/cloudflare.ts\");\n/* harmony import */ var _lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/supabase/useClient */ \"(app-pages-browser)/./src/lib/supabase/useClient.ts\");\n/* harmony import */ var _app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/app/admin/_hooks/useAdminState */ \"(app-pages-browser)/./src/app/admin/_hooks/useAdminState.ts\");\n/* harmony import */ var _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/app/admin/_lib/taxonomies */ \"(app-pages-browser)/./src/app/admin/_lib/taxonomies.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\nconst pendingCloudflarePrefix = \"pending:\";\nfunction normalizeText(value) {\n    return value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[\\u00a0]/g, \" \").toLowerCase().replace(/[^a-z0-9]+/g, \" \").trim().replace(/\\s+/g, \" \");\n}\nfunction normalizeMatchKey(value) {\n    return normalizeText(value).replace(/\\s+/g, \"\");\n}\nfunction stripExtension(filename) {\n    return filename.replace(/\\.[^/.]+$/, \"\");\n}\nfunction normalizeFilename(filename) {\n    const base = stripExtension(filename);\n    const normalized = normalizeText(base);\n    const withoutVersion = normalized.replace(/\\b(?:v|version)\\s*\\d+\\b/g, \" \");\n    return normalizeMatchKey(withoutVersion);\n}\nfunction formatDuration(seconds) {\n    if (!Number.isFinite(seconds)) return \"—\";\n    const total = Math.max(0, Math.floor(seconds ?? 0));\n    const minutes = Math.floor(total / 60);\n    const remaining = total % 60;\n    return `${minutes}:${String(remaining).padStart(2, \"0\")}`;\n}\nfunction buildAiFrameTimes(baseSeconds) {\n    const base = typeof baseSeconds === \"number\" && Number.isFinite(baseSeconds) ? Math.max(1, Math.floor(baseSeconds)) : 1;\n    const candidates = [\n        base,\n        base + 3,\n        base + 6,\n        base + 9,\n        base + 12\n    ];\n    const unique = new Set();\n    const times = [];\n    for (const value of candidates){\n        if (unique.has(value)) continue;\n        unique.add(value);\n        times.push(value);\n    }\n    return times.slice(0, 5);\n}\nfunction isPendingVideoUid(uid) {\n    return uid.startsWith(pendingCloudflarePrefix);\n}\nfunction uploadFileWithProgress(uploadURL, file, onProgress) {\n    return new Promise((resolve, reject)=>{\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", uploadURL);\n        xhr.upload.onprogress = (event)=>{\n            if (!onProgress) return;\n            if (event.lengthComputable) {\n                const percent = Math.round(event.loaded / event.total * 100);\n                onProgress(Math.min(100, Math.max(0, percent)));\n            }\n        };\n        xhr.onload = ()=>{\n            if (xhr.status >= 200 && xhr.status < 300) {\n                onProgress?.(100);\n                resolve();\n                return;\n            }\n            const text = xhr.responseText || \"Upload Cloudflare échoué.\";\n            reject(new Error(text));\n        };\n        xhr.onerror = ()=>{\n            reject(new Error(\"Upload Cloudflare échoué.\"));\n        };\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        xhr.send(formData);\n    });\n}\nfunction AdminPortfolioPage() {\n    _s();\n    const supabase = (0,_lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__.useSupabaseClient)();\n    const { isAdmin } = (0,_app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__.useAdminState)(supabase);\n    const pageSize = 50;\n    const [taxonomies, setTaxonomies] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videosMessage, setVideosMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingVideo, setEditingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [totalVideos, setTotalVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [budgetMinIndex, setBudgetMinIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [budgetMaxIndex, setBudgetMaxIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1);\n    const [thumbSeconds, setThumbSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [durationSeconds, setDurationSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedTaxonomyIds, setSelectedTaxonomyIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadState, setUploadState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [uploadMessage, setUploadMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadProgress, setUploadProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [rowUploads, setRowUploads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [bulkUploads, setBulkUploads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bulkMessage, setBulkMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [bulkDropActive, setBulkDropActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const bulkInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [durationRefreshState, setDurationRefreshState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [durationRefreshMessage, setDurationRefreshMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const groupedTaxonomies = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[groupedTaxonomies]\": ()=>{\n            const groups = {\n                type: [],\n                objectif: [],\n                keyword: [],\n                style: [],\n                feel: [],\n                parametre: []\n            };\n            for (const t of taxonomies)groups[t.kind].push(t);\n            for (const kind of Object.keys(groups)){\n                groups[kind].sort({\n                    \"AdminPortfolioPage.useMemo[groupedTaxonomies]\": (a, b)=>a.label.localeCompare(b.label, \"fr\")\n                }[\"AdminPortfolioPage.useMemo[groupedTaxonomies]\"]);\n            }\n            return groups;\n        }\n    }[\"AdminPortfolioPage.useMemo[groupedTaxonomies]\"], [\n        taxonomies\n    ]);\n    const refreshTaxonomies = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshTaxonomies]\": async ()=>{\n            if (!supabase) return;\n            const { data } = await supabase.from(\"taxonomies\").select(\"id,kind,label\").order(\"label\");\n            setTaxonomies(data ?? []);\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshTaxonomies]\"], [\n        supabase\n    ]);\n    const toggleFeatured = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[toggleFeatured]\": async (video)=>{\n            if (!supabase) return;\n            const nextValue = !video.is_featured;\n            setVideos({\n                \"AdminPortfolioPage.useCallback[toggleFeatured]\": (prev)=>prev.map({\n                        \"AdminPortfolioPage.useCallback[toggleFeatured]\": (item)=>item.id === video.id ? {\n                                ...item,\n                                is_featured: nextValue\n                            } : item\n                    }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"])\n            }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"]);\n            const { error } = await supabase.from(\"videos\").update({\n                is_featured: nextValue\n            }).eq(\"id\", video.id);\n            if (error) {\n                setVideos({\n                    \"AdminPortfolioPage.useCallback[toggleFeatured]\": (prev)=>prev.map({\n                            \"AdminPortfolioPage.useCallback[toggleFeatured]\": (item)=>item.id === video.id ? {\n                                    ...item,\n                                    is_featured: video.is_featured\n                                } : item\n                        }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"])\n                }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"]);\n                setVideosMessage(error.message);\n            }\n        }\n    }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"], [\n        supabase\n    ]);\n    const refreshVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshVideos]\": async ()=>{\n            if (!supabase) return;\n            setVideosMessage(null);\n            const from = (currentPage - 1) * pageSize;\n            const to = from + pageSize - 1;\n            const [{ data: rawVideos, error: videosError, count: videosCount }, { data: rawTaxonomies, error: taxonomiesError }] = await Promise.all([\n                supabase.from(\"videos\").select(\"id,title,cloudflare_uid,status,thumbnail_time_seconds,duration_seconds,budget_min,budget_max,is_featured,created_at\", {\n                    count: \"exact\"\n                }).order(\"created_at\", {\n                    ascending: false\n                }).range(from, to),\n                supabase.from(\"taxonomies\").select(\"id,kind,label\")\n            ]);\n            let rawLinks = [];\n            let linksError = null;\n            if (!videosError && (rawVideos ?? []).length > 0) {\n                const { data, error } = await supabase.from(\"video_taxonomies\").select(\"video_id,taxonomy_id\").in(\"video_id\", (rawVideos ?? []).map({\n                    \"AdminPortfolioPage.useCallback[refreshVideos]\": (video)=>video.id\n                }[\"AdminPortfolioPage.useCallback[refreshVideos]\"]));\n                rawLinks = data ?? [];\n                linksError = error;\n            }\n            if (videosError || linksError || taxonomiesError) {\n                setVideosMessage(videosError?.message ?? linksError?.message ?? taxonomiesError?.message ?? \"Erreur\");\n                setVideos([]);\n                return;\n            }\n            const resolvedTaxonomies = rawTaxonomies ?? [];\n            setTaxonomies(resolvedTaxonomies);\n            setTotalVideos(videosCount ?? 0);\n            const taxonomyById = new Map();\n            for (const t of resolvedTaxonomies)taxonomyById.set(t.id, t);\n            const taxonomyIdsByVideoId = new Map();\n            for (const row of rawLinks ?? []){\n                const list = taxonomyIdsByVideoId.get(row.video_id) ?? [];\n                list.push(row.taxonomy_id);\n                taxonomyIdsByVideoId.set(row.video_id, list);\n            }\n            const hydratedVideos = (rawVideos ?? []).map({\n                \"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\": (v)=>({\n                        ...v,\n                        taxonomies: (taxonomyIdsByVideoId.get(v.id) ?? []).map({\n                            \"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\": (id)=>taxonomyById.get(id)\n                        }[\"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\"]).filter(Boolean)\n                    })\n            }[\"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\"]);\n            setVideos(hydratedVideos);\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshVideos]\"], [\n        supabase,\n        currentPage,\n        pageSize\n    ]);\n    const refreshMissingDurations = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshMissingDurations]\": async ()=>{\n            if (!supabase) return;\n            if (!isAdmin) {\n                setDurationRefreshState(\"error\");\n                setDurationRefreshMessage(\"Accès refusé (admin requis).\");\n                return;\n            }\n            const targets = videos.filter({\n                \"AdminPortfolioPage.useCallback[refreshMissingDurations].targets\": (video)=>!isPendingVideoUid(video.cloudflare_uid) && !Number.isFinite(video.duration_seconds)\n            }[\"AdminPortfolioPage.useCallback[refreshMissingDurations].targets\"]);\n            if (targets.length === 0) {\n                setDurationRefreshState(\"idle\");\n                setDurationRefreshMessage(\"Aucune durée manquante.\");\n                return;\n            }\n            setDurationRefreshState(\"loading\");\n            setDurationRefreshMessage(`Lecture de ${targets.length} vidéo(s)…`);\n            let updatedCount = 0;\n            try {\n                for (const video of targets){\n                    const duration = await fetchCloudflareDuration(video.cloudflare_uid);\n                    if (!Number.isFinite(duration)) continue;\n                    const { error } = await supabase.from(\"videos\").update({\n                        duration_seconds: Math.max(0, Math.floor(duration ?? 0))\n                    }).eq(\"id\", video.id);\n                    if (!error) updatedCount += 1;\n                }\n                setDurationRefreshState(\"idle\");\n                setDurationRefreshMessage(`Durée(s) mise(s) à jour: ${updatedCount}/${targets.length}.`);\n                await refreshVideos();\n            } catch (e) {\n                setDurationRefreshState(\"error\");\n                setDurationRefreshMessage(e instanceof Error ? e.message : \"Erreur\");\n            }\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshMissingDurations]\"], [\n        fetchCloudflareDuration,\n        isAdmin,\n        refreshVideos,\n        supabase,\n        videos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPortfolioPage.useEffect\": ()=>{\n            if (!supabase) return;\n            void refreshTaxonomies();\n            void refreshVideos();\n        }\n    }[\"AdminPortfolioPage.useEffect\"], [\n        supabase,\n        refreshTaxonomies,\n        refreshVideos\n    ]);\n    const totalPages = Math.max(1, Math.ceil(totalVideos / pageSize));\n    const pendingVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[pendingVideos]\": ()=>videos.filter({\n                \"AdminPortfolioPage.useMemo[pendingVideos]\": (video)=>isPendingVideoUid(video.cloudflare_uid)\n            }[\"AdminPortfolioPage.useMemo[pendingVideos]\"])\n    }[\"AdminPortfolioPage.useMemo[pendingVideos]\"], [\n        videos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPortfolioPage.useEffect\": ()=>{\n            if (currentPage > totalPages) {\n                setCurrentPage(totalPages);\n            }\n        }\n    }[\"AdminPortfolioPage.useEffect\"], [\n        currentPage,\n        totalPages\n    ]);\n    async function createDirectUpload() {\n        if (!supabase) throw new Error(\"Supabase non initialisé.\");\n        const { data: sessionData } = await supabase.auth.getSession();\n        const accessToken = sessionData.session?.access_token;\n        if (!accessToken) throw new Error(\"Non connecté.\");\n        const response = await fetch(\"/api/cloudflare/direct-upload\", {\n            method: \"POST\",\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        });\n        const json = await response.json();\n        if (!response.ok || \"error\" in json) {\n            const details = \"details\" in json ? `: ${json.details}` : \"\";\n            throw new Error((\"error\" in json ? json.error : \"Erreur\") + details);\n        }\n        return json;\n    }\n    async function fetchCloudflareDuration(uid) {\n        if (!supabase) throw new Error(\"Supabase non initialisé.\");\n        const { data: sessionData } = await supabase.auth.getSession();\n        const accessToken = sessionData.session?.access_token;\n        if (!accessToken) throw new Error(\"Non connecté.\");\n        const response = await fetch(`/api/cloudflare/video-info?uid=${encodeURIComponent(uid)}`, {\n            method: \"GET\",\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        });\n        const json = await response.json();\n        if (!response.ok || \"error\" in json) {\n            const details = \"details\" in json ? `: ${json.details}` : \"\";\n            throw new Error((\"error\" in json ? json.error : \"Erreur\") + details);\n        }\n        return json.durationSeconds ?? null;\n    }\n    async function uploadToCloudflare(uploadFile, onProgress) {\n        const { uploadURL, uid } = await createDirectUpload();\n        await uploadFileWithProgress(uploadURL, uploadFile, onProgress);\n        return uid;\n    }\n    async function uploadVideo() {\n        if (!supabase) return;\n        setUploadMessage(null);\n        setUploadState(\"requesting\");\n        setUploadProgress(null);\n        if (!isAdmin) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Accès refusé (admin requis).\");\n            return;\n        }\n        if (!file) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Choisis un fichier vidéo.\");\n            return;\n        }\n        if (!title.trim()) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Titre requis.\");\n            return;\n        }\n        try {\n            setUploadState(\"uploading\");\n            setUploadProgress(0);\n            const uid = await uploadToCloudflare(file, (progress)=>{\n                setUploadProgress(progress);\n            });\n            let durationFromCloudflare = null;\n            try {\n                durationFromCloudflare = await fetchCloudflareDuration(uid);\n                setDurationSeconds(durationFromCloudflare);\n            } catch  {\n                durationFromCloudflare = null;\n            }\n            setUploadState(\"saving\");\n            const { data: inserted, error: videoError } = await supabase.from(\"videos\").insert({\n                title: title.trim(),\n                cloudflare_uid: uid,\n                status: \"processing\",\n                thumbnail_time_seconds: Number.isFinite(thumbSeconds) ? Math.max(0, Math.floor(thumbSeconds)) : null,\n                duration_seconds: Number.isFinite(durationFromCloudflare) ? Math.max(0, Math.floor(durationFromCloudflare ?? 0)) : Number.isFinite(durationSeconds) ? Math.max(0, Math.floor(durationSeconds ?? 0)) : null,\n                budget_min: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMinIndex],\n                budget_max: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMaxIndex]\n            }).select(\"id\").single();\n            if (videoError || !inserted?.id) {\n                throw new Error(videoError?.message ?? \"Erreur DB (videos)\");\n            }\n            const taxonomyIds = Array.from(selectedTaxonomyIds);\n            if (taxonomyIds.length > 0) {\n                const rows = taxonomyIds.map((taxonomyId)=>({\n                        video_id: inserted.id,\n                        taxonomy_id: taxonomyId\n                    }));\n                const { error: linkError } = await supabase.from(\"video_taxonomies\").insert(rows);\n                if (linkError) {\n                    throw new Error(linkError.message);\n                }\n            }\n            setUploadState(\"done\");\n            setUploadMessage(\"Vidéo ajoutée. (Le statut 'ready' sera géré plus tard.)\");\n            setTitle(\"\");\n            setFile(null);\n            setUploadProgress(null);\n            setDurationSeconds(null);\n            setSelectedTaxonomyIds(new Set());\n            await refreshVideos();\n        } catch (e) {\n            setUploadState(\"error\");\n            setUploadMessage(e instanceof Error ? e.message : \"Erreur\");\n        }\n    }\n    async function attachUploadToVideo(video, uploadFile, options) {\n        if (!supabase) return;\n        if (!isAdmin) throw new Error(\"Accès refusé (admin requis).\");\n        options?.onStage?.(\"uploading\");\n        const uid = await uploadToCloudflare(uploadFile, options?.onProgress);\n        options?.onStage?.(\"saving\");\n        const { error: updateError } = await supabase.from(\"videos\").update({\n            cloudflare_uid: uid,\n            status: \"processing\",\n            thumbnail_time_seconds: video.thumbnail_time_seconds ?? 1\n        }).eq(\"id\", video.id);\n        if (updateError) throw new Error(updateError.message);\n    }\n    async function deleteVideo(video) {\n        if (!supabase) return;\n        if (!confirm(`Supprimer \"${video.title}\" de Supabase? (La vidéo restera sur Cloudflare)`)) {\n            return;\n        }\n        setVideosMessage(null);\n        const { error } = await supabase.from(\"videos\").delete().eq(\"id\", video.id);\n        if (error) {\n            setVideosMessage(error.message);\n            return;\n        }\n        await refreshVideos();\n    }\n    const allTaxonomyIds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[allTaxonomyIds]\": ()=>new Set(taxonomies.map({\n                \"AdminPortfolioPage.useMemo[allTaxonomyIds]\": (t)=>t.id\n            }[\"AdminPortfolioPage.useMemo[allTaxonomyIds]\"]))\n    }[\"AdminPortfolioPage.useMemo[allTaxonomyIds]\"], [\n        taxonomies\n    ]);\n    function updateRowUpload(videoId, next) {\n        setRowUploads((prev)=>{\n            const current = prev[videoId] ?? {\n                status: \"queued\",\n                progress: 0\n            };\n            return {\n                ...prev,\n                [videoId]: {\n                    ...current,\n                    ...next\n                }\n            };\n        });\n    }\n    async function startRowUpload(video, uploadFile) {\n        if (!isAdmin) {\n            updateRowUpload(video.id, {\n                status: \"error\",\n                progress: 0,\n                message: \"Accès refusé (admin requis).\"\n            });\n            return;\n        }\n        updateRowUpload(video.id, {\n            status: \"uploading\",\n            progress: 0,\n            message: null\n        });\n        try {\n            await attachUploadToVideo(video, uploadFile, {\n                onProgress: (progress)=>updateRowUpload(video.id, {\n                        progress\n                    }),\n                onStage: (stage)=>updateRowUpload(video.id, {\n                        status: stage === \"saving\" ? \"saving\" : \"uploading\"\n                    })\n            });\n            updateRowUpload(video.id, {\n                status: \"done\",\n                progress: 100\n            });\n            await refreshVideos();\n        } catch (e) {\n            updateRowUpload(video.id, {\n                status: \"error\",\n                message: e instanceof Error ? e.message : \"Erreur\"\n            });\n        }\n    }\n    async function loadPendingVideosForMatch() {\n        if (!supabase) return pendingVideos;\n        const { data, error } = await supabase.from(\"videos\").select(\"id,title,cloudflare_uid\").like(\"cloudflare_uid\", `${pendingCloudflarePrefix}%`);\n        if (error) {\n            setBulkMessage(error.message);\n            return pendingVideos;\n        }\n        return data ?? [];\n    }\n    async function enqueueBulkUploads(files) {\n        if (!files.length) return;\n        setBulkMessage(null);\n        if (!isAdmin) {\n            setBulkMessage(\"Accès refusé (admin requis).\");\n            return;\n        }\n        const pendingMatches = await loadPendingVideosForMatch();\n        const pendingByTitle = new Map();\n        for (const video of pendingMatches){\n            const key = normalizeMatchKey(video.title);\n            const list = pendingByTitle.get(key) ?? [];\n            list.push(video);\n            pendingByTitle.set(key, list);\n        }\n        const newItems = files.map((uploadFile)=>{\n            const key = normalizeFilename(uploadFile.name);\n            const matches = pendingByTitle.get(key);\n            const video = matches && matches.length > 0 ? matches.shift() ?? null : null;\n            return {\n                id: crypto.randomUUID(),\n                file: uploadFile,\n                video,\n                status: video ? \"queued\" : \"error\",\n                progress: 0,\n                message: video ? null : \"Aucune vidéo en attente trouvée pour ce nom de fichier.\"\n            };\n        });\n        setBulkUploads((prev)=>[\n                ...newItems,\n                ...prev\n            ]);\n        for (const item of newItems){\n            if (!item.video) continue;\n            void startBulkUpload(item);\n        }\n    }\n    async function startBulkUpload(item) {\n        if (!item.video) return;\n        setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                    ...entry,\n                    status: \"uploading\",\n                    progress: 0,\n                    message: null\n                } : entry));\n        try {\n            await attachUploadToVideo(item.video, item.file, {\n                onProgress: (progress)=>setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                                ...entry,\n                                progress\n                            } : entry)),\n                onStage: (stage)=>setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                                ...entry,\n                                status: stage === \"saving\" ? \"saving\" : \"uploading\"\n                            } : entry))\n            });\n            setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                        ...entry,\n                        status: \"done\",\n                        progress: 100\n                    } : entry));\n            await refreshVideos();\n        } catch (e) {\n            setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                        ...entry,\n                        status: \"error\",\n                        message: e instanceof Error ? e.message : \"Erreur\"\n                    } : entry));\n        }\n    }\n    const totalPagesText = `Page ${currentPage} / ${totalPages} (${totalVideos})`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid w-full grid-cols-1 gap-4 lg:grid-cols-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"rounded-2xl border border-white/10 bg-zinc-950/40 p-4 backdrop-blur lg:col-span-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-sm font-semibold\",\n                        children: \"Uploader une vid\\xe9o\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 693,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Titre\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100 placeholder:text-zinc-500\",\n                                                value: title,\n                                                onChange: (e)=>setTitle(e.target.value)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: \"Budget min\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 707,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                        value: budgetMinIndex,\n                                                        onChange: (e)=>{\n                                                            const next = Number(e.target.value);\n                                                            setBudgetMinIndex(Math.min(next, budgetMaxIndex));\n                                                        },\n                                                        children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: idx,\n                                                                children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                            }, b, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 717,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 708,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 706,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: \"Budget max\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 724,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                        value: budgetMaxIndex,\n                                                        onChange: (e)=>{\n                                                            const next = Number(e.target.value);\n                                                            setBudgetMaxIndex(Math.max(next, budgetMinIndex));\n                                                        },\n                                                        children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: idx,\n                                                                children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                            }, b, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 734,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 725,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 723,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 705,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Thumbnail (secondes)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 743,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                value: thumbSeconds,\n                                                onChange: (e)=>setThumbSeconds(Number(e.target.value)),\n                                                type: \"number\",\n                                                min: 0\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 744,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 742,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Dur\\xe9e (secondes)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 753,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                value: durationSeconds ?? \"\",\n                                                onChange: (e)=>{\n                                                    const raw = e.target.value;\n                                                    setDurationSeconds(raw === \"\" ? null : Number(raw));\n                                                },\n                                                type: \"number\",\n                                                min: 0\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 754,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 752,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Fichier vid\\xe9o\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 767,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100 file:mr-3 file:rounded-lg file:border-0 file:bg-white/10 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white hover:file:bg-white/20\",\n                                                type: \"file\",\n                                                accept: \"video/*\",\n                                                onChange: (e)=>setFile(e.target.files?.[0] ?? null)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 768,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 766,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                        type: \"button\",\n                                        onClick: ()=>void uploadVideo(),\n                                        disabled: uploadState === \"requesting\" || uploadState === \"uploading\" || uploadState === \"saving\",\n                                        children: uploadState === \"requesting\" ? \"Création URL…\" : uploadState === \"uploading\" ? \"Upload…\" : uploadState === \"saving\" ? \"Sauvegarde…\" : \"Uploader\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 776,\n                                        columnNumber: 13\n                                    }, this),\n                                    uploadState === \"uploading\" && uploadProgress !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-zinc-400\",\n                                        children: [\n                                            \"Upload: \",\n                                            uploadProgress,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 791,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    uploadMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `text-sm ${uploadState === \"error\" ? \"text-red-400\" : \"text-zinc-200\"}`,\n                                        children: uploadMessage\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 794,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 695,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                        children: \"Tags s\\xe9lectionn\\xe9s\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 803,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 space-y-3\",\n                                        children: _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.taxonomyGroups.map((group)=>{\n                                            const options = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(groupedTaxonomies, group.kinds);\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-semibold\",\n                                                        children: group.label\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 811,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 flex flex-wrap gap-2\",\n                                                        children: options.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-zinc-400\",\n                                                            children: \"\\xc0 venir\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 814,\n                                                            columnNumber: 25\n                                                        }, this) : options.map((t)=>{\n                                                            const checked = selectedTaxonomyIds.has(t.id);\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        className: \"hidden\",\n                                                                        type: \"checkbox\",\n                                                                        checked: checked,\n                                                                        onChange: ()=>{\n                                                                            setSelectedTaxonomyIds((prev)=>{\n                                                                                const next = new Set(prev);\n                                                                                if (next.has(t.id)) next.delete(t.id);\n                                                                                else next.add(t.id);\n                                                                                return next;\n                                                                            });\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                        lineNumber: 827,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    t.label\n                                                                ]\n                                                            }, t.id, true, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 819,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 812,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, group.kind, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 19\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 806,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                        children: \"Preview thumbnail (exemple)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 851,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 text-sm text-zinc-400\",\n                                        children: \"Apr\\xe8s upload, la grille utilisera:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 854,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 rounded-xl border border-white/10 bg-black/30 p-3 text-xs text-zinc-200\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                            children: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(\"CLOUDFLARE_UID\", thumbSeconds)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 858,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 857,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 802,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 694,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 692,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"rounded-2xl border border-white/10 bg-zinc-950/40 p-4 backdrop-blur lg:col-span-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-sm font-semibold\",\n                                children: \"Vid\\xe9os\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 866,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>void refreshMissingDurations(),\n                                        disabled: durationRefreshState === \"loading\",\n                                        children: durationRefreshState === \"loading\" ? \"Durées…\" : \"Récupérer durées\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 868,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-zinc-400\",\n                                        children: totalPagesText\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 876,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>setCurrentPage((page)=>Math.max(1, page - 1)),\n                                        disabled: currentPage <= 1,\n                                        children: \"Pr\\xe9c\\xe9dent\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 877,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>setCurrentPage((page)=>Math.min(totalPages, page + 1)),\n                                        disabled: currentPage >= totalPages,\n                                        children: \"Suivant\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 885,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10\",\n                                        type: \"button\",\n                                        onClick: ()=>void refreshVideos(),\n                                        children: \"Rafra\\xeechir\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 893,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 867,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 865,\n                        columnNumber: 9\n                    }, this),\n                    durationRefreshMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `mt-2 text-xs ${durationRefreshState === \"error\" ? \"text-red-400\" : \"text-zinc-400\"}`,\n                        children: durationRefreshMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 903,\n                        columnNumber: 11\n                    }, this) : null,\n                    videosMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3 text-sm text-red-400\",\n                        children: videosMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 911,\n                        columnNumber: 26\n                    }, this) : null,\n                    pendingVideos.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 rounded-2xl border border-dashed border-white/15 bg-white/5 p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center justify-between gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold\",\n                                                children: \"Upload rapide (drag & drop)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 917,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-zinc-400\",\n                                                children: \"Les noms de fichiers doivent correspondre aux titres des vid\\xe9os en attente.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 918,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 916,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-xs font-semibold text-zinc-200 hover:bg-white/20\",\n                                        type: \"button\",\n                                        onClick: ()=>bulkInputRef.current?.click(),\n                                        children: \"Choisir des fichiers\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 922,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 915,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                className: \"hidden\",\n                                ref: bulkInputRef,\n                                type: \"file\",\n                                accept: \"video/*\",\n                                multiple: true,\n                                onChange: (e)=>{\n                                    const files = Array.from(e.target.files ?? []);\n                                    void enqueueBulkUploads(files);\n                                    e.currentTarget.value = \"\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 930,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `mt-4 flex min-h-[96px] cursor-pointer items-center justify-center rounded-2xl border border-white/10 px-4 text-sm text-zinc-400 transition ${bulkDropActive ? \"bg-white/10\" : \"bg-black/20\"}`,\n                                onClick: ()=>bulkInputRef.current?.click(),\n                                onDragEnter: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(true);\n                                },\n                                onDragOver: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(true);\n                                },\n                                onDragLeave: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(false);\n                                },\n                                onDrop: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(false);\n                                    const files = Array.from(e.dataTransfer.files ?? []);\n                                    void enqueueBulkUploads(files);\n                                },\n                                children: \"Glisse tes fichiers vid\\xe9o ici\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 942,\n                                columnNumber: 13\n                            }, this),\n                            bulkMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 text-sm text-red-400\",\n                                children: bulkMessage\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 968,\n                                columnNumber: 28\n                            }, this) : null,\n                            bulkUploads.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 space-y-2 text-sm text-zinc-200\",\n                                children: bulkUploads.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"rounded-xl border border-white/10 bg-black/30 p-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"min-w-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"truncate font-semibold\",\n                                                                children: item.file.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 978,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-zinc-400\",\n                                                                children: item.video ? `→ ${item.video.title}` : \"Aucune correspondance\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 979,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 977,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs uppercase tracking-wide text-zinc-400\",\n                                                        children: item.status === \"uploading\" ? \"Upload\" : item.status === \"saving\" ? \"Sauvegarde\" : item.status === \"done\" ? \"OK\" : item.status === \"error\" ? \"Erreur\" : \"En attente\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 983,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 976,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 h-2 overflow-hidden rounded-full bg-white/10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `h-full rounded-full ${item.status === \"error\" ? \"bg-red-500/70\" : \"bg-emerald-500/70\"}`,\n                                                    style: {\n                                                        width: `${item.progress}%`\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 996,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 995,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-1 text-xs text-zinc-400\",\n                                                children: item.status === \"error\" ? item.message : `${item.progress}%`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1003,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 972,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 970,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 914,\n                        columnNumber: 11\n                    }, this) : null,\n                    videos.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-zinc-400\",\n                        children: \"Aucune vid\\xe9o pour le moment.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1014,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 overflow-x-auto rounded-2xl border border-white/10 bg-black/30\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            className: \"w-full min-w-[1100px] border-collapse text-left text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    className: \"bg-black/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        className: \"border-b border-white/10 text-xs font-semibold uppercase tracking-wide text-zinc-400\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Thumbnail\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1020,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Titre\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1021,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Budget\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1022,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Dur\\xe9e\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1023,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Favoris\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1024,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Type\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1025,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Objectifs\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1026,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Mots cl\\xe9s\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1027,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Feel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1028,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1029,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 1019,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1018,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    className: \"divide-y divide-white/10\",\n                                    children: videos.map((v)=>{\n                                        const byKind = {\n                                            type: [],\n                                            objectif: [],\n                                            keyword: [],\n                                            style: [],\n                                            feel: [],\n                                            parametre: []\n                                        };\n                                        for (const t of v.taxonomies)byKind[t.kind].push(t);\n                                        for (const kind of Object.keys(byKind)){\n                                            byKind[kind].sort((a, b)=>a.label.localeCompare(b.label, \"fr\"));\n                                        }\n                                        const budgetText = v.budget_min && v.budget_max ? `${(0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(v.budget_min)}–${(0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(v.budget_max)}` : \"—\";\n                                        const durationText = formatDuration(v.duration_seconds);\n                                        const keywordGroupTags = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(byKind, _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.keywordGroupKinds);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                            className: \"cursor-pointer transition hover:bg-white/5\",\n                                            onClick: ()=>setEditingVideo({\n                                                    ...v,\n                                                    taxonomies: v.taxonomies.filter((t)=>allTaxonomyIds.has(t.id))\n                                                }),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: isPendingVideoUid(v.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex h-12 w-20 items-center justify-center rounded-xl border border-white/10 bg-black/40 text-[10px] uppercase tracking-wide text-zinc-500\",\n                                                        children: \"\\xc0 uploader\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1067,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"overflow-hidden rounded-xl border border-white/10 bg-black/40\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                            className: \"h-12 w-20 object-cover\",\n                                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(v.cloudflare_uid, v.thumbnail_time_seconds),\n                                                            alt: \"\",\n                                                            width: 160,\n                                                            height: 96\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1072,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1071,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1065,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"max-w-[320px] truncate font-semibold text-zinc-100\",\n                                                            children: v.title\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1086,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-0.5 text-xs text-zinc-400\",\n                                                            children: isPendingVideoUid(v.cloudflare_uid) ? \"En attente d'upload\" : v.status === \"ready\" ? \"Ready\" : \"Processing\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1089,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1085,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-zinc-200\",\n                                                    children: budgetText\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1097,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-zinc-200\",\n                                                    children: durationText\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1098,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        className: `rounded-full border px-2 py-1 text-xs font-semibold ${v.is_featured ? \"border-amber-300/50 bg-amber-400/20 text-amber-100\" : \"border-white/10 bg-white/5 text-zinc-300 hover:bg-white/10\"}`,\n                                                        onClick: (event)=>{\n                                                            event.preventDefault();\n                                                            event.stopPropagation();\n                                                            void toggleFeatured(v);\n                                                        },\n                                                        \"aria-label\": v.is_featured ? \"Retirer des favoris\" : \"Ajouter aux favoris\",\n                                                        children: v.is_featured ? \"★\" : \"☆\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1100,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1099,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.type\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1119,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.objectif\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1120,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: keywordGroupTags\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1121,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.feel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1122,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-right\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-col items-end gap-2\",\n                                                        children: [\n                                                            isPendingVideoUid(v.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RowUploadDropzone, {\n                                                                state: rowUploads[v.id],\n                                                                onUpload: (fileToUpload)=>startRowUpload(v, fileToUpload)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1126,\n                                                                columnNumber: 29\n                                                            }, this) : null,\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"rounded-xl border border-red-400/30 bg-red-500/10 px-3 py-2 text-xs font-semibold text-red-200 hover:bg-red-500/15\",\n                                                                type: \"button\",\n                                                                onClick: (e)=>{\n                                                                    e.preventDefault();\n                                                                    e.stopPropagation();\n                                                                    void deleteVideo(v);\n                                                                },\n                                                                children: \"Supprimer\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1131,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1124,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1123,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, v.id, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1055,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1032,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1017,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1016,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 864,\n                columnNumber: 7\n            }, this),\n            editingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EditVideoModal, {\n                open: true,\n                onClose: ()=>setEditingVideo(null),\n                video: editingVideo,\n                groupedTaxonomies: groupedTaxonomies,\n                onSaved: async ()=>{\n                    setEditingVideo(null);\n                    await refreshVideos();\n                },\n                refreshTaxonomies: refreshTaxonomies,\n                onFetchDuration: fetchCloudflareDuration,\n                supabase: supabase\n            }, editingVideo.id, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1154,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 691,\n        columnNumber: 5\n    }, this);\n}\n_s(AdminPortfolioPage, \"MHr2D6LBMYV2J3PqxJX0hUJe6/s=\", false, function() {\n    return [\n        _lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__.useSupabaseClient,\n        _app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__.useAdminState\n    ];\n});\n_c = AdminPortfolioPage;\nfunction EditVideoModal({ open, onClose, video, groupedTaxonomies, onSaved, refreshTaxonomies, onFetchDuration, supabase }) {\n    _s1();\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.title ?? \"\"\n    }[\"EditVideoModal.useState\"]);\n    const [thumbSeconds, setThumbSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.thumbnail_time_seconds ?? 1\n    }[\"EditVideoModal.useState\"]);\n    const [durationSeconds, setDurationSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.duration_seconds ?? null\n    }[\"EditVideoModal.useState\"]);\n    const [durationFetchStatus, setDurationFetchStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [durationFetchMessage, setDurationFetchMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [budgetMinIndex, setBudgetMinIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>{\n            if (!video?.budget_min) return 0;\n            const idx = _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.indexOf(video.budget_min);\n            return idx >= 0 ? idx : 0;\n        }\n    }[\"EditVideoModal.useState\"]);\n    const [budgetMaxIndex, setBudgetMaxIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>{\n            if (!video?.budget_max) return _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1;\n            const idx = _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.indexOf(video.budget_max);\n            return idx >= 0 ? idx : _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1;\n        }\n    }[\"EditVideoModal.useState\"]);\n    const [selectedTaxonomyIds, setSelectedTaxonomyIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>new Set(video?.taxonomies.map({\n                \"EditVideoModal.useState\": (t)=>t.id\n            }[\"EditVideoModal.useState\"]) ?? [])\n    }[\"EditVideoModal.useState\"]);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiStatus, setAiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [aiMessage, setAiMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiOpen, setAiOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiSuggestions, setAiSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiSelectedExisting, setAiSelectedExisting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [aiSelectedNew, setAiSelectedNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [aiFrames, setAiFrames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [aiApplyStatus, setAiApplyStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [aiApplyMessage, setAiApplyMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [playerTime, setPlayerTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [playerError, setPlayerError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [useIframePlayer, setUseIframePlayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [thumbChoices, setThumbChoices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const availableKeywordLabels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"EditVideoModal.useMemo[availableKeywordLabels]\": ()=>groupedTaxonomies.keyword.map({\n                \"EditVideoModal.useMemo[availableKeywordLabels]\": (t)=>t.label\n            }[\"EditVideoModal.useMemo[availableKeywordLabels]\"])\n    }[\"EditVideoModal.useMemo[availableKeywordLabels]\"], [\n        groupedTaxonomies.keyword\n    ]);\n    const keywordMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"EditVideoModal.useMemo[keywordMap]\": ()=>{\n            const map = new Map();\n            for (const taxonomy of groupedTaxonomies.keyword){\n                map.set(normalizeText(taxonomy.label), taxonomy);\n            }\n            return map;\n        }\n    }[\"EditVideoModal.useMemo[keywordMap]\"], [\n        groupedTaxonomies.keyword\n    ]);\n    function buildRandomThumbTimes(duration, count = 8) {\n        const safeDuration = Math.max(1, Math.floor(duration));\n        const segment = safeDuration / count;\n        const times = new Set();\n        for(let i = 0; i < count; i += 1){\n            const start = Math.max(0, Math.floor(i * segment));\n            const end = Math.min(safeDuration, Math.floor((i + 1) * segment));\n            const range = Math.max(1, end - start);\n            const random = start + Math.floor(Math.random() * range);\n            times.add(Math.min(safeDuration, Math.max(0, random)));\n        }\n        return Array.from(times).sort((a, b)=>a - b);\n    }\n    function refreshThumbChoices() {\n        if (!durationSeconds || !Number.isFinite(durationSeconds)) return;\n        setThumbChoices(buildRandomThumbTimes(durationSeconds, 8));\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EditVideoModal.useEffect\": ()=>{\n            setPlayerError(null);\n            setPlayerTime(0);\n            setUseIframePlayer(false);\n            setThumbChoices([]);\n        }\n    }[\"EditVideoModal.useEffect\"], [\n        video?.cloudflare_uid\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EditVideoModal.useEffect\": ()=>{\n            if (!durationSeconds || !Number.isFinite(durationSeconds)) return;\n            refreshThumbChoices();\n        }\n    }[\"EditVideoModal.useEffect\"], [\n        durationSeconds\n    ]);\n    if (!open || !video) return null;\n    async function requestAiKeywords() {\n        if (aiStatus === \"loading\") return;\n        if (!video) return;\n        if (isPendingVideoUid(video.cloudflare_uid)) {\n            setAiStatus(\"error\");\n            setAiMessage(\"La vidéo doit être uploadée avant l'analyse.\");\n            return;\n        }\n        setAiStatus(\"loading\");\n        setAiMessage(null);\n        setAiApplyMessage(null);\n        const times = buildAiFrameTimes(thumbSeconds);\n        setAiFrames(times);\n        try {\n            const response = await fetch(\"/api/ai/keywords\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    cloudflareUid: video.cloudflare_uid,\n                    times,\n                    availableKeywords: availableKeywordLabels\n                })\n            });\n            const json = await response.json();\n            if (!response.ok || \"error\" in json) {\n                throw new Error(\"error\" in json ? json.error : \"Erreur AI\");\n            }\n            const suggestions = json.suggestions ?? {\n                existing: [],\n                new: []\n            };\n            setAiSuggestions(suggestions);\n            setAiSelectedExisting(new Set(suggestions.existing));\n            setAiSelectedNew(new Set(suggestions.new));\n            setAiOpen(true);\n            setAiStatus(\"idle\");\n        } catch (e) {\n            setAiStatus(\"error\");\n            setAiMessage(e instanceof Error ? e.message : \"Erreur AI\");\n        }\n    }\n    async function applyAiKeywords() {\n        if (!supabase || !aiSuggestions) return;\n        setAiApplyStatus(\"saving\");\n        setAiApplyMessage(null);\n        const selectedExisting = Array.from(aiSelectedExisting);\n        const selectedNew = Array.from(aiSelectedNew);\n        const desiredIds = new Set();\n        const missingLabels = [];\n        const missingNormalized = new Set();\n        for (const label of selectedExisting){\n            const taxonomy = keywordMap.get(normalizeText(label));\n            if (taxonomy) desiredIds.add(taxonomy.id);\n        }\n        for (const label of selectedNew){\n            const trimmed = label.trim();\n            if (!trimmed) continue;\n            const normalized = normalizeText(trimmed);\n            if (!normalized || missingNormalized.has(normalized)) continue;\n            const existing = keywordMap.get(normalizeText(trimmed));\n            if (existing) {\n                desiredIds.add(existing.id);\n            } else {\n                missingNormalized.add(normalized);\n                missingLabels.push(trimmed);\n            }\n        }\n        try {\n            if (missingLabels.length > 0) {\n                const rows = missingLabels.map((label)=>({\n                        kind: \"keyword\",\n                        label\n                    }));\n                const { data: inserted, error: insertError } = await supabase.from(\"taxonomies\").upsert(rows, {\n                    onConflict: \"kind,label\"\n                }).select(\"id,kind,label\");\n                if (insertError) throw insertError;\n                for (const item of inserted ?? []){\n                    if (item.kind === \"keyword\") desiredIds.add(item.id);\n                }\n                await refreshTaxonomies();\n            }\n            setSelectedTaxonomyIds((prev)=>{\n                const next = new Set(prev);\n                for (const id of desiredIds)next.add(id);\n                return next;\n            });\n            setAiApplyStatus(\"idle\");\n            setAiOpen(false);\n            setAiSuggestions(null);\n            setAiSelectedExisting(new Set());\n            setAiSelectedNew(new Set());\n        } catch (e) {\n            setAiApplyStatus(\"error\");\n            setAiApplyMessage(e instanceof Error ? e.message : \"Erreur sauvegarde.\");\n        }\n    }\n    async function save() {\n        if (!supabase) return;\n        if (!video) return;\n        setStatus(\"saving\");\n        setMessage(null);\n        const cleanTitle = title.trim();\n        if (!cleanTitle) {\n            setStatus(\"error\");\n            setMessage(\"Titre requis.\");\n            return;\n        }\n        const { error: updateError } = await supabase.from(\"videos\").update({\n            title: cleanTitle,\n            thumbnail_time_seconds: Number.isFinite(thumbSeconds) ? Math.max(0, Math.floor(thumbSeconds)) : null,\n            duration_seconds: Number.isFinite(durationSeconds) ? Math.max(0, Math.floor(durationSeconds ?? 0)) : null,\n            budget_min: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMinIndex],\n            budget_max: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMaxIndex]\n        }).eq(\"id\", video.id);\n        if (updateError) {\n            setStatus(\"error\");\n            setMessage(updateError.message);\n            return;\n        }\n        const desired = Array.from(selectedTaxonomyIds);\n        const { error: deleteError } = await supabase.from(\"video_taxonomies\").delete().eq(\"video_id\", video.id);\n        if (deleteError) {\n            setStatus(\"error\");\n            setMessage(deleteError.message);\n            return;\n        }\n        if (desired.length > 0) {\n            const rows = desired.map((taxonomyId)=>({\n                    video_id: video.id,\n                    taxonomy_id: taxonomyId\n                }));\n            const { error: insertError } = await supabase.from(\"video_taxonomies\").insert(rows);\n            if (insertError) {\n                setStatus(\"error\");\n                setMessage(insertError.message);\n                return;\n            }\n        }\n        setStatus(\"idle\");\n        await onSaved();\n    }\n    async function handleFetchDuration() {\n        if (!video) return;\n        if (isPendingVideoUid(video.cloudflare_uid)) {\n            setDurationFetchStatus(\"error\");\n            setDurationFetchMessage(\"La vidéo doit être uploadée avant l'analyse.\");\n            return;\n        }\n        setDurationFetchStatus(\"loading\");\n        setDurationFetchMessage(null);\n        try {\n            const duration = await onFetchDuration(video.cloudflare_uid);\n            setDurationSeconds(duration);\n            setDurationFetchStatus(\"idle\");\n        } catch (e) {\n            setDurationFetchStatus(\"error\");\n            setDurationFetchMessage(e instanceof Error ? e.message : \"Erreur\");\n        }\n    }\n    function applyPlayerTime() {\n        const current = videoRef.current?.currentTime;\n        if (!Number.isFinite(current)) return;\n        setThumbSeconds(Math.max(0, Math.floor(current ?? 0)));\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 overflow-y-auto bg-black/70 p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto w-[95vw] max-w-none rounded-2xl border border-white/10 bg-zinc-950 p-6 shadow-2xl shadow-black/40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"truncate text-lg font-semibold\",\n                                            children: \"Modifier\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1486,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 truncate text-xs text-zinc-400\",\n                                            children: [\n                                                \"UID: \",\n                                                video.cloudflare_uid\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1487,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1485,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-md px-2 py-1 text-sm text-zinc-300 hover:bg-white/10\",\n                                    onClick: onClose,\n                                    type: \"button\",\n                                    children: \"Fermer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1491,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1484,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm font-medium text-zinc-200\",\n                                                    children: \"Titre\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1503,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100 placeholder:text-zinc-500\",\n                                                    value: title,\n                                                    onChange: (e)=>setTitle(e.target.value)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1504,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1502,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium text-zinc-200\",\n                                                            children: \"Budget min\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1513,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                            value: budgetMinIndex,\n                                                            onChange: (e)=>{\n                                                                const next = Number(e.target.value);\n                                                                setBudgetMinIndex(Math.min(next, budgetMaxIndex));\n                                                            },\n                                                            children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: idx,\n                                                                    children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                                }, b, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1523,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1514,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1512,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium text-zinc-200\",\n                                                            children: \"Budget max\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1530,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                            value: budgetMaxIndex,\n                                                            onChange: (e)=>{\n                                                                const next = Number(e.target.value);\n                                                                setBudgetMaxIndex(Math.max(next, budgetMinIndex));\n                                                            },\n                                                            children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: idx,\n                                                                    children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                                }, b, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1540,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1531,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1529,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1511,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm font-medium text-zinc-200\",\n                                                    children: \"Thumbnail (secondes)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1549,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                    value: thumbSeconds,\n                                                    onChange: (e)=>setThumbSeconds(Number(e.target.value)),\n                                                    type: \"number\",\n                                                    min: 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1550,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1548,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between gap-2 text-sm font-medium text-zinc-200\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Dur\\xe9e (secondes)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1560,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"rounded-md border border-white/10 bg-white/5 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-60\",\n                                                            type: \"button\",\n                                                            onClick: ()=>void handleFetchDuration(),\n                                                            disabled: durationFetchStatus === \"loading\" || !supabase,\n                                                            children: durationFetchStatus === \"loading\" ? \"Lecture…\" : \"Récupérer\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1561,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1559,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-sm text-zinc-100\",\n                                                    children: Number.isFinite(durationSeconds) ? durationSeconds : \"—\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1570,\n                                                    columnNumber: 17\n                                                }, this),\n                                                durationFetchMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-xs text-red-400\",\n                                                    children: durationFetchMessage\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1574,\n                                                    columnNumber: 19\n                                                }, this) : null\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1558,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                                            children: \"Lecteur\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1580,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                            type: \"button\",\n                                                            onClick: applyPlayerTime,\n                                                            disabled: isPendingVideoUid(video.cloudflare_uid) || useIframePlayer,\n                                                            children: \"Utiliser le temps du player\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1583,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1579,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 overflow-hidden rounded-2xl border border-white/10 bg-black/40\",\n                                                    children: isPendingVideoUid(video.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex aspect-video w-full items-center justify-center text-xs uppercase tracking-wide text-zinc-500\",\n                                                        children: \"En attente d'upload\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1594,\n                                                        columnNumber: 21\n                                                    }, this) : useIframePlayer ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                                        className: \"aspect-video w-full\",\n                                                        src: cloudflareIframeSrc(video.cloudflare_uid),\n                                                        allow: \"accelerometer; autoplay; encrypted-media; picture-in-picture;\",\n                                                        allowFullScreen: true,\n                                                        title: video.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1598,\n                                                        columnNumber: 21\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        className: \"aspect-video w-full bg-black\",\n                                                        controls: true,\n                                                        preload: \"metadata\",\n                                                        poster: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, thumbSeconds),\n                                                        src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareDownloadSrc)(video.cloudflare_uid),\n                                                        onTimeUpdate: (e)=>{\n                                                            setPlayerTime(Math.floor(e.currentTarget.currentTime));\n                                                        },\n                                                        onError: ()=>{\n                                                            setUseIframePlayer(true);\n                                                            setPlayerError(\"Lecture MP4 indisponible. Bascule vers le player intégré.\");\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1606,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1592,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !useIframePlayer ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 text-xs text-zinc-400\",\n                                                    children: [\n                                                        \"Temps courant: \",\n                                                        playerTime,\n                                                        \"s\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1626,\n                                                    columnNumber: 19\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 text-xs text-zinc-400\",\n                                                    children: \"Le player int\\xe9gr\\xe9 ne permet pas de lire le timecode.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1630,\n                                                    columnNumber: 19\n                                                }, this),\n                                                playerError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-xs text-amber-300\",\n                                                    children: playerError\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1635,\n                                                    columnNumber: 19\n                                                }, this) : null\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1578,\n                                            columnNumber: 15\n                                        }, this),\n                                        message ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-red-400\",\n                                            children: message\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1639,\n                                            columnNumber: 26\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                            type: \"button\",\n                                            onClick: ()=>void save(),\n                                            disabled: status === \"saving\" || !supabase,\n                                            children: status === \"saving\" ? \"Sauvegarde…\" : \"Sauvegarder\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1641,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1501,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                                    children: \"Tags\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1653,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                    type: \"button\",\n                                                    onClick: ()=>void requestAiKeywords(),\n                                                    disabled: aiStatus === \"loading\" || !supabase,\n                                                    children: aiStatus === \"loading\" ? \"Analyse…\" : \"Analyser mots-clés\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1656,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1652,\n                                            columnNumber: 15\n                                        }, this),\n                                        aiMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 text-xs text-red-400\",\n                                            children: aiMessage\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1665,\n                                            columnNumber: 28\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 space-y-3\",\n                                            children: _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.taxonomyGroups.map((group)=>{\n                                                const options = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(groupedTaxonomies, group.kinds);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-semibold\",\n                                                            children: group.label\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1671,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                                            children: options.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm text-zinc-400\",\n                                                                children: \"\\xc0 venir\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1674,\n                                                                columnNumber: 27\n                                                            }, this) : options.map((t)=>{\n                                                                const checked = selectedTaxonomyIds.has(t.id);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            className: \"hidden\",\n                                                                            type: \"checkbox\",\n                                                                            checked: checked,\n                                                                            onChange: ()=>{\n                                                                                setSelectedTaxonomyIds((prev)=>{\n                                                                                    const next = new Set(prev);\n                                                                                    if (next.has(t.id)) next.delete(t.id);\n                                                                                    else next.add(t.id);\n                                                                                    return next;\n                                                                                });\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                            lineNumber: 1687,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        t.label\n                                                                    ]\n                                                                }, t.id, true, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1679,\n                                                                    columnNumber: 31\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1672,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, group.kind, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1670,\n                                                    columnNumber: 21\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1666,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-6 text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Thumbnail\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1711,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 overflow-hidden rounded-2xl border border-white/10 bg-black/30\",\n                                            children: isPendingVideoUid(video.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex aspect-video w-full items-center justify-center text-xs uppercase tracking-wide text-zinc-500\",\n                                                children: \"En attente d'upload\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1716,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                className: \"aspect-video w-full object-cover\",\n                                                src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, thumbSeconds),\n                                                alt: \"\",\n                                                width: 640,\n                                                height: 360\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1720,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1714,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 flex items-center justify-between gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-zinc-400\",\n                                                    children: durationSeconds ? \"Choisis un thumbnail parmi les suggestions.\" : \"Renseigne la durée pour générer des suggestions.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1730,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                    type: \"button\",\n                                                    onClick: refreshThumbChoices,\n                                                    disabled: !durationSeconds || isPendingVideoUid(video.cloudflare_uid),\n                                                    children: \"Nouvelles suggestions\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1735,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1729,\n                                            columnNumber: 15\n                                        }, this),\n                                        thumbChoices.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 grid grid-cols-2 gap-2 sm:grid-cols-4\",\n                                            children: thumbChoices.map((time)=>{\n                                                const selected = Math.floor(thumbSeconds) === time;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>setThumbSeconds(time),\n                                                    className: `overflow-hidden rounded-xl border text-left ${selected ? \"border-emerald-400/60 bg-emerald-500/10\" : \"border-white/10 bg-black/30 hover:border-white/30\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                            className: \"aspect-video w-full object-cover\",\n                                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, time),\n                                                            alt: \"\",\n                                                            width: 240,\n                                                            height: 135\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1759,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"px-2 py-1 text-center text-[10px] text-zinc-400\",\n                                                            children: [\n                                                                time,\n                                                                \"s\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1766,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, time, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1749,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1745,\n                                            columnNumber: 17\n                                        }, this) : null\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1651,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1500,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 1483,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1482,\n                columnNumber: 7\n            }, this),\n            aiOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-[60] overflow-y-auto bg-black/70 p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto w-full max-w-2xl rounded-2xl border border-white/10 bg-zinc-950 p-6 shadow-2xl shadow-black/40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"truncate text-lg font-semibold\",\n                                            children: \"Suggestions mots-cl\\xe9s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1784,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 text-xs text-zinc-400\",\n                                            children: \"Valide les tags propos\\xe9s avant insertion.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1785,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1783,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-md px-2 py-1 text-sm text-zinc-300 hover:bg-white/10\",\n                                    onClick: ()=>setAiOpen(false),\n                                    type: \"button\",\n                                    children: \"Fermer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1789,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1782,\n                            columnNumber: 13\n                        }, this),\n                        aiFrames.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-5\",\n                            children: aiFrames.map((time)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"overflow-hidden rounded-xl border border-white/10 bg-black/30\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            className: \"aspect-video w-full object-cover\",\n                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, time),\n                                            alt: \"\",\n                                            width: 240,\n                                            height: 135\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1805,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"px-2 py-1 text-center text-[10px] text-zinc-400\",\n                                            children: [\n                                                time,\n                                                \"s\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1812,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, time, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1801,\n                                    columnNumber: 19\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1799,\n                            columnNumber: 15\n                        }, this) : null,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Mots-cl\\xe9s existants\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1822,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                            children: (aiSuggestions?.existing ?? []).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-zinc-400\",\n                                                children: \"Aucun propos\\xe9.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1827,\n                                                columnNumber: 21\n                                            }, this) : (aiSuggestions?.existing ?? []).map((label)=>{\n                                                const checked = aiSelectedExisting.has(label);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            className: \"hidden\",\n                                                            type: \"checkbox\",\n                                                            checked: checked,\n                                                            onChange: ()=>{\n                                                                setAiSelectedExisting((prev)=>{\n                                                                    const next = new Set(prev);\n                                                                    if (next.has(label)) next.delete(label);\n                                                                    else next.add(label);\n                                                                    return next;\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1840,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        label\n                                                    ]\n                                                }, label, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1832,\n                                                    columnNumber: 25\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1825,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1821,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Nouveaux mots-cl\\xe9s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1862,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                            children: (aiSuggestions?.new ?? []).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-zinc-400\",\n                                                children: \"Aucun propos\\xe9.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1867,\n                                                columnNumber: 21\n                                            }, this) : (aiSuggestions?.new ?? []).map((label)=>{\n                                                const checked = aiSelectedNew.has(label);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-amber-400/40 bg-amber-500/20 text-amber-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            className: \"hidden\",\n                                                            type: \"checkbox\",\n                                                            checked: checked,\n                                                            onChange: ()=>{\n                                                                setAiSelectedNew((prev)=>{\n                                                                    const next = new Set(prev);\n                                                                    if (next.has(label)) next.delete(label);\n                                                                    else next.add(label);\n                                                                    return next;\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1880,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        label\n                                                    ]\n                                                }, label, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1872,\n                                                    columnNumber: 25\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1865,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1861,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1820,\n                            columnNumber: 13\n                        }, this),\n                        aiApplyMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-3 text-sm text-red-400\",\n                            children: aiApplyMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1902,\n                            columnNumber: 31\n                        }, this) : null,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-5 flex flex-wrap items-center justify-end gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10\",\n                                    type: \"button\",\n                                    onClick: ()=>setAiOpen(false),\n                                    children: \"Annuler\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1905,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                    type: \"button\",\n                                    onClick: ()=>void applyAiKeywords(),\n                                    disabled: aiApplyStatus === \"saving\" || !supabase,\n                                    children: aiApplyStatus === \"saving\" ? \"Application…\" : \"Appliquer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1912,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1904,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 1781,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1780,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true);\n}\n_s1(EditVideoModal, \"vwQRMRdSeozQKnB6IXRKRp140kc=\");\n_c1 = EditVideoModal;\nfunction TagsCell({ tags }) {\n    if (tags.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n            className: \"px-3 py-2 text-zinc-500\",\n            children: \"—\"\n        }, void 0, false, {\n            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n            lineNumber: 1930,\n            columnNumber: 12\n        }, this);\n    }\n    const shown = tags.slice(0, 3);\n    const remaining = tags.length - shown.length;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n        className: \"px-3 py-2\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex max-w-[240px] flex-wrap gap-1\",\n            children: [\n                shown.map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-zinc-200\",\n                        children: t.label\n                    }, t.id, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1940,\n                        columnNumber: 11\n                    }, this)),\n                remaining > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-zinc-300\",\n                    children: [\n                        \"+\",\n                        remaining\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 1948,\n                    columnNumber: 11\n                }, this) : null\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n            lineNumber: 1938,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 1937,\n        columnNumber: 5\n    }, this);\n}\n_c2 = TagsCell;\nfunction RowUploadDropzone({ state, onUpload }) {\n    _s2();\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dragActive, setDragActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const isUploading = state?.status === \"uploading\" || state?.status === \"saving\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full text-right\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                className: \"hidden\",\n                ref: inputRef,\n                type: \"file\",\n                accept: \"video/*\",\n                onChange: (e)=>{\n                    const selected = e.target.files?.[0];\n                    if (selected) onUpload(selected);\n                    e.currentTarget.value = \"\";\n                }\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1970,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `rounded-xl border px-3 py-2 text-xs font-semibold ${dragActive ? \"border-emerald-400/60 bg-emerald-500/10 text-emerald-100\" : \"border-emerald-400/30 bg-emerald-500/10 text-emerald-100 hover:bg-emerald-500/15\"} ${isUploading ? \"pointer-events-none opacity-70\" : \"\"}`,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (!isUploading) inputRef.current?.click();\n                },\n                onDragEnter: (e)=>{\n                    e.preventDefault();\n                    setDragActive(true);\n                },\n                onDragOver: (e)=>{\n                    e.preventDefault();\n                    setDragActive(true);\n                },\n                onDragLeave: (e)=>{\n                    e.preventDefault();\n                    setDragActive(false);\n                },\n                onDrop: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setDragActive(false);\n                    const dropped = e.dataTransfer.files?.[0];\n                    if (dropped && !isUploading) onUpload(dropped);\n                },\n                children: isUploading ? state?.status === \"saving\" ? \"Sauvegarde…\" : `Upload… ${state?.progress ?? 0}%` : \"Glisser / cliquer\"\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1981,\n                columnNumber: 7\n            }, this),\n            state?.status === \"error\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 text-xs text-red-400\",\n                children: state.message\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2019,\n                columnNumber: 9\n            }, this) : null,\n            state?.status === \"done\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 text-xs text-emerald-200\",\n                children: \"Upload OK ✅\"\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2022,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 1969,\n        columnNumber: 5\n    }, this);\n}\n_s2(RowUploadDropzone, \"K9mVfSkweTliARfzUZhc+l5fWQ8=\");\n_c3 = RowUploadDropzone;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"AdminPortfolioPage\");\n$RefreshReg$(_c1, \"EditVideoModal\");\n$RefreshReg$(_c2, \"TagsCell\");\n$RefreshReg$(_c3, \"RowUploadDropzone\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYWRtaW4vcG9ydGZvbGlvL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUMzQztBQUN3QjtBQUs3QjtBQUNtQztBQUVJO0FBSzVCO0FBRXJDLE1BQU1lLDBCQUEwQjtBQXVCaEMsU0FBU0MsY0FBY0MsS0FBYTtJQUNsQyxPQUFPQSxNQUNKQyxTQUFTLENBQUMsT0FDVkMsT0FBTyxDQUFDLG9CQUFvQixJQUM1QkEsT0FBTyxDQUFDLGFBQWEsS0FDckJDLFdBQVcsR0FDWEQsT0FBTyxDQUFDLGVBQWUsS0FDdkJFLElBQUksR0FDSkYsT0FBTyxDQUFDLFFBQVE7QUFDckI7QUFFQSxTQUFTRyxrQkFBa0JMLEtBQWE7SUFDdEMsT0FBT0QsY0FBY0MsT0FBT0UsT0FBTyxDQUFDLFFBQVE7QUFDOUM7QUFFQSxTQUFTSSxlQUFlQyxRQUFnQjtJQUN0QyxPQUFPQSxTQUFTTCxPQUFPLENBQUMsYUFBYTtBQUN2QztBQUVBLFNBQVNNLGtCQUFrQkQsUUFBZ0I7SUFDekMsTUFBTUUsT0FBT0gsZUFBZUM7SUFDNUIsTUFBTUcsYUFBYVgsY0FBY1U7SUFDakMsTUFBTUUsaUJBQWlCRCxXQUFXUixPQUFPLENBQUMsNEJBQTRCO0lBQ3RFLE9BQU9HLGtCQUFrQk07QUFDM0I7QUFFQSxTQUFTQyxlQUFlQyxPQUFzQjtJQUM1QyxJQUFJLENBQUNDLE9BQU9DLFFBQVEsQ0FBQ0YsVUFBVSxPQUFPO0lBQ3RDLE1BQU1HLFFBQVFDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxLQUFLLENBQUNOLFdBQVc7SUFDaEQsTUFBTU8sVUFBVUgsS0FBS0UsS0FBSyxDQUFDSCxRQUFRO0lBQ25DLE1BQU1LLFlBQVlMLFFBQVE7SUFDMUIsT0FBTyxHQUFHSSxRQUFRLENBQUMsRUFBRUUsT0FBT0QsV0FBV0UsUUFBUSxDQUFDLEdBQUcsTUFBTTtBQUMzRDtBQUVBLFNBQVNDLGtCQUFrQkMsV0FBMEI7SUFDbkQs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LE9BQU9sUCxXQUFXLHdCQUNqQiw4REFBQ2tNO2dCQUFJQyxXQUFVOzBCQUE2QitDLE1BQU12SixPQUFPOzs7Ozt1QkFDdkQ7WUFDSHVKLE9BQU9sUCxXQUFXLHVCQUNqQiw4REFBQ2tNO2dCQUFJQyxXQUFVOzBCQUFnQzs7Ozs7dUJBQzdDOzs7Ozs7O0FBR1Y7SUFyRVM4QztNQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3plcm9odWl0L0RvY3VtZW50cy9HaXRIdWIvemVyby1odWl0L3NyYy9hcHAvYWRtaW4vcG9ydGZvbGlvL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcbmltcG9ydCB7IGJ1ZGdldExldmVscywgZm9ybWF0Q2FkIH0gZnJvbSBcIkAvbGliL2J1ZGdldFwiO1xuaW1wb3J0IHtcbiAgY2xvdWRmbGFyZURvd25sb2FkU3JjLFxuICBjbG91ZGZsYXJlSWZyYW1lU3JjTm9BdXRvcGxheSxcbiAgY2xvdWRmbGFyZVRodW1ibmFpbFNyYyxcbn0gZnJvbSBcIkAvbGliL2Nsb3VkZmxhcmVcIjtcbmltcG9ydCB7IHVzZVN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3VzZUNsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBUYXhvbm9teSwgVGF4b25vbXlLaW5kLCBWaWRlbyB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuaW1wb3J0IHsgdXNlQWRtaW5TdGF0ZSB9IGZyb20gXCJAL2FwcC9hZG1pbi9faG9va3MvdXNlQWRtaW5TdGF0ZVwiO1xuaW1wb3J0IHtcbiAga2V5d29yZEdyb3VwS2luZHMsXG4gIG1lcmdlVGF4b25vbWllc0J5S2luZHMsXG4gIHRheG9ub215R3JvdXBzLFxufSBmcm9tIFwiQC9hcHAvYWRtaW4vX2xpYi90YXhvbm9taWVzXCI7XG5cbmNvbnN0IHBlbmRpbmdDbG91ZGZsYXJlUHJlZml4ID0gXCJwZW5kaW5nOlwiO1xuXG50eXBlIFVwbG9hZFN0YWdlID0gXCJxdWV1ZWRcIiB8IFwidXBsb2FkaW5nXCIgfCBcInNhdmluZ1wiIHwgXCJkb25lXCIgfCBcImVycm9yXCI7XG5cbnR5cGUgUm93VXBsb2FkU3RhdGUgPSB7XG4gIHN0YXR1czogVXBsb2FkU3RhZ2U7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmcgfCBudWxsO1xufTtcblxudHlwZSBCdWxrVXBsb2FkSXRlbSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgZmlsZTogRmlsZTtcbiAgdmlkZW86IFZpZGVvIHwgbnVsbDtcbiAgc3RhdHVzOiBVcGxvYWRTdGFnZTtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgbWVzc2FnZT86IHN0cmluZyB8IG51bGw7XG59O1xuXG50eXBlIFBlbmRpbmdNYXRjaFZpZGVvID0gUGljazxWaWRlbywgXCJpZFwiIHwgXCJ0aXRsZVwiIHwgXCJjbG91ZGZsYXJlX3VpZFwiPjtcblxudHlwZSBLZXl3b3JkU3VnZ2VzdGlvbnMgPSB7IGV4aXN0aW5nOiBzdHJpbmdbXTsgbmV3OiBzdHJpbmdbXSB9O1xuXG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHZhbHVlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHZhbHVlXG4gICAgLm5vcm1hbGl6ZShcIk5GRFwiKVxuICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiKVxuICAgIC5yZXBsYWNlKC9bXFx1MDBhMF0vZywgXCIgXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCBcIiBcIilcbiAgICAudHJpbSgpXG4gICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVNYXRjaEtleSh2YWx1ZTogc3RyaW5nKSB7XG4gIHJldHVybiBub3JtYWxpemVUZXh0KHZhbHVlKS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBzdHJpcEV4dGVuc2lvbihmaWxlbmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmaWxlbmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIik7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUZpbGVuYW1lKGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgYmFzZSA9IHN0cmlwRXh0ZW5zaW9uKGZpbGVuYW1lKTtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVRleHQoYmFzZSk7XG4gIGNvbnN0IHdpdGhvdXRWZXJzaW9uID0gbm9ybWFsaXplZC5yZXBsYWNlKC9cXGIoPzp2fHZlcnNpb24pXFxzKlxcZCtcXGIvZywgXCIgXCIpO1xuICByZXR1cm4gbm9ybWFsaXplTWF0Y2hLZXkod2l0aG91dFZlcnNpb24pO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREdXJhdGlvbihzZWNvbmRzOiBudW1iZXIgfCBudWxsKSB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHNlY29uZHMpKSByZXR1cm4gXCLigJRcIjtcbiAgY29uc3QgdG90YWwgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHNlY29uZHMgPz8gMCkpO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbCAvIDYwKTtcbiAgY29uc3QgcmVtYWluaW5nID0gdG90YWwgJSA2MDtcbiAgcmV0dXJuIGAke21pbnV0ZXN9OiR7U3RyaW5nKHJlbWFpbmluZykucGFkU3RhcnQoMiwgXCIwXCIpfWA7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWlGcmFtZVRpbWVzKGJhc2VTZWNvbmRzOiBudW1iZXIgfCBudWxsKSB7XG4gIGNvbnN0IGJhc2UgPVxuICAgIHR5cGVvZiBiYXNlU2Vjb25kcyA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUoYmFzZVNlY29uZHMpXG4gICAgICA/IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoYmFzZVNlY29uZHMpKVxuICAgICAgOiAxO1xuICBjb25zdCBjYW5kaWRhdGVzID0gW2Jhc2UsIGJhc2UgKyAzLCBiYXNlICsgNiwgYmFzZSArIDksIGJhc2UgKyAxMl07XG4gIGNvbnN0IHVuaXF1ZSA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICBjb25zdCB0aW1lczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgaWYgKHVuaXF1ZS5oYXModmFsdWUpKSBjb250aW51ZTtcbiAgICB1bmlxdWUuYWRkKHZhbHVlKTtcbiAgICB0aW1lcy5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdGltZXMuc2xpY2UoMCwgNSk7XG59XG5cbmZ1bmN0aW9uIGlzUGVuZGluZ1ZpZGVvVWlkKHVpZDogc3RyaW5nKSB7XG4gIHJldHVybiB1aWQuc3RhcnRzV2l0aChwZW5kaW5nQ2xvdWRmbGFyZVByZWZpeCk7XG59XG5cbmZ1bmN0aW9uIHVwbG9hZEZpbGVXaXRoUHJvZ3Jlc3MoXG4gIHVwbG9hZFVSTDogc3RyaW5nLFxuICBmaWxlOiBGaWxlLFxuICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBudW1iZXIpID0+IHZvaWQsXG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihcIlBPU1RcIiwgdXBsb2FkVVJMKTtcblxuICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFvblByb2dyZXNzKSByZXR1cm47XG4gICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZCgoZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpICogMTAwKTtcbiAgICAgICAgb25Qcm9ncmVzcyhNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIHBlcmNlbnQpKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICBvblByb2dyZXNzPy4oMTAwKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dCB8fCBcIlVwbG9hZCBDbG91ZGZsYXJlIMOpY2hvdcOpLlwiO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcih0ZXh0KSk7XG4gICAgfTtcblxuICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlVwbG9hZCBDbG91ZGZsYXJlIMOpY2hvdcOpLlwiKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcbiAgICB4aHIuc2VuZChmb3JtRGF0YSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZG1pblBvcnRmb2xpb1BhZ2UoKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gdXNlU3VwYWJhc2VDbGllbnQoKTtcbiAgY29uc3QgeyBpc0FkbWluIH0gPSB1c2VBZG1pblN0YXRlKHN1cGFiYXNlKTtcblxuICBjb25zdCBwYWdlU2l6ZSA9IDUwO1xuICBjb25zdCBbdGF4b25vbWllcywgc2V0VGF4b25vbWllc10gPSB1c2VTdGF0ZTxUYXhvbm9teVtdPihbXSk7XG4gIGNvbnN0IFt2aWRlb3MsIHNldFZpZGVvc10gPSB1c2VTdGF0ZTxWaWRlb1tdPihbXSk7XG4gIGNvbnN0IFt2aWRlb3NNZXNzYWdlLCBzZXRWaWRlb3NNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZWRpdGluZ1ZpZGVvLCBzZXRFZGl0aW5nVmlkZW9dID0gdXNlU3RhdGU8VmlkZW8gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3RvdGFsVmlkZW9zLCBzZXRUb3RhbFZpZGVvc10gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYnVkZ2V0TWluSW5kZXgsIHNldEJ1ZGdldE1pbkluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbYnVkZ2V0TWF4SW5kZXgsIHNldEJ1ZGdldE1heEluZGV4XSA9IHVzZVN0YXRlKGJ1ZGdldExldmVscy5sZW5ndGggLSAxKTtcbiAgY29uc3QgW3RodW1iU2Vjb25kcywgc2V0VGh1bWJTZWNvbmRzXSA9IHVzZVN0YXRlPG51bWJlcj4oMSk7XG4gIGNvbnN0IFtkdXJhdGlvblNlY29uZHMsIHNldER1cmF0aW9uU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkVGF4b25vbXlJZHMsIHNldFNlbGVjdGVkVGF4b25vbXlJZHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KFxuICAgIG5ldyBTZXQoKSxcbiAgKTtcbiAgY29uc3QgW2ZpbGUsIHNldEZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXBsb2FkU3RhdGUsIHNldFVwbG9hZFN0YXRlXSA9IHVzZVN0YXRlPFxuICAgIFwiaWRsZVwiIHwgXCJyZXF1ZXN0aW5nXCIgfCBcInVwbG9hZGluZ1wiIHwgXCJzYXZpbmdcIiB8IFwiZG9uZVwiIHwgXCJlcnJvclwiXG4gID4oXCJpZGxlXCIpO1xuICBjb25zdCBbdXBsb2FkTWVzc2FnZSwgc2V0VXBsb2FkTWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VwbG9hZFByb2dyZXNzLCBzZXRVcGxvYWRQcm9ncmVzc10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbcm93VXBsb2Fkcywgc2V0Um93VXBsb2Fkc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBSb3dVcGxvYWRTdGF0ZT4+KHt9KTtcbiAgY29uc3QgW2J1bGtVcGxvYWRzLCBzZXRCdWxrVXBsb2Fkc10gPSB1c2VTdGF0ZTxCdWxrVXBsb2FkSXRlbVtdPihbXSk7XG4gIGNvbnN0IFtidWxrTWVzc2FnZSwgc2V0QnVsa01lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtidWxrRHJvcEFjdGl2ZSwgc2V0QnVsa0Ryb3BBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBidWxrSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtkdXJhdGlvblJlZnJlc2hTdGF0ZSwgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGVdID0gdXNlU3RhdGU8XG4gICAgXCJpZGxlXCIgfCBcImxvYWRpbmdcIiB8IFwiZXJyb3JcIlxuICA+KFwiaWRsZVwiKTtcbiAgY29uc3QgW2R1cmF0aW9uUmVmcmVzaE1lc3NhZ2UsIHNldER1cmF0aW9uUmVmcmVzaE1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4oXG4gICAgbnVsbCxcbiAgKTtcblxuICBjb25zdCBncm91cGVkVGF4b25vbWllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwczogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT4gPSB7XG4gICAgICB0eXBlOiBbXSxcbiAgICAgIG9iamVjdGlmOiBbXSxcbiAgICAgIGtleXdvcmQ6IFtdLFxuICAgICAgc3R5bGU6IFtdLFxuICAgICAgZmVlbDogW10sXG4gICAgICBwYXJhbWV0cmU6IFtdLFxuICAgIH07XG4gICAgZm9yIChjb25zdCB0IG9mIHRheG9ub21pZXMpIGdyb3Vwc1t0LmtpbmRdLnB1c2godCk7XG4gICAgZm9yIChjb25zdCBraW5kIG9mIE9iamVjdC5rZXlzKGdyb3VwcykgYXMgVGF4b25vbXlLaW5kW10pIHtcbiAgICAgIGdyb3Vwc1traW5kXS5zb3J0KChhLCBiKSA9PiBhLmxhYmVsLmxvY2FsZUNvbXBhcmUoYi5sYWJlbCwgXCJmclwiKSk7XG4gICAgfVxuICAgIHJldHVybiBncm91cHM7XG4gIH0sIFt0YXhvbm9taWVzXSk7XG5cbiAgY29uc3QgcmVmcmVzaFRheG9ub21pZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwidGF4b25vbWllc1wiKVxuICAgICAgLnNlbGVjdChcImlkLGtpbmQsbGFiZWxcIilcbiAgICAgIC5vcmRlcihcImxhYmVsXCIpO1xuICAgIHNldFRheG9ub21pZXMoKGRhdGEgPz8gW10pIGFzIFRheG9ub215W10pO1xuICB9LCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCB0b2dnbGVGZWF0dXJlZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICAgIGlmICghc3VwYWJhc2UpIHJldHVybjtcbiAgICAgIGNvbnN0IG5leHRWYWx1ZSA9ICF2aWRlby5pc19mZWF0dXJlZDtcbiAgICAgIHNldFZpZGVvcygocHJldikgPT5cbiAgICAgICAgcHJldi5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gdmlkZW8uaWQgPyB7IC4uLml0ZW0sIGlzX2ZlYXR1cmVkOiBuZXh0VmFsdWUgfSA6IGl0ZW0sXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgICAgLnVwZGF0ZSh7IGlzX2ZlYXR1cmVkOiBuZXh0VmFsdWUgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgdmlkZW8uaWQpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNldFZpZGVvcygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHZpZGVvLmlkID8geyAuLi5pdGVtLCBpc19mZWF0dXJlZDogdmlkZW8uaXNfZmVhdHVyZWQgfSA6IGl0ZW0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VmlkZW9zTWVzc2FnZShlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzdXBhYmFzZV0sXG4gICk7XG5cbiAgY29uc3QgcmVmcmVzaFZpZGVvcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgc2V0VmlkZW9zTWVzc2FnZShudWxsKTtcbiAgICBjb25zdCBmcm9tID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBwYWdlU2l6ZTtcbiAgICBjb25zdCB0byA9IGZyb20gKyBwYWdlU2l6ZSAtIDE7XG4gICAgY29uc3QgW1xuICAgICAgeyBkYXRhOiByYXdWaWRlb3MsIGVycm9yOiB2aWRlb3NFcnJvciwgY291bnQ6IHZpZGVvc0NvdW50IH0sXG4gICAgICB7IGRhdGE6IHJhd1RheG9ub21pZXMsIGVycm9yOiB0YXhvbm9taWVzRXJyb3IgfSxcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgICAgLnNlbGVjdChcbiAgICAgICAgICBcImlkLHRpdGxlLGNsb3VkZmxhcmVfdWlkLHN0YXR1cyx0aHVtYm5haWxfdGltZV9zZWNvbmRzLGR1cmF0aW9uX3NlY29uZHMsYnVkZ2V0X21pbixidWRnZXRfbWF4LGlzX2ZlYXR1cmVkLGNyZWF0ZWRfYXRcIixcbiAgICAgICAgICB7IGNvdW50OiBcImV4YWN0XCIgfSxcbiAgICAgICAgKVxuICAgICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAucmFuZ2UoZnJvbSwgdG8pLFxuICAgICAgc3VwYWJhc2UuZnJvbShcInRheG9ub21pZXNcIikuc2VsZWN0KFwiaWQsa2luZCxsYWJlbFwiKSxcbiAgICBdKTtcblxuICAgIGxldCByYXdMaW5rczogeyB2aWRlb19pZDogc3RyaW5nOyB0YXhvbm9teV9pZDogc3RyaW5nIH1bXSA9IFtdO1xuICAgIGxldCBsaW5rc0Vycm9yOiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuICAgIGlmICghdmlkZW9zRXJyb3IgJiYgKHJhd1ZpZGVvcyA/PyBbXSkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb190YXhvbm9taWVzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJ2aWRlb19pZCx0YXhvbm9teV9pZFwiKVxuICAgICAgICAuaW4oXG4gICAgICAgICAgXCJ2aWRlb19pZFwiLFxuICAgICAgICAgIChyYXdWaWRlb3MgPz8gW10pLm1hcCgodmlkZW8pID0+IHZpZGVvLmlkKSxcbiAgICAgICAgKTtcbiAgICAgIHJhd0xpbmtzID0gKGRhdGEgPz8gW10pIGFzIHsgdmlkZW9faWQ6IHN0cmluZzsgdGF4b25vbXlfaWQ6IHN0cmluZyB9W107XG4gICAgICBsaW5rc0Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvc0Vycm9yIHx8IGxpbmtzRXJyb3IgfHwgdGF4b25vbWllc0Vycm9yKSB7XG4gICAgICBzZXRWaWRlb3NNZXNzYWdlKFxuICAgICAgICB2aWRlb3NFcnJvcj8ubWVzc2FnZSA/PyBsaW5rc0Vycm9yPy5tZXNzYWdlID8/IHRheG9ub21pZXNFcnJvcj8ubWVzc2FnZSA/PyBcIkVycmV1clwiLFxuICAgICAgKTtcbiAgICAgIHNldFZpZGVvcyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x2ZWRUYXhvbm9taWVzID0gKHJhd1RheG9ub21pZXMgPz8gW10pIGFzIFRheG9ub215W107XG4gICAgc2V0VGF4b25vbWllcyhyZXNvbHZlZFRheG9ub21pZXMpO1xuICAgIHNldFRvdGFsVmlkZW9zKHZpZGVvc0NvdW50ID8/IDApO1xuXG4gICAgY29uc3QgdGF4b25vbXlCeUlkID0gbmV3IE1hcDxzdHJpbmcsIFRheG9ub215PigpO1xuICAgIGZvciAoY29uc3QgdCBvZiByZXNvbHZlZFRheG9ub21pZXMpIHRheG9ub215QnlJZC5zZXQodC5pZCwgdCk7XG5cbiAgICBjb25zdCB0YXhvbm9teUlkc0J5VmlkZW9JZCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiAocmF3TGlua3MgPz8gW10pIGFzIHsgdmlkZW9faWQ6IHN0cmluZzsgdGF4b25vbXlfaWQ6IHN0cmluZyB9W10pIHtcbiAgICAgIGNvbnN0IGxpc3QgPSB0YXhvbm9teUlkc0J5VmlkZW9JZC5nZXQocm93LnZpZGVvX2lkKSA/PyBbXTtcbiAgICAgIGxpc3QucHVzaChyb3cudGF4b25vbXlfaWQpO1xuICAgICAgdGF4b25vbXlJZHNCeVZpZGVvSWQuc2V0KHJvdy52aWRlb19pZCwgbGlzdCk7XG4gICAgfVxuXG4gICAgY29uc3QgaHlkcmF0ZWRWaWRlb3M6IFZpZGVvW10gPSAoKHJhd1ZpZGVvcyA/PyBbXSkgYXMgT21pdDxWaWRlbywgXCJ0YXhvbm9taWVzXCI+W10pLm1hcChcbiAgICAgICh2KSA9PiAoe1xuICAgICAgICAuLi52LFxuICAgICAgICB0YXhvbm9taWVzOiAodGF4b25vbXlJZHNCeVZpZGVvSWQuZ2V0KHYuaWQpID8/IFtdKVxuICAgICAgICAgIC5tYXAoKGlkKSA9PiB0YXhvbm9teUJ5SWQuZ2V0KGlkKSlcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIFRheG9ub215W10sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgc2V0VmlkZW9zKGh5ZHJhdGVkVmlkZW9zKTtcbiAgfSwgW3N1cGFiYXNlLCBjdXJyZW50UGFnZSwgcGFnZVNpemVdKTtcblxuICBjb25zdCByZWZyZXNoTWlzc2luZ0R1cmF0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0cyA9IHZpZGVvcy5maWx0ZXIoXG4gICAgICAodmlkZW8pID0+XG4gICAgICAgICFpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkgJiZcbiAgICAgICAgIU51bWJlci5pc0Zpbml0ZSh2aWRlby5kdXJhdGlvbl9zZWNvbmRzKSxcbiAgICApO1xuICAgIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGUoXCJpZGxlXCIpO1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoTWVzc2FnZShcIkF1Y3VuZSBkdXLDqWUgbWFucXVhbnRlLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGUoXCJsb2FkaW5nXCIpO1xuICAgIHNldER1cmF0aW9uUmVmcmVzaE1lc3NhZ2UoYExlY3R1cmUgZGUgJHt0YXJnZXRzLmxlbmd0aH0gdmlkw6lvKHMp4oCmYCk7XG4gICAgbGV0IHVwZGF0ZWRDb3VudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdGFyZ2V0cykge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGF3YWl0IGZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uKHZpZGVvLmNsb3VkZmxhcmVfdWlkKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb24pKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZpZGVvc1wiKVxuICAgICAgICAgIC51cGRhdGUoeyBkdXJhdGlvbl9zZWNvbmRzOiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGR1cmF0aW9uID8/IDApKSB9KVxuICAgICAgICAgIC5lcShcImlkXCIsIHZpZGVvLmlkKTtcbiAgICAgICAgaWYgKCFlcnJvcikgdXBkYXRlZENvdW50ICs9IDE7XG4gICAgICB9XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hTdGF0ZShcImlkbGVcIik7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hNZXNzYWdlKFxuICAgICAgICBgRHVyw6llKHMpIG1pc2Uocykgw6Agam91cjogJHt1cGRhdGVkQ291bnR9LyR7dGFyZ2V0cy5sZW5ndGh9LmAsXG4gICAgICApO1xuICAgICAgYXdhaXQgcmVmcmVzaFZpZGVvcygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldER1cmF0aW9uUmVmcmVzaFN0YXRlKFwiZXJyb3JcIik7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hNZXNzYWdlKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiRXJyZXVyXCIpO1xuICAgIH1cbiAgfSwgW2ZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uLCBpc0FkbWluLCByZWZyZXNoVmlkZW9zLCBzdXBhYmFzZSwgdmlkZW9zXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgdm9pZCByZWZyZXNoVGF4b25vbWllcygpO1xuICAgIHZvaWQgcmVmcmVzaFZpZGVvcygpO1xuICB9LCBbc3VwYWJhc2UsIHJlZnJlc2hUYXhvbm9taWVzLCByZWZyZXNoVmlkZW9zXSk7XG5cbiAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCh0b3RhbFZpZGVvcyAvIHBhZ2VTaXplKSk7XG4gIGNvbnN0IHBlbmRpbmdWaWRlb3MgPSB1c2VNZW1vKFxuICAgICgpID0+IHZpZGVvcy5maWx0ZXIoKHZpZGVvKSA9PiBpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkpLFxuICAgIFt2aWRlb3NdLFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgc2V0Q3VycmVudFBhZ2UodG90YWxQYWdlcyk7XG4gICAgfVxuICB9LCBbY3VycmVudFBhZ2UsIHRvdGFsUGFnZXNdKTtcblxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVEaXJlY3RVcGxvYWQoKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKFwiU3VwYWJhc2Ugbm9uIGluaXRpYWxpc8OpLlwiKTtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHNlc3Npb25EYXRhLnNlc3Npb24/LmFjY2Vzc190b2tlbjtcbiAgICBpZiAoIWFjY2Vzc1Rva2VuKSB0aHJvdyBuZXcgRXJyb3IoXCJOb24gY29ubmVjdMOpLlwiKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2Nsb3VkZmxhcmUvZGlyZWN0LXVwbG9hZFwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QganNvbiA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzXG4gICAgICB8IHsgdXBsb2FkVVJMOiBzdHJpbmc7IHVpZDogc3RyaW5nIH1cbiAgICAgIHwgeyBlcnJvcjogc3RyaW5nOyBkZXRhaWxzPzogc3RyaW5nIH07XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IFwiZXJyb3JcIiBpbiBqc29uKSB7XG4gICAgICBjb25zdCBkZXRhaWxzID0gXCJkZXRhaWxzXCIgaW4ganNvbiA/IGA6ICR7anNvbi5kZXRhaWxzfWAgOiBcIlwiO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChcImVycm9yXCIgaW4ganNvbiA/IGpzb24uZXJyb3IgOiBcIkVycmV1clwiKSArIGRldGFpbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hDbG91ZGZsYXJlRHVyYXRpb24odWlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoXCJTdXBhYmFzZSBub24gaW5pdGlhbGlzw6kuXCIpO1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuICAgIGlmICghYWNjZXNzVG9rZW4pIHRocm93IG5ldyBFcnJvcihcIk5vbiBjb25uZWN0w6kuXCIpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAvYXBpL2Nsb3VkZmxhcmUvdmlkZW8taW5mbz91aWQ9JHtlbmNvZGVVUklDb21wb25lbnQodWlkKX1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXNcbiAgICAgIHwgeyBkdXJhdGlvblNlY29uZHM6IG51bWJlciB8IG51bGwgfVxuICAgICAgfCB7IGVycm9yOiBzdHJpbmc7IGRldGFpbHM/OiBzdHJpbmcgfTtcblxuICAgIGlmICghcmVzcG9uc2Uub2sgfHwgXCJlcnJvclwiIGluIGpzb24pIHtcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBcImRldGFpbHNcIiBpbiBqc29uID8gYDogJHtqc29uLmRldGFpbHN9YCA6IFwiXCI7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiZXJyb3JcIiBpbiBqc29uID8ganNvbi5lcnJvciA6IFwiRXJyZXVyXCIpICsgZGV0YWlscyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb24uZHVyYXRpb25TZWNvbmRzID8/IG51bGw7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGxvYWRUb0Nsb3VkZmxhcmUoXG4gICAgdXBsb2FkRmlsZTogRmlsZSxcbiAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBudW1iZXIpID0+IHZvaWQsXG4gICkge1xuICAgIGNvbnN0IHsgdXBsb2FkVVJMLCB1aWQgfSA9IGF3YWl0IGNyZWF0ZURpcmVjdFVwbG9hZCgpO1xuICAgIGF3YWl0IHVwbG9hZEZpbGVXaXRoUHJvZ3Jlc3ModXBsb2FkVVJMLCB1cGxvYWRGaWxlLCBvblByb2dyZXNzKTtcbiAgICByZXR1cm4gdWlkO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkVmlkZW8oKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIHNldFVwbG9hZE1lc3NhZ2UobnVsbCk7XG4gICAgc2V0VXBsb2FkU3RhdGUoXCJyZXF1ZXN0aW5nXCIpO1xuICAgIHNldFVwbG9hZFByb2dyZXNzKG51bGwpO1xuXG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIkNob2lzaXMgdW4gZmljaGllciB2aWTDqW8uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRpdGxlLnRyaW0oKSkge1xuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJlcnJvclwiKTtcbiAgICAgIHNldFVwbG9hZE1lc3NhZ2UoXCJUaXRyZSByZXF1aXMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcInVwbG9hZGluZ1wiKTtcbiAgICAgIHNldFVwbG9hZFByb2dyZXNzKDApO1xuICAgICAgY29uc3QgdWlkID0gYXdhaXQgdXBsb2FkVG9DbG91ZGZsYXJlKGZpbGUsIChwcm9ncmVzcykgPT4ge1xuICAgICAgICBzZXRVcGxvYWRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICB9KTtcbiAgICAgIGxldCBkdXJhdGlvbkZyb21DbG91ZGZsYXJlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGR1cmF0aW9uRnJvbUNsb3VkZmxhcmUgPSBhd2FpdCBmZXRjaENsb3VkZmxhcmVEdXJhdGlvbih1aWQpO1xuICAgICAgICBzZXREdXJhdGlvblNlY29uZHMoZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNldFVwbG9hZFN0YXRlKFwic2F2aW5nXCIpO1xuICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnRlZCwgZXJyb3I6IHZpZGVvRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmlkZW9zXCIpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIHRpdGxlOiB0aXRsZS50cmltKCksXG4gICAgICAgICAgY2xvdWRmbGFyZV91aWQ6IHVpZCxcbiAgICAgICAgICBzdGF0dXM6IFwicHJvY2Vzc2luZ1wiLFxuICAgICAgICAgIHRodW1ibmFpbF90aW1lX3NlY29uZHM6IE51bWJlci5pc0Zpbml0ZSh0aHVtYlNlY29uZHMpXG4gICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodGh1bWJTZWNvbmRzKSlcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICBkdXJhdGlvbl9zZWNvbmRzOiBOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSlcbiAgICAgICAgICAgID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihkdXJhdGlvbkZyb21DbG91ZGZsYXJlID8/IDApKVxuICAgICAgICAgICAgOiBOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25TZWNvbmRzKVxuICAgICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzID8/IDApKVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgYnVkZ2V0X21pbjogYnVkZ2V0TGV2ZWxzW2J1ZGdldE1pbkluZGV4XSxcbiAgICAgICAgICBidWRnZXRfbWF4OiBidWRnZXRMZXZlbHNbYnVkZ2V0TWF4SW5kZXhdLFxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAodmlkZW9FcnJvciB8fCAhaW5zZXJ0ZWQ/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih2aWRlb0Vycm9yPy5tZXNzYWdlID8/IFwiRXJyZXVyIERCICh2aWRlb3MpXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXhvbm9teUlkcyA9IEFycmF5LmZyb20oc2VsZWN0ZWRUYXhvbm9teUlkcyk7XG4gICAgICBpZiAodGF4b25vbXlJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByb3dzID0gdGF4b25vbXlJZHMubWFwKCh0YXhvbm9teUlkKSA9PiAoe1xuICAgICAgICAgIHZpZGVvX2lkOiBpbnNlcnRlZC5pZCxcbiAgICAgICAgICB0YXhvbm9teV9pZDogdGF4b25vbXlJZCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCB7IGVycm9yOiBsaW5rRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2aWRlb190YXhvbm9taWVzXCIpXG4gICAgICAgICAgLmluc2VydChyb3dzKTtcbiAgICAgICAgaWYgKGxpbmtFcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihsaW5rRXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJkb25lXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIlZpZMOpbyBham91dMOpZS4gKExlIHN0YXR1dCAncmVhZHknIHNlcmEgZ8OpcsOpIHBsdXMgdGFyZC4pXCIpO1xuICAgICAgc2V0VGl0bGUoXCJcIik7XG4gICAgICBzZXRGaWxlKG51bGwpO1xuICAgICAgc2V0VXBsb2FkUHJvZ3Jlc3MobnVsbCk7XG4gICAgICBzZXREdXJhdGlvblNlY29uZHMobnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZFRheG9ub215SWRzKG5ldyBTZXQoKSk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJlcnJvclwiKTtcbiAgICAgIHNldFVwbG9hZE1lc3NhZ2UoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXJcIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gYXR0YWNoVXBsb2FkVG9WaWRlbyhcbiAgICB2aWRlbzogVmlkZW8sXG4gICAgdXBsb2FkRmlsZTogRmlsZSxcbiAgICBvcHRpb25zPzoge1xuICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkO1xuICAgICAgb25TdGFnZT86IChzdGFnZTogXCJ1cGxvYWRpbmdcIiB8IFwic2F2aW5nXCIpID0+IHZvaWQ7XG4gICAgfSxcbiAgKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGlmICghaXNBZG1pbikgdGhyb3cgbmV3IEVycm9yKFwiQWNjw6hzIHJlZnVzw6kgKGFkbWluIHJlcXVpcykuXCIpO1xuXG4gICAgb3B0aW9ucz8ub25TdGFnZT8uKFwidXBsb2FkaW5nXCIpO1xuICAgIGNvbnN0IHVpZCA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRmbGFyZSh1cGxvYWRGaWxlLCBvcHRpb25zPy5vblByb2dyZXNzKTtcblxuICAgIG9wdGlvbnM/Lm9uU3RhZ2U/LihcInNhdmluZ1wiKTtcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwidmlkZW9zXCIpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgY2xvdWRmbGFyZV91aWQ6IHVpZCxcbiAgICAgICAgc3RhdHVzOiBcInByb2Nlc3NpbmdcIixcbiAgICAgICAgdGh1bWJuYWlsX3RpbWVfc2Vjb25kczogdmlkZW8udGh1bWJuYWlsX3RpbWVfc2Vjb25kcyA/PyAxLFxuICAgICAgfSlcbiAgICAgIC5lcShcImlkXCIsIHZpZGVvLmlkKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikgdGhyb3cgbmV3IEVycm9yKHVwZGF0ZUVycm9yLm1lc3NhZ2UpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVmlkZW8odmlkZW86IFZpZGVvKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGlmICghY29uZmlybShgU3VwcHJpbWVyIFwiJHt2aWRlby50aXRsZX1cIiBkZSBTdXBhYmFzZT8gKExhIHZpZMOpbyByZXN0ZXJhIHN1ciBDbG91ZGZsYXJlKWApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFZpZGVvc01lc3NhZ2UobnVsbCk7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInZpZGVvc1wiKS5kZWxldGUoKS5lcShcImlkXCIsIHZpZGVvLmlkKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHNldFZpZGVvc01lc3NhZ2UoZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHJlZnJlc2hWaWRlb3MoKTtcbiAgfVxuXG4gIGNvbnN0IGFsbFRheG9ub215SWRzID0gdXNlTWVtbygoKSA9PiBuZXcgU2V0KHRheG9ub21pZXMubWFwKCh0KSA9PiB0LmlkKSksIFt0YXhvbm9taWVzXSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlUm93VXBsb2FkKHZpZGVvSWQ6IHN0cmluZywgbmV4dDogUGFydGlhbDxSb3dVcGxvYWRTdGF0ZT4pIHtcbiAgICBzZXRSb3dVcGxvYWRzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldlt2aWRlb0lkXSA/PyB7IHN0YXR1czogXCJxdWV1ZWRcIiwgcHJvZ3Jlc3M6IDAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFt2aWRlb0lkXToge1xuICAgICAgICAgIC4uLmN1cnJlbnQsXG4gICAgICAgICAgLi4ubmV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdGFydFJvd1VwbG9hZCh2aWRlbzogVmlkZW8sIHVwbG9hZEZpbGU6IEZpbGUpIHtcbiAgICBpZiAoIWlzQWRtaW4pIHtcbiAgICAgIHVwZGF0ZVJvd1VwbG9hZCh2aWRlby5pZCwge1xuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQWNjw6hzIHJlZnVzw6kgKGFkbWluIHJlcXVpcykuXCIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7XG4gICAgICBzdGF0dXM6IFwidXBsb2FkaW5nXCIsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIG1lc3NhZ2U6IG51bGwsXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGF0dGFjaFVwbG9hZFRvVmlkZW8odmlkZW8sIHVwbG9hZEZpbGUsIHtcbiAgICAgICAgb25Qcm9ncmVzczogKHByb2dyZXNzKSA9PiB1cGRhdGVSb3dVcGxvYWQodmlkZW8uaWQsIHsgcHJvZ3Jlc3MgfSksXG4gICAgICAgIG9uU3RhZ2U6IChzdGFnZSkgPT5cbiAgICAgICAgICB1cGRhdGVSb3dVcGxvYWQodmlkZW8uaWQsIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhZ2UgPT09IFwic2F2aW5nXCIgPyBcInNhdmluZ1wiIDogXCJ1cGxvYWRpbmdcIixcbiAgICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7IHN0YXR1czogXCJkb25lXCIsIHByb2dyZXNzOiAxMDAgfSk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7XG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgICBtZXNzYWdlOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIkVycmV1clwiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFBlbmRpbmdWaWRlb3NGb3JNYXRjaCgpOiBQcm9taXNlPFBlbmRpbmdNYXRjaFZpZGVvW10+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gcGVuZGluZ1ZpZGVvcztcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgIC5zZWxlY3QoXCJpZCx0aXRsZSxjbG91ZGZsYXJlX3VpZFwiKVxuICAgICAgLmxpa2UoXCJjbG91ZGZsYXJlX3VpZFwiLCBgJHtwZW5kaW5nQ2xvdWRmbGFyZVByZWZpeH0lYCk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRCdWxrTWVzc2FnZShlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBwZW5kaW5nVmlkZW9zO1xuICAgIH1cbiAgICByZXR1cm4gKGRhdGEgPz8gW10pIGFzIFBlbmRpbmdNYXRjaFZpZGVvW107XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBlbnF1ZXVlQnVsa1VwbG9hZHMoZmlsZXM6IEZpbGVbXSkge1xuICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47XG4gICAgc2V0QnVsa01lc3NhZ2UobnVsbCk7XG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXRCdWxrTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZW5kaW5nTWF0Y2hlcyA9IGF3YWl0IGxvYWRQZW5kaW5nVmlkZW9zRm9yTWF0Y2goKTtcbiAgICBjb25zdCBwZW5kaW5nQnlUaXRsZSA9IG5ldyBNYXA8c3RyaW5nLCBWaWRlb1tdPigpO1xuICAgIGZvciAoY29uc3QgdmlkZW8gb2YgcGVuZGluZ01hdGNoZXMpIHtcbiAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZU1hdGNoS2V5KHZpZGVvLnRpdGxlKTtcbiAgICAgIGNvbnN0IGxpc3QgPSBwZW5kaW5nQnlUaXRsZS5nZXQoa2V5KSA/PyBbXTtcbiAgICAgIGxpc3QucHVzaCh2aWRlbyBhcyBWaWRlbyk7XG4gICAgICBwZW5kaW5nQnlUaXRsZS5zZXQoa2V5LCBsaXN0KTtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdJdGVtczogQnVsa1VwbG9hZEl0ZW1bXSA9IGZpbGVzLm1hcCgodXBsb2FkRmlsZSkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gbm9ybWFsaXplRmlsZW5hbWUodXBsb2FkRmlsZS5uYW1lKTtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBwZW5kaW5nQnlUaXRsZS5nZXQoa2V5KTtcbiAgICAgIGNvbnN0IHZpZGVvID0gbWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDAgPyBtYXRjaGVzLnNoaWZ0KCkgPz8gbnVsbCA6IG51bGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgZmlsZTogdXBsb2FkRmlsZSxcbiAgICAgICAgdmlkZW8sXG4gICAgICAgIHN0YXR1czogdmlkZW8gPyBcInF1ZXVlZFwiIDogXCJlcnJvclwiLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgbWVzc2FnZTogdmlkZW9cbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IFwiQXVjdW5lIHZpZMOpbyBlbiBhdHRlbnRlIHRyb3V2w6llIHBvdXIgY2Ugbm9tIGRlIGZpY2hpZXIuXCIsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+IFsuLi5uZXdJdGVtcywgLi4ucHJldl0pO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIG5ld0l0ZW1zKSB7XG4gICAgICBpZiAoIWl0ZW0udmlkZW8pIGNvbnRpbnVlO1xuICAgICAgdm9pZCBzdGFydEJ1bGtVcGxvYWQoaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRCdWxrVXBsb2FkKGl0ZW06IEJ1bGtVcGxvYWRJdGVtKSB7XG4gICAgaWYgKCFpdGVtLnZpZGVvKSByZXR1cm47XG4gICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkXG4gICAgICAgICAgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IFwidXBsb2FkaW5nXCIsIHByb2dyZXNzOiAwLCBtZXNzYWdlOiBudWxsIH1cbiAgICAgICAgICA6IGVudHJ5LFxuICAgICAgKSxcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhdHRhY2hVcGxvYWRUb1ZpZGVvKGl0ZW0udmlkZW8sIGl0ZW0uZmlsZSwge1xuICAgICAgICBvblByb2dyZXNzOiAocHJvZ3Jlc3MpID0+XG4gICAgICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkID8geyAuLi5lbnRyeSwgcHJvZ3Jlc3MgfSA6IGVudHJ5LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApLFxuICAgICAgICBvblN0YWdlOiAoc3RhZ2UpID0+XG4gICAgICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkXG4gICAgICAgICAgICAgICAgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IHN0YWdlID09PSBcInNhdmluZ1wiID8gXCJzYXZpbmdcIiA6IFwidXBsb2FkaW5nXCIgfVxuICAgICAgICAgICAgICAgIDogZW50cnksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICksXG4gICAgICB9KTtcbiAgICAgIHNldEJ1bGtVcGxvYWRzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgZW50cnkuaWQgPT09IGl0ZW0uaWQgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IFwiZG9uZVwiLCBwcm9ncmVzczogMTAwIH0gOiBlbnRyeSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChlbnRyeSkgPT5cbiAgICAgICAgICBlbnRyeS5pZCA9PT0gaXRlbS5pZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXJcIixcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBlbnRyeSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdG90YWxQYWdlc1RleHQgPSBgUGFnZSAke2N1cnJlbnRQYWdlfSAvICR7dG90YWxQYWdlc30gKCR7dG90YWxWaWRlb3N9KWA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgdy1mdWxsIGdyaWQtY29scy0xIGdhcC00IGxnOmdyaWQtY29scy0yXCI+XG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTUwLzQwIHAtNCBiYWNrZHJvcC1ibHVyIGxnOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPlVwbG9hZGVyIHVuZSB2aWTDqW88L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZ3JpZCBncmlkLWNvbHMtMSBnYXAtNCBsZzpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2tcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+VGl0cmU8L2Rpdj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtemluYy0xMDAgcGxhY2Vob2xkZXI6dGV4dC16aW5jLTUwMFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkJ1ZGdldCBtaW48L2Rpdj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXppbmMtMTAwXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtidWRnZXRNaW5JbmRleH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnVkZ2V0TWluSW5kZXgoTWF0aC5taW4obmV4dCwgYnVkZ2V0TWF4SW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2J1ZGdldExldmVscy5tYXAoKGIsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Yn0gdmFsdWU9e2lkeH0+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdENhZChiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+QnVkZ2V0IG1heDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtemluYy0xMDBcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2J1ZGdldE1heEluZGV4fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRCdWRnZXRNYXhJbmRleChNYXRoLm1heChuZXh0LCBidWRnZXRNaW5JbmRleCkpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7YnVkZ2V0TGV2ZWxzLm1hcCgoYiwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtifSB2YWx1ZT17aWR4fT5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Q2FkKGIpfVxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5UaHVtYm5haWwgKHNlY29uZGVzKTwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC16aW5jLTEwMFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RodW1iU2Vjb25kc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRodW1iU2Vjb25kcyhOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkR1csOpZSAoc2Vjb25kZXMpPC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXppbmMtMTAwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZHVyYXRpb25TZWNvbmRzID8/IFwiXCJ9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHNldER1cmF0aW9uU2Vjb25kcyhyYXcgPT09IFwiXCIgPyBudWxsIDogTnVtYmVyKHJhdykpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkZpY2hpZXIgdmlkw6lvPC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtemluYy0xMDAgZmlsZTptci0zIGZpbGU6cm91bmRlZC1sZyBmaWxlOmJvcmRlci0wIGZpbGU6Ymctd2hpdGUvMTAgZmlsZTpweC0zIGZpbGU6cHktMS41IGZpbGU6dGV4dC14cyBmaWxlOmZvbnQtc2VtaWJvbGQgZmlsZTp0ZXh0LXdoaXRlIGhvdmVyOmZpbGU6Ymctd2hpdGUvMjBcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICBhY2NlcHQ9XCJ2aWRlby8qXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbGUoZS50YXJnZXQuZmlsZXM/LlswXSA/PyBudWxsKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQteGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNTAwIHRvLWVtZXJhbGQtNTAwIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTYwXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgdXBsb2FkVmlkZW8oKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZFN0YXRlID09PSBcInJlcXVlc3RpbmdcIiB8fCB1cGxvYWRTdGF0ZSA9PT0gXCJ1cGxvYWRpbmdcIiB8fCB1cGxvYWRTdGF0ZSA9PT0gXCJzYXZpbmdcIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3VwbG9hZFN0YXRlID09PSBcInJlcXVlc3RpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJDcsOpYXRpb24gVVJM4oCmXCJcbiAgICAgICAgICAgICAgICA6IHVwbG9hZFN0YXRlID09PSBcInVwbG9hZGluZ1wiXG4gICAgICAgICAgICAgICAgICA/IFwiVXBsb2Fk4oCmXCJcbiAgICAgICAgICAgICAgICAgIDogdXBsb2FkU3RhdGUgPT09IFwic2F2aW5nXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIlNhdXZlZ2FyZGXigKZcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiVXBsb2FkZXJcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge3VwbG9hZFN0YXRlID09PSBcInVwbG9hZGluZ1wiICYmIHVwbG9hZFByb2dyZXNzICE9PSBudWxsID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC16aW5jLTQwMFwiPlVwbG9hZDoge3VwbG9hZFByb2dyZXNzfSU8L2Rpdj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAge3VwbG9hZE1lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LXNtICR7dXBsb2FkU3RhdGUgPT09IFwiZXJyb3JcIiA/IFwidGV4dC1yZWQtNDAwXCIgOiBcInRleHQtemluYy0yMDBcIn1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3VwbG9hZE1lc3NhZ2V9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgVGFncyBzw6lsZWN0aW9ubsOpc1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIHt0YXhvbm9teUdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlVGF4b25vbWllc0J5S2luZHMoZ3JvdXBlZFRheG9ub21pZXMsIGdyb3VwLmtpbmRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2dyb3VwLmtpbmR9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPntncm91cC5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge29wdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtemluYy00MDBcIj7DgCB2ZW5pcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gc2VsZWN0ZWRUYXhvbm9teUlkcy5oYXModC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3QuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjdXJzb3ItcG9pbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHB4LTMgcHktMSB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWVtZXJhbGQtNTAwLzIwIHRleHQtZW1lcmFsZC0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRheG9ub215SWRzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Lmhhcyh0LmlkKSkgbmV4dC5kZWxldGUodC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIG5leHQuYWRkKHQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3QubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgUHJldmlldyB0aHVtYm5haWwgKGV4ZW1wbGUpXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgQXByw6hzIHVwbG9hZCwgbGEgZ3JpbGxlIHV0aWxpc2VyYTpcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMCBwLTMgdGV4dC14cyB0ZXh0LXppbmMtMjAwXCI+XG4gICAgICAgICAgICAgIDxjb2RlPntjbG91ZGZsYXJlVGh1bWJuYWlsU3JjKFwiQ0xPVURGTEFSRV9VSURcIiwgdGh1bWJTZWNvbmRzKX08L2NvZGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG5cbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctemluYy05NTAvNDAgcC00IGJhY2tkcm9wLWJsdXIgbGc6Y29sLXNwYW4tMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+Vmlkw6lvczwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCByZWZyZXNoTWlzc2luZ0R1cmF0aW9ucygpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZHVyYXRpb25SZWZyZXNoU3RhdGUgPT09IFwibG9hZGluZ1wifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZHVyYXRpb25SZWZyZXNoU3RhdGUgPT09IFwibG9hZGluZ1wiID8gXCJEdXLDqWVz4oCmXCIgOiBcIlLDqWN1cMOpcmVyIGR1csOpZXNcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtemluYy00MDBcIj57dG90YWxQYWdlc1RleHR9PC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKChwYWdlKSA9PiBNYXRoLm1heCgxLCBwYWdlIC0gMSkpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPD0gMX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUHLDqWPDqWRlbnRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZSgocGFnZSkgPT4gTWF0aC5taW4odG90YWxQYWdlcywgcGFnZSArIDEpKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRQYWdlID49IHRvdGFsUGFnZXN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFN1aXZhbnRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCByZWZyZXNoVmlkZW9zKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFJhZnJhw65jaGlyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtkdXJhdGlvblJlZnJlc2hNZXNzYWdlID8gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YG10LTIgdGV4dC14cyAke1xuICAgICAgICAgICAgICBkdXJhdGlvblJlZnJlc2hTdGF0ZSA9PT0gXCJlcnJvclwiID8gXCJ0ZXh0LXJlZC00MDBcIiA6IFwidGV4dC16aW5jLTQwMFwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZHVyYXRpb25SZWZyZXNoTWVzc2FnZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIHt2aWRlb3NNZXNzYWdlID8gPGRpdiBjbGFzc05hbWU9XCJtdC0zIHRleHQtc20gdGV4dC1yZWQtNDAwXCI+e3ZpZGVvc01lc3NhZ2V9PC9kaXY+IDogbnVsbH1cblxuICAgICAgICB7cGVuZGluZ1ZpZGVvcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItd2hpdGUvMTUgYmctd2hpdGUvNSBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtM1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+VXBsb2FkIHJhcGlkZSAoZHJhZyAmYW1wOyBkcm9wKTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgICAgICBMZXMgbm9tcyBkZSBmaWNoaWVycyBkb2l2ZW50IGNvcnJlc3BvbmRyZSBhdXggdGl0cmVzIGRlcyB2aWTDqW9zIGVuIGF0dGVudGUuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwIHB4LTMgcHktMiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8yMFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYnVsa0lucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDaG9pc2lyIGRlcyBmaWNoaWVyc1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgIHJlZj17YnVsa0lucHV0UmVmfVxuICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgIGFjY2VwdD1cInZpZGVvLypcIlxuICAgICAgICAgICAgICBtdWx0aXBsZVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZS50YXJnZXQuZmlsZXMgPz8gW10pO1xuICAgICAgICAgICAgICAgIHZvaWQgZW5xdWV1ZUJ1bGtVcGxvYWRzKGZpbGVzKTtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXQtNCBmbGV4IG1pbi1oLVs5NnB4XSBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBweC00IHRleHQtc20gdGV4dC16aW5jLTQwMCB0cmFuc2l0aW9uICR7XG4gICAgICAgICAgICAgICAgYnVsa0Ryb3BBY3RpdmUgPyBcImJnLXdoaXRlLzEwXCIgOiBcImJnLWJsYWNrLzIwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGJ1bGtJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgICAgICAgICBvbkRyYWdFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc2V0QnVsa0Ryb3BBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNldEJ1bGtEcm9wQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc2V0QnVsa0Ryb3BBY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNldEJ1bGtEcm9wQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMgPz8gW10pO1xuICAgICAgICAgICAgICAgIHZvaWQgZW5xdWV1ZUJ1bGtVcGxvYWRzKGZpbGVzKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgR2xpc3NlIHRlcyBmaWNoaWVycyB2aWTDqW8gaWNpXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtidWxrTWVzc2FnZSA/IDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtcmVkLTQwMFwiPntidWxrTWVzc2FnZX08L2Rpdj4gOiBudWxsfVxuICAgICAgICAgICAge2J1bGtVcGxvYWRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTIgdGV4dC1zbSB0ZXh0LXppbmMtMjAwXCI+XG4gICAgICAgICAgICAgICAge2J1bGtVcGxvYWRzLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMCBwLTNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ1bmNhdGUgZm9udC1zZW1pYm9sZFwiPntpdGVtLmZpbGUubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnZpZGVvID8gYOKGkiAke2l0ZW0udmlkZW8udGl0bGV9YCA6IFwiQXVjdW5lIGNvcnJlc3BvbmRhbmNlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uc3RhdHVzID09PSBcInVwbG9hZGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJVcGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09PSBcInNhdmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNhdXZlZ2FyZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT09IFwiZG9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PT0gXCJlcnJvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJFcnJldXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiRW4gYXR0ZW50ZVwifVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGgtMiBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsIGJnLXdoaXRlLzEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC1mdWxsIHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gXCJlcnJvclwiID8gXCJiZy1yZWQtNTAwLzcwXCIgOiBcImJnLWVtZXJhbGQtNTAwLzcwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke2l0ZW0ucHJvZ3Jlc3N9JWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1cyA9PT0gXCJlcnJvclwiID8gaXRlbS5tZXNzYWdlIDogYCR7aXRlbS5wcm9ncmVzc30lYH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3ZpZGVvcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtc20gdGV4dC16aW5jLTQwMFwiPkF1Y3VuZSB2aWTDqW8gcG91ciBsZSBtb21lbnQuPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IG92ZXJmbG93LXgtYXV0byByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwXCI+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi13LVsxMTAwcHhdIGJvcmRlci1jb2xsYXBzZSB0ZXh0LWxlZnQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctYmxhY2svMzBcIj5cbiAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+VGh1bWJuYWlsPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC0zIHB5LTJcIj5UaXRyZTwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+QnVkZ2V0PC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC0zIHB5LTJcIj5EdXLDqWU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPkZhdm9yaXM8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlR5cGU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPk9iamVjdGlmczwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+TW90cyBjbMOpczwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+RmVlbDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+PC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiZGl2aWRlLXkgZGl2aWRlLXdoaXRlLzEwXCI+XG4gICAgICAgICAgICAgICAge3ZpZGVvcy5tYXAoKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5S2luZDogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT4gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RpZjogW10sXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogW10sXG4gICAgICAgICAgICAgICAgICAgIGZlZWw6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0cmU6IFtdLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB2LnRheG9ub21pZXMpIGJ5S2luZFt0LmtpbmRdLnB1c2godCk7XG4gICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtpbmQgb2YgT2JqZWN0LmtleXMoYnlLaW5kKSBhcyBUYXhvbm9teUtpbmRbXSkge1xuICAgICAgICAgICAgICAgICAgICBieUtpbmRba2luZF0uc29ydCgoYSwgYikgPT4gYS5sYWJlbC5sb2NhbGVDb21wYXJlKGIubGFiZWwsIFwiZnJcIikpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCBidWRnZXRUZXh0ID1cbiAgICAgICAgICAgICAgICAgICAgdi5idWRnZXRfbWluICYmIHYuYnVkZ2V0X21heFxuICAgICAgICAgICAgICAgICAgICAgID8gYCR7Zm9ybWF0Q2FkKHYuYnVkZ2V0X21pbil94oCTJHtmb3JtYXRDYWQodi5idWRnZXRfbWF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIuKAlFwiO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25UZXh0ID0gZm9ybWF0RHVyYXRpb24odi5kdXJhdGlvbl9zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRHcm91cFRhZ3MgPSBtZXJnZVRheG9ub21pZXNCeUtpbmRzKGJ5S2luZCwga2V5d29yZEdyb3VwS2luZHMpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3YuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBob3ZlcjpiZy13aGl0ZS81XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1ZpZGVvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGF4b25vbWllczogdi50YXhvbm9taWVzLmZpbHRlcigodCkgPT4gYWxsVGF4b25vbXlJZHMuaGFzKHQuaWQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHYuY2xvdWRmbGFyZV91aWQpID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0xMiB3LTIwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNDAgdGV4dC1bMTBweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIMOAIHVwbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzQwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHctMjAgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZVRodW1ibmFpbFNyYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5jbG91ZGZsYXJlX3VpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi50aHVtYm5haWxfdGltZV9zZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MTYwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXs5Nn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LVszMjBweF0gdHJ1bmNhdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt2LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTAuNSB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHYuY2xvdWRmbGFyZV91aWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkVuIGF0dGVudGUgZCd1cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdi5zdGF0dXMgPT09IFwicmVhZHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlJlYWR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQcm9jZXNzaW5nXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTIgdGV4dC16aW5jLTIwMFwiPntidWRnZXRUZXh0fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMiB0ZXh0LXppbmMtMjAwXCI+e2R1cmF0aW9uVGV4dH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtZnVsbCBib3JkZXIgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuaXNfZmVhdHVyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItYW1iZXItMzAwLzUwIGJnLWFtYmVyLTQwMC8yMCB0ZXh0LWFtYmVyLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC16aW5jLTMwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdG9nZ2xlRmVhdHVyZWQodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuaXNfZmVhdHVyZWQgPyBcIlJldGlyZXIgZGVzIGZhdm9yaXNcIiA6IFwiQWpvdXRlciBhdXggZmF2b3Jpc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3YuaXNfZmVhdHVyZWQgPyBcIuKYhVwiIDogXCLimIZcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2J5S2luZC50eXBlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxUYWdzQ2VsbCB0YWdzPXtieUtpbmQub2JqZWN0aWZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2tleXdvcmRHcm91cFRhZ3N9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2J5S2luZC5mZWVsfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQZW5kaW5nVmlkZW9VaWQodi5jbG91ZGZsYXJlX3VpZCkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd1VwbG9hZERyb3B6b25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17cm93VXBsb2Fkc1t2LmlkXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBsb2FkPXsoZmlsZVRvVXBsb2FkKSA9PiBzdGFydFJvd1VwbG9hZCh2LCBmaWxlVG9VcGxvYWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXJlZC00MDAvMzAgYmctcmVkLTUwMC8xMCBweC0zIHB5LTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcmVkLTIwMCBob3ZlcjpiZy1yZWQtNTAwLzE1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgZGVsZXRlVmlkZW8odik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1cHByaW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAge2VkaXRpbmdWaWRlbyA/IChcbiAgICAgICAgPEVkaXRWaWRlb01vZGFsXG4gICAgICAgICAga2V5PXtlZGl0aW5nVmlkZW8uaWR9XG4gICAgICAgICAgb3BlblxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEVkaXRpbmdWaWRlbyhudWxsKX1cbiAgICAgICAgICB2aWRlbz17ZWRpdGluZ1ZpZGVvfVxuICAgICAgICAgIGdyb3VwZWRUYXhvbm9taWVzPXtncm91cGVkVGF4b25vbWllc31cbiAgICAgICAgICBvblNhdmVkPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRFZGl0aW5nVmlkZW8obnVsbCk7XG4gICAgICAgICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZWZyZXNoVGF4b25vbWllcz17cmVmcmVzaFRheG9ub21pZXN9XG4gICAgICAgICAgb25GZXRjaER1cmF0aW9uPXtmZXRjaENsb3VkZmxhcmVEdXJhdGlvbn1cbiAgICAgICAgICBzdXBhYmFzZT17c3VwYWJhc2V9XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRWRpdFZpZGVvTW9kYWwoe1xuICBvcGVuLFxuICBvbkNsb3NlLFxuICB2aWRlbyxcbiAgZ3JvdXBlZFRheG9ub21pZXMsXG4gIG9uU2F2ZWQsXG4gIHJlZnJlc2hUYXhvbm9taWVzLFxuICBvbkZldGNoRHVyYXRpb24sXG4gIHN1cGFiYXNlLFxufToge1xuICBvcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICB2aWRlbzogVmlkZW8gfCBudWxsO1xuICBncm91cGVkVGF4b25vbWllczogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT47XG4gIG9uU2F2ZWQ6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICByZWZyZXNoVGF4b25vbWllczogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG4gIG9uRmV0Y2hEdXJhdGlvbjogKHVpZDogc3RyaW5nKSA9PiBQcm9taXNlPG51bWJlciB8IG51bGw+O1xuICBzdXBhYmFzZTogUmV0dXJuVHlwZTx0eXBlb2YgdXNlU3VwYWJhc2VDbGllbnQ+IHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZSgoKSA9PiB2aWRlbz8udGl0bGUgPz8gXCJcIik7XG4gIGNvbnN0IFt0aHVtYlNlY29uZHMsIHNldFRodW1iU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXI+KFxuICAgICgpID0+IHZpZGVvPy50aHVtYm5haWxfdGltZV9zZWNvbmRzID8/IDEsXG4gICk7XG4gIGNvbnN0IFtkdXJhdGlvblNlY29uZHMsIHNldER1cmF0aW9uU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihcbiAgICAoKSA9PiB2aWRlbz8uZHVyYXRpb25fc2Vjb25kcyA/PyBudWxsLFxuICApO1xuICBjb25zdCBbZHVyYXRpb25GZXRjaFN0YXR1cywgc2V0RHVyYXRpb25GZXRjaFN0YXR1c10gPSB1c2VTdGF0ZTxcbiAgICBcImlkbGVcIiB8IFwibG9hZGluZ1wiIHwgXCJlcnJvclwiXG4gID4oXCJpZGxlXCIpO1xuICBjb25zdCBbZHVyYXRpb25GZXRjaE1lc3NhZ2UsIHNldER1cmF0aW9uRmV0Y2hNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYnVkZ2V0TWluSW5kZXgsIHNldEJ1ZGdldE1pbkluZGV4XSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBpZiAoIXZpZGVvPy5idWRnZXRfbWluKSByZXR1cm4gMDtcbiAgICBjb25zdCBpZHggPSBidWRnZXRMZXZlbHMuaW5kZXhPZihcbiAgICAgIHZpZGVvLmJ1ZGdldF9taW4gYXMgKHR5cGVvZiBidWRnZXRMZXZlbHMpW251bWJlcl0sXG4gICAgKTtcbiAgICByZXR1cm4gaWR4ID49IDAgPyBpZHggOiAwO1xuICB9KTtcbiAgY29uc3QgW2J1ZGdldE1heEluZGV4LCBzZXRCdWRnZXRNYXhJbmRleF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgaWYgKCF2aWRlbz8uYnVkZ2V0X21heCkgcmV0dXJuIGJ1ZGdldExldmVscy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGlkeCA9IGJ1ZGdldExldmVscy5pbmRleE9mKFxuICAgICAgdmlkZW8uYnVkZ2V0X21heCBhcyAodHlwZW9mIGJ1ZGdldExldmVscylbbnVtYmVyXSxcbiAgICApO1xuICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCA6IGJ1ZGdldExldmVscy5sZW5ndGggLSAxO1xuICB9KTtcbiAgY29uc3QgW3NlbGVjdGVkVGF4b25vbXlJZHMsIHNldFNlbGVjdGVkVGF4b25vbXlJZHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KFxuICAgICgpID0+IG5ldyBTZXQodmlkZW8/LnRheG9ub21pZXMubWFwKCh0KSA9PiB0LmlkKSA/PyBbXSksXG4gICk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxcImlkbGVcIiB8IFwic2F2aW5nXCIgfCBcImVycm9yXCI+KFwiaWRsZVwiKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthaVN0YXR1cywgc2V0QWlTdGF0dXNdID0gdXNlU3RhdGU8XCJpZGxlXCIgfCBcImxvYWRpbmdcIiB8IFwiZXJyb3JcIj4oXCJpZGxlXCIpO1xuICBjb25zdCBbYWlNZXNzYWdlLCBzZXRBaU1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthaU9wZW4sIHNldEFpT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaVN1Z2dlc3Rpb25zLCBzZXRBaVN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlPEtleXdvcmRTdWdnZXN0aW9ucyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWlTZWxlY3RlZEV4aXN0aW5nLCBzZXRBaVNlbGVjdGVkRXhpc3RpbmddID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KFxuICAgIG5ldyBTZXQoKSxcbiAgKTtcbiAgY29uc3QgW2FpU2VsZWN0ZWROZXcsIHNldEFpU2VsZWN0ZWROZXddID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFthaUZyYW1lcywgc2V0QWlGcmFtZXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbiAgY29uc3QgW2FpQXBwbHlTdGF0dXMsIHNldEFpQXBwbHlTdGF0dXNdID0gdXNlU3RhdGU8XCJpZGxlXCIgfCBcInNhdmluZ1wiIHwgXCJlcnJvclwiPihcbiAgICBcImlkbGVcIixcbiAgKTtcbiAgY29uc3QgW2FpQXBwbHlNZXNzYWdlLCBzZXRBaUFwcGx5TWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtwbGF5ZXJUaW1lLCBzZXRQbGF5ZXJUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtwbGF5ZXJFcnJvciwgc2V0UGxheWVyRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt1c2VJZnJhbWVQbGF5ZXIsIHNldFVzZUlmcmFtZVBsYXllcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0aHVtYkNob2ljZXMsIHNldFRodW1iQ2hvaWNlc10gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pO1xuXG4gIGNvbnN0IGF2YWlsYWJsZUtleXdvcmRMYWJlbHMgPSB1c2VNZW1vKFxuICAgICgpID0+IGdyb3VwZWRUYXhvbm9taWVzLmtleXdvcmQubWFwKCh0KSA9PiB0LmxhYmVsKSxcbiAgICBbZ3JvdXBlZFRheG9ub21pZXMua2V5d29yZF0sXG4gICk7XG5cbiAgY29uc3Qga2V5d29yZE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUYXhvbm9teT4oKTtcbiAgICBmb3IgKGNvbnN0IHRheG9ub215IG9mIGdyb3VwZWRUYXhvbm9taWVzLmtleXdvcmQpIHtcbiAgICAgIG1hcC5zZXQobm9ybWFsaXplVGV4dCh0YXhvbm9teS5sYWJlbCksIHRheG9ub215KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfSwgW2dyb3VwZWRUYXhvbm9taWVzLmtleXdvcmRdKTtcblxuICBmdW5jdGlvbiBidWlsZFJhbmRvbVRodW1iVGltZXMoZHVyYXRpb246IG51bWJlciwgY291bnQgPSA4KSB7XG4gICAgY29uc3Qgc2FmZUR1cmF0aW9uID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihkdXJhdGlvbikpO1xuICAgIGNvbnN0IHNlZ21lbnQgPSBzYWZlRHVyYXRpb24gLyBjb3VudDtcbiAgICBjb25zdCB0aW1lcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGkgKiBzZWdtZW50KSk7XG4gICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzYWZlRHVyYXRpb24sIE1hdGguZmxvb3IoKGkgKyAxKSAqIHNlZ21lbnQpKTtcbiAgICAgIGNvbnN0IHJhbmdlID0gTWF0aC5tYXgoMSwgZW5kIC0gc3RhcnQpO1xuICAgICAgY29uc3QgcmFuZG9tID0gc3RhcnQgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByYW5nZSk7XG4gICAgICB0aW1lcy5hZGQoTWF0aC5taW4oc2FmZUR1cmF0aW9uLCBNYXRoLm1heCgwLCByYW5kb20pKSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHRpbWVzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoVGh1bWJDaG9pY2VzKCkge1xuICAgIGlmICghZHVyYXRpb25TZWNvbmRzIHx8ICFOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25TZWNvbmRzKSkgcmV0dXJuO1xuICAgIHNldFRodW1iQ2hvaWNlcyhidWlsZFJhbmRvbVRodW1iVGltZXMoZHVyYXRpb25TZWNvbmRzLCA4KSk7XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFBsYXllckVycm9yKG51bGwpO1xuICAgIHNldFBsYXllclRpbWUoMCk7XG4gICAgc2V0VXNlSWZyYW1lUGxheWVyKGZhbHNlKTtcbiAgICBzZXRUaHVtYkNob2ljZXMoW10pO1xuICB9LCBbdmlkZW8/LmNsb3VkZmxhcmVfdWlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWR1cmF0aW9uU2Vjb25kcyB8fCAhTnVtYmVyLmlzRmluaXRlKGR1cmF0aW9uU2Vjb25kcykpIHJldHVybjtcbiAgICByZWZyZXNoVGh1bWJDaG9pY2VzKCk7XG4gIH0sIFtkdXJhdGlvblNlY29uZHNdKTtcblxuICBpZiAoIW9wZW4gfHwgIXZpZGVvKSByZXR1cm4gbnVsbDtcblxuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0QWlLZXl3b3JkcygpIHtcbiAgICBpZiAoYWlTdGF0dXMgPT09IFwibG9hZGluZ1wiKSByZXR1cm47XG4gICAgaWYgKCF2aWRlbykgcmV0dXJuO1xuICAgIGlmIChpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkpIHtcbiAgICAgIHNldEFpU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICBzZXRBaU1lc3NhZ2UoXCJMYSB2aWTDqW8gZG9pdCDDqnRyZSB1cGxvYWTDqWUgYXZhbnQgbCdhbmFseXNlLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QWlTdGF0dXMoXCJsb2FkaW5nXCIpO1xuICAgIHNldEFpTWVzc2FnZShudWxsKTtcbiAgICBzZXRBaUFwcGx5TWVzc2FnZShudWxsKTtcblxuICAgIGNvbnN0IHRpbWVzID0gYnVpbGRBaUZyYW1lVGltZXModGh1bWJTZWNvbmRzKTtcbiAgICBzZXRBaUZyYW1lcyh0aW1lcyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2FpL2tleXdvcmRzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY2xvdWRmbGFyZVVpZDogdmlkZW8uY2xvdWRmbGFyZV91aWQsXG4gICAgICAgICAgdGltZXMsXG4gICAgICAgICAgYXZhaWxhYmxlS2V5d29yZHM6IGF2YWlsYWJsZUtleXdvcmRMYWJlbHMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXNcbiAgICAgICAgfCB7IHN1Z2dlc3Rpb25zOiBLZXl3b3JkU3VnZ2VzdGlvbnMgfVxuICAgICAgICB8IHsgZXJyb3I6IHN0cmluZyB9O1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IFwiZXJyb3JcIiBpbiBqc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImVycm9yXCIgaW4ganNvbiA/IGpzb24uZXJyb3IgOiBcIkVycmV1ciBBSVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBqc29uLnN1Z2dlc3Rpb25zID8/IHsgZXhpc3Rpbmc6IFtdLCBuZXc6IFtdIH07XG4gICAgICBzZXRBaVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKTtcbiAgICAgIHNldEFpU2VsZWN0ZWRFeGlzdGluZyhuZXcgU2V0KHN1Z2dlc3Rpb25zLmV4aXN0aW5nKSk7XG4gICAgICBzZXRBaVNlbGVjdGVkTmV3KG5ldyBTZXQoc3VnZ2VzdGlvbnMubmV3KSk7XG4gICAgICBzZXRBaU9wZW4odHJ1ZSk7XG4gICAgICBzZXRBaVN0YXR1cyhcImlkbGVcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0QWlTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldEFpTWVzc2FnZShlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIkVycmV1ciBBSVwiKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBhcHBseUFpS2V5d29yZHMoKSB7XG4gICAgaWYgKCFzdXBhYmFzZSB8fCAhYWlTdWdnZXN0aW9ucykgcmV0dXJuO1xuICAgIHNldEFpQXBwbHlTdGF0dXMoXCJzYXZpbmdcIik7XG4gICAgc2V0QWlBcHBseU1lc3NhZ2UobnVsbCk7XG5cbiAgICBjb25zdCBzZWxlY3RlZEV4aXN0aW5nID0gQXJyYXkuZnJvbShhaVNlbGVjdGVkRXhpc3RpbmcpO1xuICAgIGNvbnN0IHNlbGVjdGVkTmV3ID0gQXJyYXkuZnJvbShhaVNlbGVjdGVkTmV3KTtcbiAgICBjb25zdCBkZXNpcmVkSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgbWlzc2luZ0xhYmVsczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBtaXNzaW5nTm9ybWFsaXplZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgZm9yIChjb25zdCBsYWJlbCBvZiBzZWxlY3RlZEV4aXN0aW5nKSB7XG4gICAgICBjb25zdCB0YXhvbm9teSA9IGtleXdvcmRNYXAuZ2V0KG5vcm1hbGl6ZVRleHQobGFiZWwpKTtcbiAgICAgIGlmICh0YXhvbm9teSkgZGVzaXJlZElkcy5hZGQodGF4b25vbXkuaWQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGFiZWwgb2Ygc2VsZWN0ZWROZXcpIHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSBsYWJlbC50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIGNvbnRpbnVlO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVRleHQodHJpbW1lZCk7XG4gICAgICBpZiAoIW5vcm1hbGl6ZWQgfHwgbWlzc2luZ05vcm1hbGl6ZWQuaGFzKG5vcm1hbGl6ZWQpKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0ga2V5d29yZE1hcC5nZXQobm9ybWFsaXplVGV4dCh0cmltbWVkKSk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgZGVzaXJlZElkcy5hZGQoZXhpc3RpbmcuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlzc2luZ05vcm1hbGl6ZWQuYWRkKG5vcm1hbGl6ZWQpO1xuICAgICAgICBtaXNzaW5nTGFiZWxzLnB1c2godHJpbW1lZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChtaXNzaW5nTGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IG1pc3NpbmdMYWJlbHMubWFwKChsYWJlbCkgPT4gKHsga2luZDogXCJrZXl3b3JkXCIsIGxhYmVsIH0pKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnRlZCwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidGF4b25vbWllc1wiKVxuICAgICAgICAgIC51cHNlcnQocm93cywgeyBvbkNvbmZsaWN0OiBcImtpbmQsbGFiZWxcIiB9KVxuICAgICAgICAgIC5zZWxlY3QoXCJpZCxraW5kLGxhYmVsXCIpO1xuICAgICAgICBpZiAoaW5zZXJ0RXJyb3IpIHRocm93IGluc2VydEVycm9yO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgKGluc2VydGVkID8/IFtdKSBhcyBUYXhvbm9teVtdKSB7XG4gICAgICAgICAgaWYgKGl0ZW0ua2luZCA9PT0gXCJrZXl3b3JkXCIpIGRlc2lyZWRJZHMuYWRkKGl0ZW0uaWQpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJlZnJlc2hUYXhvbm9taWVzKCk7XG4gICAgICB9XG5cbiAgICAgIHNldFNlbGVjdGVkVGF4b25vbXlJZHMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgZGVzaXJlZElkcykgbmV4dC5hZGQoaWQpO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH0pO1xuXG4gICAgICBzZXRBaUFwcGx5U3RhdHVzKFwiaWRsZVwiKTtcbiAgICAgIHNldEFpT3BlbihmYWxzZSk7XG4gICAgICBzZXRBaVN1Z2dlc3Rpb25zKG51bGwpO1xuICAgICAgc2V0QWlTZWxlY3RlZEV4aXN0aW5nKG5ldyBTZXQoKSk7XG4gICAgICBzZXRBaVNlbGVjdGVkTmV3KG5ldyBTZXQoKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0QWlBcHBseVN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgc2V0QWlBcHBseU1lc3NhZ2UoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXIgc2F1dmVnYXJkZS5cIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgaWYgKCF2aWRlbykgcmV0dXJuO1xuICAgIHNldFN0YXR1cyhcInNhdmluZ1wiKTtcbiAgICBzZXRNZXNzYWdlKG51bGwpO1xuICAgIGNvbnN0IGNsZWFuVGl0bGUgPSB0aXRsZS50cmltKCk7XG4gICAgaWYgKCFjbGVhblRpdGxlKSB7XG4gICAgICBzZXRTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldE1lc3NhZ2UoXCJUaXRyZSByZXF1aXMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICB0aXRsZTogY2xlYW5UaXRsZSxcbiAgICAgICAgdGh1bWJuYWlsX3RpbWVfc2Vjb25kczogTnVtYmVyLmlzRmluaXRlKHRodW1iU2Vjb25kcylcbiAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodGh1bWJTZWNvbmRzKSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGR1cmF0aW9uX3NlY29uZHM6IE51bWJlci5pc0Zpbml0ZShkdXJhdGlvblNlY29uZHMpXG4gICAgICAgICAgPyBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGR1cmF0aW9uU2Vjb25kcyA/PyAwKSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGJ1ZGdldF9taW46IGJ1ZGdldExldmVsc1tidWRnZXRNaW5JbmRleF0sXG4gICAgICAgIGJ1ZGdldF9tYXg6IGJ1ZGdldExldmVsc1tidWRnZXRNYXhJbmRleF0sXG4gICAgICB9KVxuICAgICAgLmVxKFwiaWRcIiwgdmlkZW8uaWQpO1xuXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICBzZXRTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldE1lc3NhZ2UodXBkYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGVzaXJlZCA9IEFycmF5LmZyb20oc2VsZWN0ZWRUYXhvbm9teUlkcyk7XG4gICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcInZpZGVvX3RheG9ub21pZXNcIilcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKFwidmlkZW9faWRcIiwgdmlkZW8uaWQpO1xuICAgIGlmIChkZWxldGVFcnJvcikge1xuICAgICAgc2V0U3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICBzZXRNZXNzYWdlKGRlbGV0ZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkZXNpcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJvd3MgPSBkZXNpcmVkLm1hcCgodGF4b25vbXlJZCkgPT4gKHtcbiAgICAgICAgdmlkZW9faWQ6IHZpZGVvLmlkLFxuICAgICAgICB0YXhvbm9teV9pZDogdGF4b25vbXlJZCxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcInZpZGVvX3RheG9ub21pZXNcIilcbiAgICAgICAgLmluc2VydChyb3dzKTtcbiAgICAgIGlmIChpbnNlcnRFcnJvcikge1xuICAgICAgICBzZXRTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgICAgc2V0TWVzc2FnZShpbnNlcnRFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0YXR1cyhcImlkbGVcIik7XG4gICAgYXdhaXQgb25TYXZlZCgpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hEdXJhdGlvbigpIHtcbiAgICBpZiAoIXZpZGVvKSByZXR1cm47XG4gICAgaWYgKGlzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSkge1xuICAgICAgc2V0RHVyYXRpb25GZXRjaFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgc2V0RHVyYXRpb25GZXRjaE1lc3NhZ2UoXCJMYSB2aWTDqW8gZG9pdCDDqnRyZSB1cGxvYWTDqWUgYXZhbnQgbCdhbmFseXNlLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0RHVyYXRpb25GZXRjaFN0YXR1cyhcImxvYWRpbmdcIik7XG4gICAgc2V0RHVyYXRpb25GZXRjaE1lc3NhZ2UobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gYXdhaXQgb25GZXRjaER1cmF0aW9uKHZpZGVvLmNsb3VkZmxhcmVfdWlkKTtcbiAgICAgIHNldER1cmF0aW9uU2Vjb25kcyhkdXJhdGlvbik7XG4gICAgICBzZXREdXJhdGlvbkZldGNoU3RhdHVzKFwiaWRsZVwiKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXREdXJhdGlvbkZldGNoU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICBzZXREdXJhdGlvbkZldGNoTWVzc2FnZShlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIkVycmV1clwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseVBsYXllclRpbWUoKSB7XG4gICAgY29uc3QgY3VycmVudCA9IHZpZGVvUmVmLmN1cnJlbnQ/LmN1cnJlbnRUaW1lO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGN1cnJlbnQpKSByZXR1cm47XG4gICAgc2V0VGh1bWJTZWNvbmRzKE1hdGgubWF4KDAsIE1hdGguZmxvb3IoY3VycmVudCA/PyAwKSkpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgb3ZlcmZsb3cteS1hdXRvIGJnLWJsYWNrLzcwIHAtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gdy1bOTV2d10gbWF4LXctbm9uZSByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTUwIHAtNiBzaGFkb3ctMnhsIHNoYWRvdy1ibGFjay80MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMFwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidHJ1bmNhdGUgdGV4dC1sZyBmb250LXNlbWlib2xkXCI+TW9kaWZpZXI8L2gyPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdHJ1bmNhdGUgdGV4dC14cyB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgICAgVUlEOiB7dmlkZW8uY2xvdWRmbGFyZV91aWR9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgcHgtMiBweS0xIHRleHQtc20gdGV4dC16aW5jLTMwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBGZXJtZXJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTEgZ2FwLTQgbGc6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMjAwXCI+VGl0cmU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXppbmMtMTAwIHBsYWNlaG9sZGVyOnRleHQtemluYy01MDBcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUaXRsZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMjAwXCI+QnVkZ2V0IG1pbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXppbmMtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2J1ZGdldE1pbkluZGV4fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRCdWRnZXRNaW5JbmRleChNYXRoLm1pbihuZXh0LCBidWRnZXRNYXhJbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7YnVkZ2V0TGV2ZWxzLm1hcCgoYiwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2J9IHZhbHVlPXtpZHh9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdENhZChiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0yMDBcIj5CdWRnZXQgbWF4PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtemluYy0xMDBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnVkZ2V0TWF4SW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEJ1ZGdldE1heEluZGV4KE1hdGgubWF4KG5leHQsIGJ1ZGdldE1pbkluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtidWRnZXRMZXZlbHMubWFwKChiLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Yn0gdmFsdWU9e2lkeH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Q2FkKGIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMjAwXCI+VGh1bWJuYWlsIChzZWNvbmRlcyk8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXppbmMtMTAwXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aHVtYlNlY29uZHN9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRodW1iU2Vjb25kcyhOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMjAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5EdXLDqWUgKHNlY29uZGVzKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMCBkaXNhYmxlZDpvcGFjaXR5LTYwXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgaGFuZGxlRmV0Y2hEdXJhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZHVyYXRpb25GZXRjaFN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgfHwgIXN1cGFiYXNlfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb25GZXRjaFN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgPyBcIkxlY3R1cmXigKZcIiA6IFwiUsOpY3Vww6lyZXJcIn1cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtemluYy0xMDBcIj5cbiAgICAgICAgICAgICAgICAgIHtOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25TZWNvbmRzKSA/IGR1cmF0aW9uU2Vjb25kcyA6IFwi4oCUXCJ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2R1cmF0aW9uRmV0Y2hNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC1yZWQtNDAwXCI+e2R1cmF0aW9uRmV0Y2hNZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBMZWN0ZXVyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMjAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthcHBseVBsYXllclRpbWV9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkgfHwgdXNlSWZyYW1lUGxheWVyfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBVdGlsaXNlciBsZSB0ZW1wcyBkdSBwbGF5ZXJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay80MFwiPlxuICAgICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGFzcGVjdC12aWRlbyB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIEVuIGF0dGVudGUgZCZhcG9zO3VwbG9hZFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiB1c2VJZnJhbWVQbGF5ZXIgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxpZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Nsb3VkZmxhcmVJZnJhbWVTcmModmlkZW8uY2xvdWRmbGFyZV91aWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgcGljdHVyZS1pbi1waWN0dXJlO1wiXG4gICAgICAgICAgICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3ZpZGVvLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gdy1mdWxsIGJnLWJsYWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1xuICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWQ9XCJtZXRhZGF0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgcG9zdGVyPXtjbG91ZGZsYXJlVGh1bWJuYWlsU3JjKHZpZGVvLmNsb3VkZmxhcmVfdWlkLCB0aHVtYlNlY29uZHMpfVxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZURvd25sb2FkU3JjKHZpZGVvLmNsb3VkZmxhcmVfdWlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBvblRpbWVVcGRhdGU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQbGF5ZXJUaW1lKE1hdGguZmxvb3IoZS5jdXJyZW50VGFyZ2V0LmN1cnJlbnRUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VJZnJhbWVQbGF5ZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQbGF5ZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMZWN0dXJlIE1QNCBpbmRpc3BvbmlibGUuIEJhc2N1bGUgdmVycyBsZSBwbGF5ZXIgaW50w6lncsOpLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7IXVzZUlmcmFtZVBsYXllciA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgVGVtcHMgY291cmFudDoge3BsYXllclRpbWV9c1xuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgTGUgcGxheWVyIGludMOpZ3LDqSBuZSBwZXJtZXQgcGFzIGRlIGxpcmUgbGUgdGltZWNvZGUuXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtwbGF5ZXJFcnJvciA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtYW1iZXItMzAwXCI+e3BsYXllckVycm9yfTwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7bWVzc2FnZSA/IDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC00MDBcIj57bWVzc2FnZX08L2Rpdj4gOiBudWxsfVxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC14bCBiZy1ncmFkaWVudC10by1yIGZyb20tY3lhbi01MDAgdG8tZW1lcmFsZC01MDAgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIGRpc2FibGVkOm9wYWNpdHktNjBcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgc2F2ZSgpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdGF0dXMgPT09IFwic2F2aW5nXCIgfHwgIXN1cGFiYXNlfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3N0YXR1cyA9PT0gXCJzYXZpbmdcIiA/IFwiU2F1dmVnYXJkZeKAplwiIDogXCJTYXV2ZWdhcmRlclwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgICAgICBUYWdzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMjAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgcmVxdWVzdEFpS2V5d29yZHMoKX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXthaVN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgfHwgIXN1cGFiYXNlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHthaVN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgPyBcIkFuYWx5c2XigKZcIiA6IFwiQW5hbHlzZXIgbW90cy1jbMOpc1wifVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2FpTWVzc2FnZSA/IDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPnthaU1lc3NhZ2V9PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIHt0YXhvbm9teUdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gbWVyZ2VUYXhvbm9taWVzQnlLaW5kcyhncm91cGVkVGF4b25vbWllcywgZ3JvdXAua2luZHMpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2dyb3VwLmtpbmR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+e2dyb3VwLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC16aW5jLTQwMFwiPsOAIHZlbmlyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBzZWxlY3RlZFRheG9ub215SWRzLmhhcyh0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciBweC0zIHB5LTEgdGV4dC1zbSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItZW1lcmFsZC00MDAvNDAgYmctZW1lcmFsZC01MDAvMjAgdGV4dC1lbWVyYWxkLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGF4b25vbXlJZHMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Lmhhcyh0LmlkKSkgbmV4dC5kZWxldGUodC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgbmV4dC5hZGQodC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3QubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgIFRodW1ibmFpbFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwXCI+XG4gICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBhc3BlY3QtdmlkZW8gdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRW4gYXR0ZW50ZSBkJmFwb3M7dXBsb2FkXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtjbG91ZGZsYXJlVGh1bWJuYWlsU3JjKHZpZGVvLmNsb3VkZmxhcmVfdWlkLCB0aHVtYlNlY29uZHMpfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17NjQwfVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezM2MH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAge2R1cmF0aW9uU2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICA/IFwiQ2hvaXNpcyB1biB0aHVtYm5haWwgcGFybWkgbGVzIHN1Z2dlc3Rpb25zLlwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJSZW5zZWlnbmUgbGEgZHVyw6llIHBvdXIgZ8OpbsOpcmVyIGRlcyBzdWdnZXN0aW9ucy5cIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvMTAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8yMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVmcmVzaFRodW1iQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshZHVyYXRpb25TZWNvbmRzIHx8IGlzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBOb3V2ZWxsZXMgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHt0aHVtYkNob2ljZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBzbTpncmlkLWNvbHMtNFwiPlxuICAgICAgICAgICAgICAgICAge3RodW1iQ2hvaWNlcy5tYXAoKHRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBNYXRoLmZsb29yKHRodW1iU2Vjb25kcykgPT09IHRpbWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0aW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRUaHVtYlNlY29uZHModGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBib3JkZXIgdGV4dC1sZWZ0ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1lbWVyYWxkLTQwMC82MCBiZy1lbWVyYWxkLTUwMC8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMCBob3Zlcjpib3JkZXItd2hpdGUvMzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjbG91ZGZsYXJlVGh1bWJuYWlsU3JjKHZpZGVvLmNsb3VkZmxhcmVfdWlkLCB0aW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezI0MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxMzV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC1jZW50ZXIgdGV4dC1bMTBweF0gdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dGltZX1zXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7YWlPcGVuID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bNjBdIG92ZXJmbG93LXktYXV0byBiZy1ibGFjay83MCBwLTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gdy1mdWxsIG1heC13LTJ4bCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTUwIHAtNiBzaGFkb3ctMnhsIHNoYWRvdy1ibGFjay80MFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidHJ1bmNhdGUgdGV4dC1sZyBmb250LXNlbWlib2xkXCI+U3VnZ2VzdGlvbnMgbW90cy1jbMOpczwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgVmFsaWRlIGxlcyB0YWdzIHByb3Bvc8OpcyBhdmFudCBpbnNlcnRpb24uXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBweC0yIHB5LTEgdGV4dC1zbSB0ZXh0LXppbmMtMzAwIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBaU9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRmVybWVyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHthaUZyYW1lcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZ3JpZCBncmlkLWNvbHMtMyBnYXAtMiBzbTpncmlkLWNvbHMtNVwiPlxuICAgICAgICAgICAgICAgIHthaUZyYW1lcy5tYXAoKHRpbWUpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXt0aW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LXZpZGVvIHctZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZVRodW1ibmFpbFNyYyh2aWRlby5jbG91ZGZsYXJlX3VpZCwgdGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MjQwfVxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MTM1fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LWNlbnRlciB0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3RpbWV9c1xuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgTW90cy1jbMOpcyBleGlzdGFudHNcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIHsoYWlTdWdnZXN0aW9ucz8uZXhpc3RpbmcgPz8gW10pLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtemluYy00MDBcIj5BdWN1biBwcm9wb3PDqS48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIChhaVN1Z2dlc3Rpb25zPy5leGlzdGluZyA/PyBbXSkubWFwKChsYWJlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBhaVNlbGVjdGVkRXhpc3RpbmcuaGFzKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGN1cnNvci1wb2ludGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgcHgtMyBweS0xIHRleHQtc20gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWVtZXJhbGQtNTAwLzIwIHRleHQtZW1lcmFsZC0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBaVNlbGVjdGVkRXhpc3RpbmcoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmhhcyhsYWJlbCkpIG5leHQuZGVsZXRlKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBuZXh0LmFkZChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgICAgICBOb3V2ZWF1eCBtb3RzLWNsw6lzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICB7KGFpU3VnZ2VzdGlvbnM/Lm5ldyA/PyBbXSkubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC16aW5jLTQwMFwiPkF1Y3VuIHByb3Bvc8OpLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgKGFpU3VnZ2VzdGlvbnM/Lm5ldyA/PyBbXSkubWFwKChsYWJlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBhaVNlbGVjdGVkTmV3LmhhcyhsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjdXJzb3ItcG9pbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHB4LTMgcHktMSB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1hbWJlci00MDAvNDAgYmctYW1iZXItNTAwLzIwIHRleHQtYW1iZXItMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWlTZWxlY3RlZE5ldygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuaGFzKGxhYmVsKSkgbmV4dC5kZWxldGUobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIG5leHQuYWRkKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7YWlBcHBseU1lc3NhZ2UgPyA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC1zbSB0ZXh0LXJlZC00MDBcIj57YWlBcHBseU1lc3NhZ2V9PC9kaXY+IDogbnVsbH1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC01IGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBaU9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQW5udWxlclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNTAwIHRvLWVtZXJhbGQtNTAwIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTYwXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB2b2lkIGFwcGx5QWlLZXl3b3JkcygpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXthaUFwcGx5U3RhdHVzID09PSBcInNhdmluZ1wiIHx8ICFzdXBhYmFzZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHthaUFwcGx5U3RhdHVzID09PSBcInNhdmluZ1wiID8gXCJBcHBsaWNhdGlvbuKAplwiIDogXCJBcHBsaXF1ZXJcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogbnVsbH1cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVGFnc0NlbGwoeyB0YWdzIH06IHsgdGFnczogVGF4b25vbXlbXSB9KSB7XG4gIGlmICh0YWdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiA8dGQgY2xhc3NOYW1lPVwicHgtMyBweS0yIHRleHQtemluYy01MDBcIj7igJQ8L3RkPjtcbiAgfVxuXG4gIGNvbnN0IHNob3duID0gdGFncy5zbGljZSgwLCAzKTtcbiAgY29uc3QgcmVtYWluaW5nID0gdGFncy5sZW5ndGggLSBzaG93bi5sZW5ndGg7XG5cbiAgcmV0dXJuIChcbiAgICA8dGQgY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWF4LXctWzI0MHB4XSBmbGV4LXdyYXAgZ2FwLTFcIj5cbiAgICAgICAge3Nob3duLm1hcCgodCkgPT4gKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBrZXk9e3QuaWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTIgcHktMC41IHRleHQteHMgdGV4dC16aW5jLTIwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QubGFiZWx9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApKX1cbiAgICAgICAge3JlbWFpbmluZyA+IDAgPyAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0yIHB5LTAuNSB0ZXh0LXhzIHRleHQtemluYy0zMDBcIj5cbiAgICAgICAgICAgICt7cmVtYWluaW5nfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICA8L3RkPlxuICApO1xufVxuXG5mdW5jdGlvbiBSb3dVcGxvYWREcm9wem9uZSh7XG4gIHN0YXRlLFxuICBvblVwbG9hZCxcbn06IHtcbiAgc3RhdGU6IFJvd1VwbG9hZFN0YXRlIHwgdW5kZWZpbmVkO1xuICBvblVwbG9hZDogKGZpbGU6IEZpbGUpID0+IHZvaWQ7XG59KSB7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbZHJhZ0FjdGl2ZSwgc2V0RHJhZ0FjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlzVXBsb2FkaW5nID0gc3RhdGU/LnN0YXR1cyA9PT0gXCJ1cGxvYWRpbmdcIiB8fCBzdGF0ZT8uc3RhdHVzID09PSBcInNhdmluZ1wiO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1yaWdodFwiPlxuICAgICAgPGlucHV0XG4gICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgYWNjZXB0PVwidmlkZW8vKlwiXG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQpIG9uVXBsb2FkKHNlbGVjdGVkKTtcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQudmFsdWUgPSBcIlwiO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQteHMgZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgIGRyYWdBY3RpdmVcbiAgICAgICAgICAgID8gXCJib3JkZXItZW1lcmFsZC00MDAvNjAgYmctZW1lcmFsZC01MDAvMTAgdGV4dC1lbWVyYWxkLTEwMFwiXG4gICAgICAgICAgICA6IFwiYm9yZGVyLWVtZXJhbGQtNDAwLzMwIGJnLWVtZXJhbGQtNTAwLzEwIHRleHQtZW1lcmFsZC0xMDAgaG92ZXI6YmctZW1lcmFsZC01MDAvMTVcIlxuICAgICAgICB9ICR7aXNVcGxvYWRpbmcgPyBcInBvaW50ZXItZXZlbnRzLW5vbmUgb3BhY2l0eS03MFwiIDogXCJcIn1gfVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGlmICghaXNVcGxvYWRpbmcpIGlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCk7XG4gICAgICAgIH19XG4gICAgICAgIG9uRHJhZ0VudGVyPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXREcmFnQWN0aXZlKHRydWUpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXREcmFnQWN0aXZlKHRydWUpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0RHJhZ0FjdGl2ZShmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIG9uRHJvcD17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzZXREcmFnQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICBjb25zdCBkcm9wcGVkID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM/LlswXTtcbiAgICAgICAgICBpZiAoZHJvcHBlZCAmJiAhaXNVcGxvYWRpbmcpIG9uVXBsb2FkKGRyb3BwZWQpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aXNVcGxvYWRpbmdcbiAgICAgICAgICA/IHN0YXRlPy5zdGF0dXMgPT09IFwic2F2aW5nXCJcbiAgICAgICAgICAgID8gXCJTYXV2ZWdhcmRl4oCmXCJcbiAgICAgICAgICAgIDogYFVwbG9hZOKApiAke3N0YXRlPy5wcm9ncmVzcyA/PyAwfSVgXG4gICAgICAgICAgOiBcIkdsaXNzZXIgLyBjbGlxdWVyXCJ9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzdGF0ZT8uc3RhdHVzID09PSBcImVycm9yXCIgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPntzdGF0ZS5tZXNzYWdlfTwvZGl2PlxuICAgICAgKSA6IG51bGx9XG4gICAgICB7c3RhdGU/LnN0YXR1cyA9PT0gXCJkb25lXCIgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtZW1lcmFsZC0yMDBcIj5VcGxvYWQgT0sg4pyFPC9kaXY+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkltYWdlIiwiYnVkZ2V0TGV2ZWxzIiwiZm9ybWF0Q2FkIiwiY2xvdWRmbGFyZURvd25sb2FkU3JjIiwiY2xvdWRmbGFyZVRodW1ibmFpbFNyYyIsInVzZVN1cGFiYXNlQ2xpZW50IiwidXNlQWRtaW5TdGF0ZSIsImtleXdvcmRHcm91cEtpbmRzIiwibWVyZ2VUYXhvbm9taWVzQnlLaW5kcyIsInRheG9ub215R3JvdXBzIiwicGVuZGluZ0Nsb3VkZmxhcmVQcmVmaXgiLCJub3JtYWxpemVUZXh0IiwidmFsdWUiLCJub3JtYWxpemUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwibm9ybWFsaXplTWF0Y2hLZXkiLCJzdHJpcEV4dGVuc2lvbiIsImZpbGVuYW1lIiwibm9ybWFsaXplRmlsZW5hbWUiLCJiYXNlIiwibm9ybWFsaXplZCIsIndpdGhvdXRWZXJzaW9uIiwiZm9ybWF0RHVyYXRpb24iLCJzZWNvbmRzIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ0b3RhbCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm1pbnV0ZXMiLCJyZW1haW5pbmciLCJTdHJpbmciLCJwYWRTdGFydCIsImJ1aWxkQWlGcmFtZVRpbWVzIiwiYmFzZVNlY29uZHMiLCJjYW5kaWRhdGVzIiwidW5pcXVlIiwiU2V0IiwidGltZXMiLCJoYXMiLCJhZGQiLCJwdXNoIiwic2xpY2UiLCJpc1BlbmRpbmdWaWRlb1VpZCIsInVpZCIsInN0YXJ0c1dpdGgiLCJ1cGxvYWRGaWxlV2l0aFByb2dyZXNzIiwidXBsb2FkVVJMIiwiZmlsZSIsIm9uUHJvZ3Jlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInVwbG9hZCIsIm9ucHJvZ3Jlc3MiLCJldmVudCIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50Iiwicm91bmQiLCJsb2FkZWQiLCJtaW4iLCJvbmxvYWQiLCJzdGF0dXMiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiRXJyb3IiLCJvbmVycm9yIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInNlbmQiLCJBZG1pblBvcnRmb2xpb1BhZ2UiLCJzdXBhYmFzZSIsImlzQWRtaW4iLCJwYWdlU2l6ZSIsInRheG9ub21pZXMiLCJzZXRUYXhvbm9taWVzIiwidmlkZW9zIiwic2V0VmlkZW9zIiwidmlkZW9zTWVzc2FnZSIsInNldFZpZGVvc01lc3NhZ2UiLCJlZGl0aW5nVmlkZW8iLCJzZXRFZGl0aW5nVmlkZW8iLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwidG90YWxWaWRlb3MiLCJzZXRUb3RhbFZpZGVvcyIsInRpdGxlIiwic2V0VGl0bGUiLCJidWRnZXRNaW5JbmRleCIsInNldEJ1ZGdldE1pbkluZGV4IiwiYnVkZ2V0TWF4SW5kZXgiLCJzZXRCdWRnZXRNYXhJbmRleCIsImxlbmd0aCIsInRodW1iU2Vjb25kcyIsInNldFRodW1iU2Vjb25kcyIsImR1cmF0aW9uU2Vjb25kcyIsInNldER1cmF0aW9uU2Vjb25kcyIsInNlbGVjdGVkVGF4b25vbXlJZHMiLCJzZXRTZWxlY3RlZFRheG9ub215SWRzIiwic2V0RmlsZSIsInVwbG9hZFN0YXRlIiwic2V0VXBsb2FkU3RhdGUiLCJ1cGxvYWRNZXNzYWdlIiwic2V0VXBsb2FkTWVzc2FnZSIsInVwbG9hZFByb2dyZXNzIiwic2V0VXBsb2FkUHJvZ3Jlc3MiLCJyb3dVcGxvYWRzIiwic2V0Um93VXBsb2FkcyIsImJ1bGtVcGxvYWRzIiwic2V0QnVsa1VwbG9hZHMiLCJidWxrTWVzc2FnZSIsInNldEJ1bGtNZXNzYWdlIiwiYnVsa0Ryb3BBY3RpdmUiLCJzZXRCdWxrRHJvcEFjdGl2ZSIsImJ1bGtJbnB1dFJlZiIsImR1cmF0aW9uUmVmcmVzaFN0YXRlIiwic2V0RHVyYXRpb25SZWZyZXNoU3RhdGUiLCJkdXJhdGlvblJlZnJlc2hNZXNzYWdlIiwic2V0RHVyYXRpb25SZWZyZXNoTWVzc2FnZSIsImdyb3VwZWRUYXhvbm9taWVzIiwiZ3JvdXBzIiwidHlwZSIsIm9iamVjdGlmIiwia2V5d29yZCIsInN0eWxlIiwiZmVlbCIsInBhcmFtZXRyZSIsInQiLCJraW5kIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsImxhYmVsIiwibG9jYWxlQ29tcGFyZSIsInJlZnJlc2hUYXhvbm9taWVzIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsInRvZ2dsZUZlYXR1cmVkIiwidmlkZW8iLCJuZXh0VmFsdWUiLCJpc19mZWF0dXJlZCIsInByZXYiLCJtYXAiLCJpdGVtIiwiaWQiLCJlcnJvciIsInVwZGF0ZSIsImVxIiwibWVzc2FnZSIsInJlZnJlc2hWaWRlb3MiLCJ0byIsInJhd1ZpZGVvcyIsInZpZGVvc0Vycm9yIiwiY291bnQiLCJ2aWRlb3NDb3VudCIsInJhd1RheG9ub21pZXMiLCJ0YXhvbm9taWVzRXJyb3IiLCJhbGwiLCJhc2NlbmRpbmciLCJyYW5nZSIsInJhd0xpbmtzIiwibGlua3NFcnJvciIsImluIiwicmVzb2x2ZWRUYXhvbm9taWVzIiwidGF4b25vbXlCeUlkIiwiTWFwIiwic2V0IiwidGF4b25vbXlJZHNCeVZpZGVvSWQiLCJyb3ciLCJsaXN0IiwiZ2V0IiwidmlkZW9faWQiLCJ0YXhvbm9teV9pZCIsImh5ZHJhdGVkVmlkZW9zIiwidiIsImZpbHRlciIsIkJvb2xlYW4iLCJyZWZyZXNoTWlzc2luZ0R1cmF0aW9ucyIsInRhcmdldHMiLCJjbG91ZGZsYXJlX3VpZCIsImR1cmF0aW9uX3NlY29uZHMiLCJ1cGRhdGVkQ291bnQiLCJkdXJhdGlvbiIsImZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uIiwiZSIsInRvdGFsUGFnZXMiLCJjZWlsIiwicGVuZGluZ1ZpZGVvcyIsImNyZWF0ZURpcmVjdFVwbG9hZCIsInNlc3Npb25EYXRhIiwiYXV0aCIsImdldFNlc3Npb24iLCJhY2Nlc3NUb2tlbiIsInNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJqc29uIiwib2siLCJkZXRhaWxzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXBsb2FkVG9DbG91ZGZsYXJlIiwidXBsb2FkRmlsZSIsInVwbG9hZFZpZGVvIiwicHJvZ3Jlc3MiLCJkdXJhdGlvbkZyb21DbG91ZGZsYXJlIiwiaW5zZXJ0ZWQiLCJ2aWRlb0Vycm9yIiwiaW5zZXJ0IiwidGh1bWJuYWlsX3RpbWVfc2Vjb25kcyIsImJ1ZGdldF9taW4iLCJidWRnZXRfbWF4Iiwic2luZ2xlIiwidGF4b25vbXlJZHMiLCJBcnJheSIsInJvd3MiLCJ0YXhvbm9teUlkIiwibGlua0Vycm9yIiwiYXR0YWNoVXBsb2FkVG9WaWRlbyIsIm9wdGlvbnMiLCJvblN0YWdlIiwidXBkYXRlRXJyb3IiLCJkZWxldGVWaWRlbyIsImNvbmZpcm0iLCJkZWxldGUiLCJhbGxUYXhvbm9teUlkcyIsInVwZGF0ZVJvd1VwbG9hZCIsInZpZGVvSWQiLCJuZXh0IiwiY3VycmVudCIsInN0YXJ0Um93VXBsb2FkIiwic3RhZ2UiLCJsb2FkUGVuZGluZ1ZpZGVvc0Zvck1hdGNoIiwibGlrZSIsImVucXVldWVCdWxrVXBsb2FkcyIsImZpbGVzIiwicGVuZGluZ01hdGNoZXMiLCJwZW5kaW5nQnlUaXRsZSIsImtleSIsIm5ld0l0ZW1zIiwibmFtZSIsIm1hdGNoZXMiLCJzaGlmdCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzdGFydEJ1bGtVcGxvYWQiLCJlbnRyeSIsInRvdGFsUGFnZXNUZXh0IiwiZGl2IiwiY2xhc3NOYW1lIiwic2VjdGlvbiIsImgyIiwiaW5wdXQiLCJvbkNoYW5nZSIsInRhcmdldCIsImlkeCIsIm9wdGlvbiIsInJhdyIsImFjY2VwdCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImdyb3VwIiwia2luZHMiLCJjaGVja2VkIiwiY29kZSIsInBhZ2UiLCJjbGljayIsInJlZiIsIm11bHRpcGxlIiwiY3VycmVudFRhcmdldCIsIm9uRHJhZ0VudGVyIiwicHJldmVudERlZmF1bHQiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJkYXRhVHJhbnNmZXIiLCJ3aWR0aCIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJieUtpbmQiLCJidWRnZXRUZXh0IiwiZHVyYXRpb25UZXh0Iiwia2V5d29yZEdyb3VwVGFncyIsInRkIiwic3JjIiwiYWx0IiwiaGVpZ2h0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYXJpYS1sYWJlbCIsIlRhZ3NDZWxsIiwidGFncyIsIlJvd1VwbG9hZERyb3B6b25lIiwic3RhdGUiLCJvblVwbG9hZCIsImZpbGVUb1VwbG9hZCIsIkVkaXRWaWRlb01vZGFsIiwib25DbG9zZSIsIm9uU2F2ZWQiLCJvbkZldGNoRHVyYXRpb24iLCJkdXJhdGlvbkZldGNoU3RhdHVzIiwic2V0RHVyYXRpb25GZXRjaFN0YXR1cyIsImR1cmF0aW9uRmV0Y2hNZXNzYWdlIiwic2V0RHVyYXRpb25GZXRjaE1lc3NhZ2UiLCJpbmRleE9mIiwic2V0U3RhdHVzIiwic2V0TWVzc2FnZSIsImFpU3RhdHVzIiwic2V0QWlTdGF0dXMiLCJhaU1lc3NhZ2UiLCJzZXRBaU1lc3NhZ2UiLCJhaU9wZW4iLCJzZXRBaU9wZW4iLCJhaVN1Z2dlc3Rpb25zIiwic2V0QWlTdWdnZXN0aW9ucyIsImFpU2VsZWN0ZWRFeGlzdGluZyIsInNldEFpU2VsZWN0ZWRFeGlzdGluZyIsImFpU2VsZWN0ZWROZXciLCJzZXRBaVNlbGVjdGVkTmV3IiwiYWlGcmFtZXMiLCJzZXRBaUZyYW1lcyIsImFpQXBwbHlTdGF0dXMiLCJzZXRBaUFwcGx5U3RhdHVzIiwiYWlBcHBseU1lc3NhZ2UiLCJzZXRBaUFwcGx5TWVzc2FnZSIsInZpZGVvUmVmIiwicGxheWVyVGltZSIsInNldFBsYXllclRpbWUiLCJwbGF5ZXJFcnJvciIsInNldFBsYXllckVycm9yIiwidXNlSWZyYW1lUGxheWVyIiwic2V0VXNlSWZyYW1lUGxheWVyIiwidGh1bWJDaG9pY2VzIiwic2V0VGh1bWJDaG9pY2VzIiwiYXZhaWxhYmxlS2V5d29yZExhYmVscyIsImtleXdvcmRNYXAiLCJ0YXhvbm9teSIsImJ1aWxkUmFuZG9tVGh1bWJUaW1lcyIsInNhZmVEdXJhdGlvbiIsInNlZ21lbnQiLCJpIiwic3RhcnQiLCJlbmQiLCJyYW5kb20iLCJyZWZyZXNoVGh1bWJDaG9pY2VzIiwicmVxdWVzdEFpS2V5d29yZHMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNsb3VkZmxhcmVVaWQiLCJhdmFpbGFibGVLZXl3b3JkcyIsInN1Z2dlc3Rpb25zIiwiZXhpc3RpbmciLCJuZXciLCJhcHBseUFpS2V5d29yZHMiLCJzZWxlY3RlZEV4aXN0aW5nIiwic2VsZWN0ZWROZXciLCJkZXNpcmVkSWRzIiwibWlzc2luZ0xhYmVscyIsIm1pc3NpbmdOb3JtYWxpemVkIiwidHJpbW1lZCIsImluc2VydEVycm9yIiwidXBzZXJ0Iiwib25Db25mbGljdCIsInNhdmUiLCJjbGVhblRpdGxlIiwiZGVzaXJlZCIsImRlbGV0ZUVycm9yIiwiaGFuZGxlRmV0Y2hEdXJhdGlvbiIsImFwcGx5UGxheWVyVGltZSIsImN1cnJlbnRUaW1lIiwic3BhbiIsImlmcmFtZSIsImNsb3VkZmxhcmVJZnJhbWVTcmMiLCJhbGxvdyIsImFsbG93RnVsbFNjcmVlbiIsImNvbnRyb2xzIiwicHJlbG9hZCIsInBvc3RlciIsIm9uVGltZVVwZGF0ZSIsIm9uRXJyb3IiLCJ0aW1lIiwic2VsZWN0ZWQiLCJoMyIsInNob3duIiwiaW5wdXRSZWYiLCJkcmFnQWN0aXZlIiwic2V0RHJhZ0FjdGl2ZSIsImlzVXBsb2FkaW5nIiwiZHJvcHBlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/admin/portfolio/page.tsx\n"));

/***/ })

});