"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/portfolio/page",{

/***/ "(app-pages-browser)/./src/app/admin/portfolio/page.tsx":
/*!******************************************!*\
  !*** ./src/app/admin/portfolio/page.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminPortfolioPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _lib_budget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/budget */ \"(app-pages-browser)/./src/lib/budget.ts\");\n/* harmony import */ var _lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/cloudflare */ \"(app-pages-browser)/./src/lib/cloudflare.ts\");\n/* harmony import */ var _lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/supabase/useClient */ \"(app-pages-browser)/./src/lib/supabase/useClient.ts\");\n/* harmony import */ var _app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/app/admin/_hooks/useAdminState */ \"(app-pages-browser)/./src/app/admin/_hooks/useAdminState.ts\");\n/* harmony import */ var _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/app/admin/_lib/taxonomies */ \"(app-pages-browser)/./src/app/admin/_lib/taxonomies.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\nconst pendingCloudflarePrefix = \"pending:\";\nfunction normalizeText(value) {\n    return value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[\\u00a0]/g, \" \").toLowerCase().replace(/[^a-z0-9]+/g, \" \").trim().replace(/\\s+/g, \" \");\n}\nfunction normalizeMatchKey(value) {\n    return normalizeText(value).replace(/\\s+/g, \"\");\n}\nfunction stripExtension(filename) {\n    return filename.replace(/\\.[^/.]+$/, \"\");\n}\nfunction normalizeFilename(filename) {\n    const base = stripExtension(filename);\n    const normalized = normalizeText(base);\n    const withoutVersion = normalized.replace(/\\b(?:v|version)\\s*\\d+\\b/g, \" \");\n    return normalizeMatchKey(withoutVersion);\n}\nfunction formatDuration(seconds) {\n    if (!Number.isFinite(seconds)) return \"—\";\n    const total = Math.max(0, Math.floor(seconds ?? 0));\n    const minutes = Math.floor(total / 60);\n    const remaining = total % 60;\n    return `${minutes}:${String(remaining).padStart(2, \"0\")}`;\n}\nfunction buildAiFrameTimes(baseSeconds) {\n    const base = typeof baseSeconds === \"number\" && Number.isFinite(baseSeconds) ? Math.max(1, Math.floor(baseSeconds)) : 1;\n    const candidates = [\n        base,\n        base + 3,\n        base + 6,\n        base + 9,\n        base + 12\n    ];\n    const unique = new Set();\n    const times = [];\n    for (const value of candidates){\n        if (unique.has(value)) continue;\n        unique.add(value);\n        times.push(value);\n    }\n    return times.slice(0, 5);\n}\nfunction isPendingVideoUid(uid) {\n    return uid.startsWith(pendingCloudflarePrefix);\n}\nfunction uploadFileWithProgress(uploadURL, file, onProgress) {\n    return new Promise((resolve, reject)=>{\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", uploadURL);\n        xhr.upload.onprogress = (event)=>{\n            if (!onProgress) return;\n            if (event.lengthComputable) {\n                const percent = Math.round(event.loaded / event.total * 100);\n                onProgress(Math.min(100, Math.max(0, percent)));\n            }\n        };\n        xhr.onload = ()=>{\n            if (xhr.status >= 200 && xhr.status < 300) {\n                onProgress?.(100);\n                resolve();\n                return;\n            }\n            const text = xhr.responseText || \"Upload Cloudflare échoué.\";\n            reject(new Error(text));\n        };\n        xhr.onerror = ()=>{\n            reject(new Error(\"Upload Cloudflare échoué.\"));\n        };\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        xhr.send(formData);\n    });\n}\nfunction AdminPortfolioPage() {\n    _s();\n    const supabase = (0,_lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__.useSupabaseClient)();\n    const { isAdmin } = (0,_app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__.useAdminState)(supabase);\n    const pageSize = 50;\n    const [taxonomies, setTaxonomies] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videosMessage, setVideosMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingVideo, setEditingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [totalVideos, setTotalVideos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [budgetMinIndex, setBudgetMinIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [budgetMaxIndex, setBudgetMaxIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1);\n    const [thumbSeconds, setThumbSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [durationSeconds, setDurationSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedTaxonomyIds, setSelectedTaxonomyIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadState, setUploadState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [uploadMessage, setUploadMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadProgress, setUploadProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showUploader, setShowUploader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [rowUploads, setRowUploads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [bulkUploads, setBulkUploads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bulkMessage, setBulkMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [bulkDropActive, setBulkDropActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const bulkInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sortKey, setSortKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"title\");\n    const [sortDirection, setSortDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"asc\");\n    const [durationRefreshState, setDurationRefreshState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [durationRefreshMessage, setDurationRefreshMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const groupedTaxonomies = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[groupedTaxonomies]\": ()=>{\n            const groups = {\n                type: [],\n                objectif: [],\n                keyword: [],\n                style: [],\n                feel: [],\n                parametre: []\n            };\n            for (const t of taxonomies)groups[t.kind].push(t);\n            for (const kind of Object.keys(groups)){\n                groups[kind].sort({\n                    \"AdminPortfolioPage.useMemo[groupedTaxonomies]\": (a, b)=>a.label.localeCompare(b.label, \"fr\")\n                }[\"AdminPortfolioPage.useMemo[groupedTaxonomies]\"]);\n            }\n            return groups;\n        }\n    }[\"AdminPortfolioPage.useMemo[groupedTaxonomies]\"], [\n        taxonomies\n    ]);\n    const filteredVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[filteredVideos]\": ()=>{\n            if (!searchQuery.trim()) return videos;\n            const query = normalizeText(searchQuery);\n            return videos.filter({\n                \"AdminPortfolioPage.useMemo[filteredVideos]\": (video)=>{\n                    const tags = video.taxonomies.map({\n                        \"AdminPortfolioPage.useMemo[filteredVideos].tags\": (t)=>t.label\n                    }[\"AdminPortfolioPage.useMemo[filteredVideos].tags\"]).join(\" \");\n                    const haystack = normalizeText(`${video.title} ${video.cloudflare_uid} ${tags}`);\n                    return haystack.includes(query);\n                }\n            }[\"AdminPortfolioPage.useMemo[filteredVideos]\"]);\n        }\n    }[\"AdminPortfolioPage.useMemo[filteredVideos]\"], [\n        searchQuery,\n        videos\n    ]);\n    const sortedVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[sortedVideos]\": ()=>{\n            const items = [\n                ...filteredVideos\n            ];\n            const getTagValue = {\n                \"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\": (video, kind)=>{\n                    const tags = kind === \"keywords\" ? video.taxonomies.filter({\n                        \"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\": (t)=>_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.keywordGroupKinds.includes(t.kind)\n                    }[\"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\"]) : video.taxonomies.filter({\n                        \"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\": (t)=>t.kind === kind\n                    }[\"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\"]);\n                    const sorted = tags.map({\n                        \"AdminPortfolioPage.useMemo[sortedVideos].getTagValue.sorted\": (t)=>t.label\n                    }[\"AdminPortfolioPage.useMemo[sortedVideos].getTagValue.sorted\"]).sort({\n                        \"AdminPortfolioPage.useMemo[sortedVideos].getTagValue.sorted\": (a, b)=>a.localeCompare(b, \"fr\")\n                    }[\"AdminPortfolioPage.useMemo[sortedVideos].getTagValue.sorted\"]);\n                    return sorted[0] ?? \"\";\n                }\n            }[\"AdminPortfolioPage.useMemo[sortedVideos].getTagValue\"];\n            const getValue = {\n                \"AdminPortfolioPage.useMemo[sortedVideos].getValue\": (video)=>{\n                    switch(sortKey){\n                        case \"title\":\n                            return video.title ?? \"\";\n                        case \"budget\":\n                            return video.budget_min ?? \"\";\n                        case \"duration\":\n                            return video.duration_seconds ?? Number.POSITIVE_INFINITY;\n                        case \"featured\":\n                            return video.is_featured ? 1 : 0;\n                        case \"type\":\n                            return getTagValue(video, \"type\");\n                        case \"objectif\":\n                            return getTagValue(video, \"objectif\");\n                        case \"keywords\":\n                            return getTagValue(video, \"keywords\");\n                        case \"feel\":\n                            return getTagValue(video, \"feel\");\n                        default:\n                            return \"\";\n                    }\n                }\n            }[\"AdminPortfolioPage.useMemo[sortedVideos].getValue\"];\n            items.sort({\n                \"AdminPortfolioPage.useMemo[sortedVideos]\": (a, b)=>{\n                    const left = getValue(a);\n                    const right = getValue(b);\n                    let order = 0;\n                    if (typeof left === \"number\" && typeof right === \"number\") {\n                        order = left - right;\n                    } else if (typeof left === \"string\" && typeof right === \"string\") {\n                        order = left.localeCompare(right, \"fr\");\n                    } else {\n                        order = String(left).localeCompare(String(right), \"fr\");\n                    }\n                    return sortDirection === \"asc\" ? order : -order;\n                }\n            }[\"AdminPortfolioPage.useMemo[sortedVideos]\"]);\n            return items;\n        }\n    }[\"AdminPortfolioPage.useMemo[sortedVideos]\"], [\n        filteredVideos,\n        sortDirection,\n        sortKey\n    ]);\n    function toggleSort(nextKey) {\n        setSortKey((current)=>{\n            if (current !== nextKey) {\n                setSortDirection(\"asc\");\n                return nextKey;\n            }\n            setSortDirection((prev)=>prev === \"asc\" ? \"desc\" : \"asc\");\n            return current;\n        });\n    }\n    const refreshTaxonomies = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshTaxonomies]\": async ()=>{\n            if (!supabase) return;\n            const { data } = await supabase.from(\"taxonomies\").select(\"id,kind,label\").order(\"label\");\n            setTaxonomies(data ?? []);\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshTaxonomies]\"], [\n        supabase\n    ]);\n    const toggleFeatured = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[toggleFeatured]\": async (video)=>{\n            if (!supabase) return;\n            const nextValue = !video.is_featured;\n            setVideos({\n                \"AdminPortfolioPage.useCallback[toggleFeatured]\": (prev)=>prev.map({\n                        \"AdminPortfolioPage.useCallback[toggleFeatured]\": (item)=>item.id === video.id ? {\n                                ...item,\n                                is_featured: nextValue\n                            } : item\n                    }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"])\n            }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"]);\n            const { error } = await supabase.from(\"videos\").update({\n                is_featured: nextValue\n            }).eq(\"id\", video.id);\n            if (error) {\n                setVideos({\n                    \"AdminPortfolioPage.useCallback[toggleFeatured]\": (prev)=>prev.map({\n                            \"AdminPortfolioPage.useCallback[toggleFeatured]\": (item)=>item.id === video.id ? {\n                                    ...item,\n                                    is_featured: video.is_featured\n                                } : item\n                        }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"])\n                }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"]);\n                setVideosMessage(error.message);\n            }\n        }\n    }[\"AdminPortfolioPage.useCallback[toggleFeatured]\"], [\n        supabase\n    ]);\n    const refreshVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshVideos]\": async ()=>{\n            if (!supabase) return;\n            setVideosMessage(null);\n            const from = (currentPage - 1) * pageSize;\n            const to = from + pageSize - 1;\n            const [{ data: rawVideos, error: videosError, count: videosCount }, { data: rawTaxonomies, error: taxonomiesError }] = await Promise.all([\n                supabase.from(\"videos\").select(\"id,title,cloudflare_uid,status,thumbnail_time_seconds,duration_seconds,budget_min,budget_max,is_featured,created_at\", {\n                    count: \"exact\"\n                }).order(\"created_at\", {\n                    ascending: false\n                }).range(from, to),\n                supabase.from(\"taxonomies\").select(\"id,kind,label\")\n            ]);\n            let rawLinks = [];\n            let linksError = null;\n            if (!videosError && (rawVideos ?? []).length > 0) {\n                const { data, error } = await supabase.from(\"video_taxonomies\").select(\"video_id,taxonomy_id\").in(\"video_id\", (rawVideos ?? []).map({\n                    \"AdminPortfolioPage.useCallback[refreshVideos]\": (video)=>video.id\n                }[\"AdminPortfolioPage.useCallback[refreshVideos]\"]));\n                rawLinks = data ?? [];\n                linksError = error;\n            }\n            if (videosError || linksError || taxonomiesError) {\n                setVideosMessage(videosError?.message ?? linksError?.message ?? taxonomiesError?.message ?? \"Erreur\");\n                setVideos([]);\n                return;\n            }\n            const resolvedTaxonomies = rawTaxonomies ?? [];\n            setTaxonomies(resolvedTaxonomies);\n            setTotalVideos(videosCount ?? 0);\n            const taxonomyById = new Map();\n            for (const t of resolvedTaxonomies)taxonomyById.set(t.id, t);\n            const taxonomyIdsByVideoId = new Map();\n            for (const row of rawLinks ?? []){\n                const list = taxonomyIdsByVideoId.get(row.video_id) ?? [];\n                list.push(row.taxonomy_id);\n                taxonomyIdsByVideoId.set(row.video_id, list);\n            }\n            const hydratedVideos = (rawVideos ?? []).map({\n                \"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\": (v)=>({\n                        ...v,\n                        taxonomies: (taxonomyIdsByVideoId.get(v.id) ?? []).map({\n                            \"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\": (id)=>taxonomyById.get(id)\n                        }[\"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\"]).filter(Boolean)\n                    })\n            }[\"AdminPortfolioPage.useCallback[refreshVideos].hydratedVideos\"]);\n            setVideos(hydratedVideos);\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshVideos]\"], [\n        supabase,\n        currentPage,\n        pageSize\n    ]);\n    const refreshMissingDurations = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminPortfolioPage.useCallback[refreshMissingDurations]\": async ()=>{\n            if (!supabase) return;\n            if (!isAdmin) {\n                setDurationRefreshState(\"error\");\n                setDurationRefreshMessage(\"Accès refusé (admin requis).\");\n                return;\n            }\n            const targets = videos.filter({\n                \"AdminPortfolioPage.useCallback[refreshMissingDurations].targets\": (video)=>!isPendingVideoUid(video.cloudflare_uid) && !Number.isFinite(video.duration_seconds)\n            }[\"AdminPortfolioPage.useCallback[refreshMissingDurations].targets\"]);\n            if (targets.length === 0) {\n                setDurationRefreshState(\"idle\");\n                setDurationRefreshMessage(\"Aucune durée manquante.\");\n                return;\n            }\n            setDurationRefreshState(\"loading\");\n            setDurationRefreshMessage(`Lecture de ${targets.length} vidéo(s)…`);\n            let updatedCount = 0;\n            try {\n                for (const video of targets){\n                    const duration = await fetchCloudflareDuration(video.cloudflare_uid);\n                    if (!Number.isFinite(duration)) continue;\n                    const { error } = await supabase.from(\"videos\").update({\n                        duration_seconds: Math.max(0, Math.floor(duration ?? 0))\n                    }).eq(\"id\", video.id);\n                    if (!error) updatedCount += 1;\n                }\n                setDurationRefreshState(\"idle\");\n                setDurationRefreshMessage(`Durée(s) mise(s) à jour: ${updatedCount}/${targets.length}.`);\n                await refreshVideos();\n            } catch (e) {\n                setDurationRefreshState(\"error\");\n                setDurationRefreshMessage(e instanceof Error ? e.message : \"Erreur\");\n            }\n        }\n    }[\"AdminPortfolioPage.useCallback[refreshMissingDurations]\"], [\n        fetchCloudflareDuration,\n        isAdmin,\n        refreshVideos,\n        supabase,\n        videos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPortfolioPage.useEffect\": ()=>{\n            if (!supabase) return;\n            void refreshTaxonomies();\n            void refreshVideos();\n        }\n    }[\"AdminPortfolioPage.useEffect\"], [\n        supabase,\n        refreshTaxonomies,\n        refreshVideos\n    ]);\n    const totalPages = Math.max(1, Math.ceil(totalVideos / pageSize));\n    const pendingVideos = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[pendingVideos]\": ()=>videos.filter({\n                \"AdminPortfolioPage.useMemo[pendingVideos]\": (video)=>isPendingVideoUid(video.cloudflare_uid)\n            }[\"AdminPortfolioPage.useMemo[pendingVideos]\"])\n    }[\"AdminPortfolioPage.useMemo[pendingVideos]\"], [\n        videos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPortfolioPage.useEffect\": ()=>{\n            if (currentPage > totalPages) {\n                setCurrentPage(totalPages);\n            }\n        }\n    }[\"AdminPortfolioPage.useEffect\"], [\n        currentPage,\n        totalPages\n    ]);\n    async function createDirectUpload() {\n        if (!supabase) throw new Error(\"Supabase non initialisé.\");\n        const { data: sessionData } = await supabase.auth.getSession();\n        const accessToken = sessionData.session?.access_token;\n        if (!accessToken) throw new Error(\"Non connecté.\");\n        const response = await fetch(\"/api/cloudflare/direct-upload\", {\n            method: \"POST\",\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        });\n        const json = await response.json();\n        if (!response.ok || \"error\" in json) {\n            const details = \"details\" in json ? `: ${json.details}` : \"\";\n            throw new Error((\"error\" in json ? json.error : \"Erreur\") + details);\n        }\n        return json;\n    }\n    async function fetchCloudflareDuration(uid) {\n        if (!supabase) throw new Error(\"Supabase non initialisé.\");\n        const { data: sessionData } = await supabase.auth.getSession();\n        const accessToken = sessionData.session?.access_token;\n        if (!accessToken) throw new Error(\"Non connecté.\");\n        const response = await fetch(`/api/cloudflare/video-info?uid=${encodeURIComponent(uid)}`, {\n            method: \"GET\",\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        });\n        const json = await response.json();\n        if (!response.ok || \"error\" in json) {\n            const details = \"details\" in json ? `: ${json.details}` : \"\";\n            throw new Error((\"error\" in json ? json.error : \"Erreur\") + details);\n        }\n        return json.durationSeconds ?? null;\n    }\n    async function uploadToCloudflare(uploadFile, onProgress) {\n        const { uploadURL, uid } = await createDirectUpload();\n        await uploadFileWithProgress(uploadURL, uploadFile, onProgress);\n        return uid;\n    }\n    async function uploadVideo() {\n        if (!supabase) return;\n        setUploadMessage(null);\n        setUploadState(\"requesting\");\n        setUploadProgress(null);\n        if (!isAdmin) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Accès refusé (admin requis).\");\n            return;\n        }\n        if (!file) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Choisis un fichier vidéo.\");\n            return;\n        }\n        if (!title.trim()) {\n            setUploadState(\"error\");\n            setUploadMessage(\"Titre requis.\");\n            return;\n        }\n        try {\n            setUploadState(\"uploading\");\n            setUploadProgress(0);\n            const uid = await uploadToCloudflare(file, (progress)=>{\n                setUploadProgress(progress);\n            });\n            let durationFromCloudflare = null;\n            try {\n                durationFromCloudflare = await fetchCloudflareDuration(uid);\n                setDurationSeconds(durationFromCloudflare);\n            } catch  {\n                durationFromCloudflare = null;\n            }\n            setUploadState(\"saving\");\n            const { data: inserted, error: videoError } = await supabase.from(\"videos\").insert({\n                title: title.trim(),\n                cloudflare_uid: uid,\n                status: \"processing\",\n                thumbnail_time_seconds: Number.isFinite(thumbSeconds) ? Math.max(0, Math.floor(thumbSeconds)) : null,\n                duration_seconds: Number.isFinite(durationFromCloudflare) ? Math.max(0, Math.floor(durationFromCloudflare ?? 0)) : Number.isFinite(durationSeconds) ? Math.max(0, Math.floor(durationSeconds ?? 0)) : null,\n                budget_min: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMinIndex],\n                budget_max: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMaxIndex]\n            }).select(\"id\").single();\n            if (videoError || !inserted?.id) {\n                throw new Error(videoError?.message ?? \"Erreur DB (videos)\");\n            }\n            const taxonomyIds = Array.from(selectedTaxonomyIds);\n            if (taxonomyIds.length > 0) {\n                const rows = taxonomyIds.map((taxonomyId)=>({\n                        video_id: inserted.id,\n                        taxonomy_id: taxonomyId\n                    }));\n                const { error: linkError } = await supabase.from(\"video_taxonomies\").insert(rows);\n                if (linkError) {\n                    throw new Error(linkError.message);\n                }\n            }\n            setUploadState(\"done\");\n            setUploadMessage(\"Vidéo ajoutée. (Le statut 'ready' sera géré plus tard.)\");\n            setTitle(\"\");\n            setFile(null);\n            setUploadProgress(null);\n            setDurationSeconds(null);\n            setSelectedTaxonomyIds(new Set());\n            await refreshVideos();\n        } catch (e) {\n            setUploadState(\"error\");\n            setUploadMessage(e instanceof Error ? e.message : \"Erreur\");\n        }\n    }\n    async function attachUploadToVideo(video, uploadFile, options) {\n        if (!supabase) return;\n        if (!isAdmin) throw new Error(\"Accès refusé (admin requis).\");\n        options?.onStage?.(\"uploading\");\n        const uid = await uploadToCloudflare(uploadFile, options?.onProgress);\n        options?.onStage?.(\"saving\");\n        const { error: updateError } = await supabase.from(\"videos\").update({\n            cloudflare_uid: uid,\n            status: \"processing\",\n            thumbnail_time_seconds: video.thumbnail_time_seconds ?? 1\n        }).eq(\"id\", video.id);\n        if (updateError) throw new Error(updateError.message);\n    }\n    async function deleteVideo(video) {\n        if (!supabase) return;\n        if (!confirm(`Supprimer \"${video.title}\" de Supabase? (La vidéo restera sur Cloudflare)`)) {\n            return;\n        }\n        setVideosMessage(null);\n        const { error } = await supabase.from(\"videos\").delete().eq(\"id\", video.id);\n        if (error) {\n            setVideosMessage(error.message);\n            return;\n        }\n        await refreshVideos();\n    }\n    const allTaxonomyIds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminPortfolioPage.useMemo[allTaxonomyIds]\": ()=>new Set(taxonomies.map({\n                \"AdminPortfolioPage.useMemo[allTaxonomyIds]\": (t)=>t.id\n            }[\"AdminPortfolioPage.useMemo[allTaxonomyIds]\"]))\n    }[\"AdminPortfolioPage.useMemo[allTaxonomyIds]\"], [\n        taxonomies\n    ]);\n    function updateRowUpload(videoId, next) {\n        setRowUploads((prev)=>{\n            const current = prev[videoId] ?? {\n                status: \"queued\",\n                progress: 0\n            };\n            return {\n                ...prev,\n                [videoId]: {\n                    ...current,\n                    ...next\n                }\n            };\n        });\n    }\n    async function startRowUpload(video, uploadFile) {\n        if (!isAdmin) {\n            updateRowUpload(video.id, {\n                status: \"error\",\n                progress: 0,\n                message: \"Accès refusé (admin requis).\"\n            });\n            return;\n        }\n        updateRowUpload(video.id, {\n            status: \"uploading\",\n            progress: 0,\n            message: null\n        });\n        try {\n            await attachUploadToVideo(video, uploadFile, {\n                onProgress: (progress)=>updateRowUpload(video.id, {\n                        progress\n                    }),\n                onStage: (stage)=>updateRowUpload(video.id, {\n                        status: stage === \"saving\" ? \"saving\" : \"uploading\"\n                    })\n            });\n            updateRowUpload(video.id, {\n                status: \"done\",\n                progress: 100\n            });\n            await refreshVideos();\n        } catch (e) {\n            updateRowUpload(video.id, {\n                status: \"error\",\n                message: e instanceof Error ? e.message : \"Erreur\"\n            });\n        }\n    }\n    async function loadPendingVideosForMatch() {\n        if (!supabase) return pendingVideos;\n        const { data, error } = await supabase.from(\"videos\").select(\"id,title,cloudflare_uid\").like(\"cloudflare_uid\", `${pendingCloudflarePrefix}%`);\n        if (error) {\n            setBulkMessage(error.message);\n            return pendingVideos;\n        }\n        return data ?? [];\n    }\n    async function enqueueBulkUploads(files) {\n        if (!files.length) return;\n        setBulkMessage(null);\n        if (!isAdmin) {\n            setBulkMessage(\"Accès refusé (admin requis).\");\n            return;\n        }\n        const pendingMatches = await loadPendingVideosForMatch();\n        const pendingByTitle = new Map();\n        for (const video of pendingMatches){\n            const key = normalizeMatchKey(video.title);\n            const list = pendingByTitle.get(key) ?? [];\n            list.push(video);\n            pendingByTitle.set(key, list);\n        }\n        const newItems = files.map((uploadFile)=>{\n            const key = normalizeFilename(uploadFile.name);\n            const matches = pendingByTitle.get(key);\n            const video = matches && matches.length > 0 ? matches.shift() ?? null : null;\n            return {\n                id: crypto.randomUUID(),\n                file: uploadFile,\n                video,\n                status: video ? \"queued\" : \"error\",\n                progress: 0,\n                message: video ? null : \"Aucune vidéo en attente trouvée pour ce nom de fichier.\"\n            };\n        });\n        setBulkUploads((prev)=>[\n                ...newItems,\n                ...prev\n            ]);\n        for (const item of newItems){\n            if (!item.video) continue;\n            void startBulkUpload(item);\n        }\n    }\n    async function startBulkUpload(item) {\n        if (!item.video) return;\n        setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                    ...entry,\n                    status: \"uploading\",\n                    progress: 0,\n                    message: null\n                } : entry));\n        try {\n            await attachUploadToVideo(item.video, item.file, {\n                onProgress: (progress)=>setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                                ...entry,\n                                progress\n                            } : entry)),\n                onStage: (stage)=>setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                                ...entry,\n                                status: stage === \"saving\" ? \"saving\" : \"uploading\"\n                            } : entry))\n            });\n            setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                        ...entry,\n                        status: \"done\",\n                        progress: 100\n                    } : entry));\n            await refreshVideos();\n        } catch (e) {\n            setBulkUploads((prev)=>prev.map((entry)=>entry.id === item.id ? {\n                        ...entry,\n                        status: \"error\",\n                        message: e instanceof Error ? e.message : \"Erreur\"\n                    } : entry));\n        }\n    }\n    const totalPagesText = `Page ${currentPage} / ${totalPages} (${totalVideos})`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid w-full grid-cols-1 gap-4 lg:grid-cols-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"rounded-2xl border border-white/10 bg-zinc-950/40 p-4 backdrop-blur lg:col-span-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-sm font-semibold\",\n                                children: \"Uploader une vid\\xe9o\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 771,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs font-semibold text-zinc-200 hover:bg-white/10\",\n                                type: \"button\",\n                                onClick: ()=>setShowUploader((prev)=>!prev),\n                                children: showUploader ? \"Masquer\" : \"Afficher\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 772,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 770,\n                        columnNumber: 9\n                    }, this),\n                    showUploader ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Titre\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 784,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100 placeholder:text-zinc-500\",\n                                                value: title,\n                                                onChange: (e)=>setTitle(e.target.value)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 785,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 783,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: \"Budget min\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 794,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                        value: budgetMinIndex,\n                                                        onChange: (e)=>{\n                                                            const next = Number(e.target.value);\n                                                            setBudgetMinIndex(Math.min(next, budgetMaxIndex));\n                                                        },\n                                                        children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: idx,\n                                                                children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                            }, b, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 804,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 795,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 793,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: \"Budget max\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 811,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                        value: budgetMaxIndex,\n                                                        onChange: (e)=>{\n                                                            const next = Number(e.target.value);\n                                                            setBudgetMaxIndex(Math.max(next, budgetMinIndex));\n                                                        },\n                                                        children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: idx,\n                                                                children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                            }, b, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 821,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 812,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 792,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Thumbnail (secondes)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 830,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                value: thumbSeconds,\n                                                onChange: (e)=>setThumbSeconds(Number(e.target.value)),\n                                                type: \"number\",\n                                                min: 0\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 831,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 829,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Dur\\xe9e (secondes)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 840,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                value: durationSeconds ?? \"\",\n                                                onChange: (e)=>{\n                                                    const raw = e.target.value;\n                                                    setDurationSeconds(raw === \"\" ? null : Number(raw));\n                                                },\n                                                type: \"number\",\n                                                min: 0\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 841,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 839,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium\",\n                                                children: \"Fichier vid\\xe9o\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 854,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100 file:mr-3 file:rounded-lg file:border-0 file:bg-white/10 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white hover:file:bg-white/20\",\n                                                type: \"file\",\n                                                accept: \"video/*\",\n                                                onChange: (e)=>setFile(e.target.files?.[0] ?? null)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 855,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 853,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"w-full rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                        type: \"button\",\n                                        onClick: ()=>void uploadVideo(),\n                                        disabled: uploadState === \"requesting\" || uploadState === \"uploading\" || uploadState === \"saving\",\n                                        children: uploadState === \"requesting\" ? \"Création URL…\" : uploadState === \"uploading\" ? \"Upload…\" : uploadState === \"saving\" ? \"Sauvegarde…\" : \"Uploader\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 863,\n                                        columnNumber: 13\n                                    }, this),\n                                    uploadState === \"uploading\" && uploadProgress !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-zinc-400\",\n                                        children: [\n                                            \"Upload: \",\n                                            uploadProgress,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 878,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    uploadMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `text-sm ${uploadState === \"error\" ? \"text-red-400\" : \"text-zinc-200\"}`,\n                                        children: uploadMessage\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 881,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 782,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                        children: \"Tags s\\xe9lectionn\\xe9s\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 890,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 space-y-3\",\n                                        children: _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.taxonomyGroups.map((group)=>{\n                                            const options = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(groupedTaxonomies, group.kinds);\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm font-semibold\",\n                                                        children: group.label\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 898,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2 flex flex-wrap gap-2\",\n                                                        children: options.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-zinc-400\",\n                                                            children: \"\\xc0 venir\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 901,\n                                                            columnNumber: 25\n                                                        }, this) : options.map((t)=>{\n                                                            const checked = selectedTaxonomyIds.has(t.id);\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        className: \"hidden\",\n                                                                        type: \"checkbox\",\n                                                                        checked: checked,\n                                                                        onChange: ()=>{\n                                                                            setSelectedTaxonomyIds((prev)=>{\n                                                                                const next = new Set(prev);\n                                                                                if (next.has(t.id)) next.delete(t.id);\n                                                                                else next.add(t.id);\n                                                                                return next;\n                                                                            });\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                        lineNumber: 914,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    t.label\n                                                                ]\n                                                            }, t.id, true, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 906,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 899,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, group.kind, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 897,\n                                                columnNumber: 19\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 893,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                        children: \"Preview thumbnail (exemple)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 938,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 text-sm text-zinc-400\",\n                                        children: \"Apr\\xe8s upload, la grille utilisera:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 941,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 rounded-xl border border-white/10 bg-black/30 p-3 text-xs text-zinc-200\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                            children: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(\"CLOUDFLARE_UID\", thumbSeconds)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 945,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 944,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 889,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 781,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 769,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"rounded-2xl border border-white/10 bg-zinc-950/40 p-4 backdrop-blur lg:col-span-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center justify-between gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-sm font-semibold\",\n                                children: \"Vid\\xe9os\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 954,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        className: \"w-full min-w-[220px] rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-zinc-100 placeholder:text-zinc-500 sm:w-auto\",\n                                        placeholder: \"Rechercher...\",\n                                        value: searchQuery,\n                                        onChange: (event)=>setSearchQuery(event.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 956,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>void refreshMissingDurations(),\n                                        disabled: durationRefreshState === \"loading\",\n                                        children: durationRefreshState === \"loading\" ? \"Durées…\" : \"Récupérer durées\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 962,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-zinc-500\",\n                                        children: [\n                                            \"Filtre: \",\n                                            sortedVideos.length,\n                                            \" / \",\n                                            videos.length\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 970,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-zinc-400\",\n                                        children: totalPagesText\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 973,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>setCurrentPage((page)=>Math.max(1, page - 1)),\n                                        disabled: currentPage <= 1,\n                                        children: \"Pr\\xe9c\\xe9dent\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 974,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-50\",\n                                        type: \"button\",\n                                        onClick: ()=>setCurrentPage((page)=>Math.min(totalPages, page + 1)),\n                                        disabled: currentPage >= totalPages,\n                                        children: \"Suivant\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 982,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10\",\n                                        type: \"button\",\n                                        onClick: ()=>void refreshVideos(),\n                                        children: \"Rafra\\xeechir\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 990,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 955,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 953,\n                        columnNumber: 9\n                    }, this),\n                    durationRefreshMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `mt-2 text-xs ${durationRefreshState === \"error\" ? \"text-red-400\" : \"text-zinc-400\"}`,\n                        children: durationRefreshMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1000,\n                        columnNumber: 11\n                    }, this) : null,\n                    videosMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3 text-sm text-red-400\",\n                        children: videosMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1008,\n                        columnNumber: 26\n                    }, this) : null,\n                    pendingVideos.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 rounded-2xl border border-dashed border-white/15 bg-white/5 p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center justify-between gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-semibold\",\n                                                children: \"Upload rapide (drag & drop)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1014,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-zinc-400\",\n                                                children: \"Les noms de fichiers doivent correspondre aux titres des vid\\xe9os en attente.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1015,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 1013,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-xs font-semibold text-zinc-200 hover:bg-white/20\",\n                                        type: \"button\",\n                                        onClick: ()=>bulkInputRef.current?.click(),\n                                        children: \"Choisir des fichiers\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 1019,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 1012,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                className: \"hidden\",\n                                ref: bulkInputRef,\n                                type: \"file\",\n                                accept: \"video/*\",\n                                multiple: true,\n                                onChange: (e)=>{\n                                    const files = Array.from(e.target.files ?? []);\n                                    void enqueueBulkUploads(files);\n                                    e.currentTarget.value = \"\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 1027,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `mt-4 flex min-h-[96px] cursor-pointer items-center justify-center rounded-2xl border border-white/10 px-4 text-sm text-zinc-400 transition ${bulkDropActive ? \"bg-white/10\" : \"bg-black/20\"}`,\n                                onClick: ()=>bulkInputRef.current?.click(),\n                                onDragEnter: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(true);\n                                },\n                                onDragOver: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(true);\n                                },\n                                onDragLeave: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(false);\n                                },\n                                onDrop: (e)=>{\n                                    e.preventDefault();\n                                    setBulkDropActive(false);\n                                    const files = Array.from(e.dataTransfer.files ?? []);\n                                    void enqueueBulkUploads(files);\n                                },\n                                children: \"Glisse tes fichiers vid\\xe9o ici\"\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 1039,\n                                columnNumber: 13\n                            }, this),\n                            bulkMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 text-sm text-red-400\",\n                                children: bulkMessage\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 1065,\n                                columnNumber: 28\n                            }, this) : null,\n                            bulkUploads.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 space-y-2 text-sm text-zinc-200\",\n                                children: bulkUploads.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"rounded-xl border border-white/10 bg-black/30 p-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"min-w-0\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"truncate font-semibold\",\n                                                                children: item.file.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1075,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-zinc-400\",\n                                                                children: item.video ? `→ ${item.video.title}` : \"Aucune correspondance\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1076,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1074,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs uppercase tracking-wide text-zinc-400\",\n                                                        children: item.status === \"uploading\" ? \"Upload\" : item.status === \"saving\" ? \"Sauvegarde\" : item.status === \"done\" ? \"OK\" : item.status === \"error\" ? \"Erreur\" : \"En attente\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1080,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1073,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 h-2 overflow-hidden rounded-full bg-white/10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `h-full rounded-full ${item.status === \"error\" ? \"bg-red-500/70\" : \"bg-emerald-500/70\"}`,\n                                                    style: {\n                                                        width: `${item.progress}%`\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1093,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1092,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-1 text-xs text-zinc-400\",\n                                                children: item.status === \"error\" ? item.message : `${item.progress}%`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1100,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, item.id, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 1069,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                lineNumber: 1067,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1011,\n                        columnNumber: 11\n                    }, this) : null,\n                    videos.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-zinc-400\",\n                        children: \"Aucune vid\\xe9o pour le moment.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1111,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 overflow-x-auto rounded-2xl border border-white/10 bg-black/30\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            className: \"w-full min-w-[1100px] border-collapse text-left text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    className: \"bg-black/30\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        className: \"border-b border-white/10 text-xs font-semibold uppercase tracking-wide text-zinc-400\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: \"Thumbnail\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1117,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"title\"),\n                                                    children: [\n                                                        \"Titre\",\n                                                        sortKey === \"title\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1119,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1118,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"budget\"),\n                                                    children: [\n                                                        \"Budget\",\n                                                        sortKey === \"budget\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1129,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1128,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"duration\"),\n                                                    children: [\n                                                        \"Dur\\xe9e\",\n                                                        sortKey === \"duration\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1139,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1138,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"featured\"),\n                                                    children: [\n                                                        \"Favoris\",\n                                                        sortKey === \"featured\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1153,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1152,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"type\"),\n                                                    children: [\n                                                        \"Type\",\n                                                        sortKey === \"type\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1167,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1166,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"objectif\"),\n                                                    children: [\n                                                        \"Objectifs\",\n                                                        sortKey === \"objectif\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1177,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1176,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"keywords\"),\n                                                    children: [\n                                                        \"Mots cl\\xe9s\",\n                                                        sortKey === \"keywords\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1191,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1190,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    className: \"inline-flex items-center gap-1 hover:text-white\",\n                                                    onClick: ()=>toggleSort(\"feel\"),\n                                                    children: [\n                                                        \"Feel\",\n                                                        sortKey === \"feel\" ? sortDirection === \"asc\" ? \"↑\" : \"↓\" : null\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1205,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1204,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"px-3 py-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1214,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                        lineNumber: 1116,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1115,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    className: \"divide-y divide-white/10\",\n                                    children: sortedVideos.map((v)=>{\n                                        const byKind = {\n                                            type: [],\n                                            objectif: [],\n                                            keyword: [],\n                                            style: [],\n                                            feel: [],\n                                            parametre: []\n                                        };\n                                        for (const t of v.taxonomies)byKind[t.kind].push(t);\n                                        for (const kind of Object.keys(byKind)){\n                                            byKind[kind].sort((a, b)=>a.label.localeCompare(b.label, \"fr\"));\n                                        }\n                                        const budgetText = v.budget_min && v.budget_max ? `${(0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(v.budget_min)}–${(0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(v.budget_max)}` : \"—\";\n                                        const durationText = formatDuration(v.duration_seconds);\n                                        const keywordGroupTags = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(byKind, _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.keywordGroupKinds);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                            className: \"cursor-pointer transition hover:bg-white/5\",\n                                            onClick: ()=>setEditingVideo({\n                                                    ...v,\n                                                    taxonomies: v.taxonomies.filter((t)=>allTaxonomyIds.has(t.id))\n                                                }),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: isPendingVideoUid(v.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex h-12 w-20 items-center justify-center rounded-xl border border-white/10 bg-black/40 text-[10px] uppercase tracking-wide text-zinc-500\",\n                                                        children: \"\\xc0 uploader\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1252,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"overflow-hidden rounded-xl border border-white/10 bg-black/40\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                            className: \"h-12 w-20 object-cover\",\n                                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(v.cloudflare_uid, v.thumbnail_time_seconds),\n                                                            alt: \"\",\n                                                            width: 160,\n                                                            height: 96\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1257,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1256,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1250,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"max-w-[320px] truncate font-semibold text-zinc-100\",\n                                                            children: v.title\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1271,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-0.5 text-xs text-zinc-400\",\n                                                            children: isPendingVideoUid(v.cloudflare_uid) ? \"En attente d'upload\" : v.status === \"ready\" ? \"Ready\" : \"Processing\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1274,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1270,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-zinc-200\",\n                                                    children: budgetText\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1282,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-zinc-200\",\n                                                    children: durationText\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1283,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        className: `rounded-full border px-2 py-1 text-xs font-semibold ${v.is_featured ? \"border-amber-300/50 bg-amber-400/20 text-amber-100\" : \"border-white/10 bg-white/5 text-zinc-300 hover:bg-white/10\"}`,\n                                                        onClick: (event)=>{\n                                                            event.preventDefault();\n                                                            event.stopPropagation();\n                                                            void toggleFeatured(v);\n                                                        },\n                                                        \"aria-label\": v.is_featured ? \"Retirer des favoris\" : \"Ajouter aux favoris\",\n                                                        children: v.is_featured ? \"★\" : \"☆\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1285,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1284,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.type\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1304,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.objectif\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1305,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: keywordGroupTags\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1306,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TagsCell, {\n                                                    tags: byKind.feel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1307,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"px-3 py-2 text-right\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-col items-end gap-2\",\n                                                        children: [\n                                                            isPendingVideoUid(v.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RowUploadDropzone, {\n                                                                state: rowUploads[v.id],\n                                                                onUpload: (fileToUpload)=>startRowUpload(v, fileToUpload)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1311,\n                                                                columnNumber: 29\n                                                            }, this) : null,\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"rounded-xl border border-red-400/30 bg-red-500/10 px-3 py-2 text-xs font-semibold text-red-200 hover:bg-red-500/15\",\n                                                                type: \"button\",\n                                                                onClick: (e)=>{\n                                                                    e.preventDefault();\n                                                                    e.stopPropagation();\n                                                                    void deleteVideo(v);\n                                                                },\n                                                                children: \"Supprimer\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1316,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1309,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1308,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, v.id, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1240,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1217,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1114,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 1113,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 952,\n                columnNumber: 7\n            }, this),\n            editingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EditVideoModal, {\n                open: true,\n                onClose: ()=>setEditingVideo(null),\n                video: editingVideo,\n                groupedTaxonomies: groupedTaxonomies,\n                onSaved: async ()=>{\n                    setEditingVideo(null);\n                    await refreshVideos();\n                },\n                refreshTaxonomies: refreshTaxonomies,\n                onFetchDuration: fetchCloudflareDuration,\n                supabase: supabase\n            }, editingVideo.id, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1339,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 768,\n        columnNumber: 5\n    }, this);\n}\n_s(AdminPortfolioPage, \"55NRSLym3iJwFDcv7EjgA7l/3jk=\", false, function() {\n    return [\n        _lib_supabase_useClient__WEBPACK_IMPORTED_MODULE_5__.useSupabaseClient,\n        _app_admin_hooks_useAdminState__WEBPACK_IMPORTED_MODULE_6__.useAdminState\n    ];\n});\n_c = AdminPortfolioPage;\nfunction EditVideoModal({ open, onClose, video, groupedTaxonomies, onSaved, refreshTaxonomies, onFetchDuration, supabase }) {\n    _s1();\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.title ?? \"\"\n    }[\"EditVideoModal.useState\"]);\n    const [thumbSeconds, setThumbSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.thumbnail_time_seconds ?? 1\n    }[\"EditVideoModal.useState\"]);\n    const [durationSeconds, setDurationSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>video?.duration_seconds ?? null\n    }[\"EditVideoModal.useState\"]);\n    const [durationFetchStatus, setDurationFetchStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [durationFetchMessage, setDurationFetchMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [budgetMinIndex, setBudgetMinIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>{\n            if (!video?.budget_min) return 0;\n            const idx = _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.indexOf(video.budget_min);\n            return idx >= 0 ? idx : 0;\n        }\n    }[\"EditVideoModal.useState\"]);\n    const [budgetMaxIndex, setBudgetMaxIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>{\n            if (!video?.budget_max) return _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1;\n            const idx = _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.indexOf(video.budget_max);\n            return idx >= 0 ? idx : _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.length - 1;\n        }\n    }[\"EditVideoModal.useState\"]);\n    const [selectedTaxonomyIds, setSelectedTaxonomyIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"EditVideoModal.useState\": ()=>new Set(video?.taxonomies.map({\n                \"EditVideoModal.useState\": (t)=>t.id\n            }[\"EditVideoModal.useState\"]) ?? [])\n    }[\"EditVideoModal.useState\"]);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiStatus, setAiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [aiMessage, setAiMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiOpen, setAiOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiSuggestions, setAiSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [aiSelectedExisting, setAiSelectedExisting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [aiSelectedNew, setAiSelectedNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [aiFrames, setAiFrames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [aiApplyStatus, setAiApplyStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [aiApplyMessage, setAiApplyMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [taxonomyMessage, setTaxonomyMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [playerTime, setPlayerTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [useIframePlayer, setUseIframePlayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [thumbChoices, setThumbChoices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const availableKeywordLabels = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"EditVideoModal.useMemo[availableKeywordLabels]\": ()=>groupedTaxonomies.keyword.map({\n                \"EditVideoModal.useMemo[availableKeywordLabels]\": (t)=>t.label\n            }[\"EditVideoModal.useMemo[availableKeywordLabels]\"])\n    }[\"EditVideoModal.useMemo[availableKeywordLabels]\"], [\n        groupedTaxonomies.keyword\n    ]);\n    const keywordMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"EditVideoModal.useMemo[keywordMap]\": ()=>{\n            const map = new Map();\n            for (const taxonomy of groupedTaxonomies.keyword){\n                map.set(normalizeText(taxonomy.label), taxonomy);\n            }\n            return map;\n        }\n    }[\"EditVideoModal.useMemo[keywordMap]\"], [\n        groupedTaxonomies.keyword\n    ]);\n    function buildRandomThumbTimes(duration, count = 8) {\n        const safeDuration = Math.max(1, Math.floor(duration));\n        const segment = safeDuration / count;\n        const times = new Set();\n        for(let i = 0; i < count; i += 1){\n            const start = Math.max(0, Math.floor(i * segment));\n            const end = Math.min(safeDuration, Math.floor((i + 1) * segment));\n            const range = Math.max(1, end - start);\n            const random = start + Math.floor(Math.random() * range);\n            times.add(Math.min(safeDuration, Math.max(0, random)));\n        }\n        return Array.from(times).sort((a, b)=>a - b);\n    }\n    function refreshThumbChoices() {\n        if (!durationSeconds || !Number.isFinite(durationSeconds)) return;\n        setThumbChoices(buildRandomThumbTimes(durationSeconds, 8));\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EditVideoModal.useEffect\": ()=>{\n            setPlayerTime(0);\n            setUseIframePlayer(false);\n            setThumbChoices([]);\n        }\n    }[\"EditVideoModal.useEffect\"], [\n        video?.cloudflare_uid\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EditVideoModal.useEffect\": ()=>{\n            if (!durationSeconds || !Number.isFinite(durationSeconds)) return;\n            refreshThumbChoices();\n        }\n    }[\"EditVideoModal.useEffect\"], [\n        durationSeconds\n    ]);\n    if (!open || !video) return null;\n    async function requestAiKeywords() {\n        if (aiStatus === \"loading\") return;\n        if (!video) return;\n        if (isPendingVideoUid(video.cloudflare_uid)) {\n            setAiStatus(\"error\");\n            setAiMessage(\"La vidéo doit être uploadée avant l'analyse.\");\n            return;\n        }\n        setAiStatus(\"loading\");\n        setAiMessage(null);\n        setAiApplyMessage(null);\n        const times = buildAiFrameTimes(thumbSeconds);\n        setAiFrames(times);\n        try {\n            const response = await fetch(\"/api/ai/keywords\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    cloudflareUid: video.cloudflare_uid,\n                    times,\n                    availableKeywords: availableKeywordLabels\n                })\n            });\n            const json = await response.json();\n            if (!response.ok || \"error\" in json) {\n                throw new Error(\"error\" in json ? json.error : \"Erreur AI\");\n            }\n            const suggestions = json.suggestions ?? {\n                existing: [],\n                new: []\n            };\n            setAiSuggestions(suggestions);\n            setAiSelectedExisting(new Set(suggestions.existing));\n            setAiSelectedNew(new Set(suggestions.new));\n            setAiOpen(true);\n            setAiStatus(\"idle\");\n        } catch (e) {\n            setAiStatus(\"error\");\n            setAiMessage(e instanceof Error ? e.message : \"Erreur AI\");\n        }\n    }\n    async function applyAiKeywords() {\n        if (!supabase || !aiSuggestions) return;\n        setAiApplyStatus(\"saving\");\n        setAiApplyMessage(null);\n        const selectedExisting = Array.from(aiSelectedExisting);\n        const selectedNew = Array.from(aiSelectedNew);\n        const desiredIds = new Set();\n        const missingLabels = [];\n        const missingNormalized = new Set();\n        for (const label of selectedExisting){\n            const taxonomy = keywordMap.get(normalizeText(label));\n            if (taxonomy) desiredIds.add(taxonomy.id);\n        }\n        for (const label of selectedNew){\n            const trimmed = label.trim();\n            if (!trimmed) continue;\n            const normalized = normalizeText(trimmed);\n            if (!normalized || missingNormalized.has(normalized)) continue;\n            const existing = keywordMap.get(normalizeText(trimmed));\n            if (existing) {\n                desiredIds.add(existing.id);\n            } else {\n                missingNormalized.add(normalized);\n                missingLabels.push(trimmed);\n            }\n        }\n        try {\n            if (missingLabels.length > 0) {\n                const rows = missingLabels.map((label)=>({\n                        kind: \"keyword\",\n                        label\n                    }));\n                const { data: inserted, error: insertError } = await supabase.from(\"taxonomies\").upsert(rows, {\n                    onConflict: \"kind,label\"\n                }).select(\"id,kind,label\");\n                if (insertError) throw insertError;\n                for (const item of inserted ?? []){\n                    if (item.kind === \"keyword\") desiredIds.add(item.id);\n                }\n                await refreshTaxonomies();\n            }\n            setSelectedTaxonomyIds((prev)=>{\n                const next = new Set(prev);\n                for (const id of desiredIds)next.add(id);\n                return next;\n            });\n            setAiApplyStatus(\"idle\");\n            setAiOpen(false);\n            setAiSuggestions(null);\n            setAiSelectedExisting(new Set());\n            setAiSelectedNew(new Set());\n        } catch (e) {\n            setAiApplyStatus(\"error\");\n            setAiApplyMessage(e instanceof Error ? e.message : \"Erreur sauvegarde.\");\n        }\n    }\n    async function addTaxonomy(kind) {\n        if (!supabase) return;\n        const label = prompt(\"Nouveau libellé :\", \"\")?.trim();\n        if (!label) return;\n        setTaxonomyMessage(null);\n        try {\n            const { data: inserted, error } = await supabase.from(\"taxonomies\").upsert({\n                kind,\n                label\n            }, {\n                onConflict: \"kind,label\"\n            }).select(\"id,kind,label\").single();\n            if (error) throw error;\n            if (inserted?.id) {\n                setSelectedTaxonomyIds((prev)=>{\n                    const next = new Set(prev);\n                    next.add(inserted.id);\n                    return next;\n                });\n            }\n            await refreshTaxonomies();\n        } catch (e) {\n            setTaxonomyMessage(e instanceof Error ? e.message : \"Erreur ajout taxonomie.\");\n        }\n    }\n    async function save() {\n        if (!supabase) return;\n        if (!video) return;\n        setStatus(\"saving\");\n        setMessage(null);\n        const cleanTitle = title.trim();\n        if (!cleanTitle) {\n            setStatus(\"error\");\n            setMessage(\"Titre requis.\");\n            return;\n        }\n        const { error: updateError } = await supabase.from(\"videos\").update({\n            title: cleanTitle,\n            thumbnail_time_seconds: Number.isFinite(thumbSeconds) ? Math.max(0, Math.floor(thumbSeconds)) : null,\n            duration_seconds: Number.isFinite(durationSeconds) ? Math.max(0, Math.floor(durationSeconds ?? 0)) : null,\n            budget_min: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMinIndex],\n            budget_max: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels[budgetMaxIndex]\n        }).eq(\"id\", video.id);\n        if (updateError) {\n            setStatus(\"error\");\n            setMessage(updateError.message);\n            return;\n        }\n        const desired = Array.from(selectedTaxonomyIds);\n        const { error: deleteError } = await supabase.from(\"video_taxonomies\").delete().eq(\"video_id\", video.id);\n        if (deleteError) {\n            setStatus(\"error\");\n            setMessage(deleteError.message);\n            return;\n        }\n        if (desired.length > 0) {\n            const rows = desired.map((taxonomyId)=>({\n                    video_id: video.id,\n                    taxonomy_id: taxonomyId\n                }));\n            const { error: insertError } = await supabase.from(\"video_taxonomies\").insert(rows);\n            if (insertError) {\n                setStatus(\"error\");\n                setMessage(insertError.message);\n                return;\n            }\n        }\n        setStatus(\"idle\");\n        await onSaved();\n    }\n    async function handleFetchDuration() {\n        if (!video) return;\n        if (isPendingVideoUid(video.cloudflare_uid)) {\n            setDurationFetchStatus(\"error\");\n            setDurationFetchMessage(\"La vidéo doit être uploadée avant l'analyse.\");\n            return;\n        }\n        setDurationFetchStatus(\"loading\");\n        setDurationFetchMessage(null);\n        try {\n            const duration = await onFetchDuration(video.cloudflare_uid);\n            setDurationSeconds(duration);\n            setDurationFetchStatus(\"idle\");\n        } catch (e) {\n            setDurationFetchStatus(\"error\");\n            setDurationFetchMessage(e instanceof Error ? e.message : \"Erreur\");\n        }\n    }\n    function applyPlayerTime() {\n        const current = videoRef.current?.currentTime;\n        if (!Number.isFinite(current)) return;\n        setThumbSeconds(Math.max(0, Math.floor(current ?? 0)));\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 overflow-y-auto bg-black/70 p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto w-[95vw] max-w-none rounded-2xl border border-white/10 bg-zinc-950 p-6 shadow-2xl shadow-black/40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"truncate text-lg font-semibold\",\n                                            children: \"Modifier\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1695,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 truncate text-xs text-zinc-400\",\n                                            children: [\n                                                \"UID: \",\n                                                video.cloudflare_uid\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1696,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1694,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-md px-2 py-1 text-sm text-zinc-300 hover:bg-white/10\",\n                                    onClick: onClose,\n                                    type: \"button\",\n                                    children: \"Fermer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1700,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1693,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm font-medium text-zinc-200\",\n                                                    children: \"Titre\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1712,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100 placeholder:text-zinc-500\",\n                                                    value: title,\n                                                    onChange: (e)=>setTitle(e.target.value)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1713,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1711,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium text-zinc-200\",\n                                                            children: \"Budget min\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1722,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                            value: budgetMinIndex,\n                                                            onChange: (e)=>{\n                                                                const next = Number(e.target.value);\n                                                                setBudgetMinIndex(Math.min(next, budgetMaxIndex));\n                                                            },\n                                                            children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: idx,\n                                                                    children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                                }, b, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1732,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1723,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1721,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm font-medium text-zinc-200\",\n                                                            children: \"Budget max\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1739,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-zinc-100\",\n                                                            value: budgetMaxIndex,\n                                                            onChange: (e)=>{\n                                                                const next = Number(e.target.value);\n                                                                setBudgetMaxIndex(Math.max(next, budgetMinIndex));\n                                                            },\n                                                            children: _lib_budget__WEBPACK_IMPORTED_MODULE_3__.budgetLevels.map((b, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: idx,\n                                                                    children: (0,_lib_budget__WEBPACK_IMPORTED_MODULE_3__.formatCad)(b)\n                                                                }, b, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1749,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1740,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1738,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1720,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm font-medium text-zinc-200\",\n                                                    children: \"Thumbnail (secondes)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1758,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    className: \"mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-zinc-100\",\n                                                    value: thumbSeconds,\n                                                    onChange: (e)=>setThumbSeconds(Number(e.target.value)),\n                                                    type: \"number\",\n                                                    min: 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1759,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1757,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-xl border border-white/10 bg-white/5 px-3 py-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between gap-2 text-sm font-medium text-zinc-200\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Dur\\xe9e (secondes)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1769,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"rounded-md border border-white/10 bg-white/5 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/10 disabled:opacity-60\",\n                                                            type: \"button\",\n                                                            onClick: ()=>void handleFetchDuration(),\n                                                            disabled: durationFetchStatus === \"loading\" || !supabase,\n                                                            children: durationFetchStatus === \"loading\" ? \"Lecture…\" : \"Récupérer\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1770,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1768,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-sm text-zinc-100\",\n                                                    children: Number.isFinite(durationSeconds) ? durationSeconds : \"—\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1779,\n                                                    columnNumber: 17\n                                                }, this),\n                                                durationFetchMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 text-xs text-red-400\",\n                                                    children: durationFetchMessage\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1783,\n                                                    columnNumber: 19\n                                                }, this) : null\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1767,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                                            children: \"Lecteur\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1789,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                            type: \"button\",\n                                                            onClick: applyPlayerTime,\n                                                            disabled: isPendingVideoUid(video.cloudflare_uid) || useIframePlayer,\n                                                            children: \"Utiliser le temps du player\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1792,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1788,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 overflow-hidden rounded-2xl border border-white/10 bg-black/40\",\n                                                    children: isPendingVideoUid(video.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex aspect-video w-full items-center justify-center text-xs uppercase tracking-wide text-zinc-500\",\n                                                        children: \"En attente d'upload\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1803,\n                                                        columnNumber: 21\n                                                    }, this) : useIframePlayer ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                                        className: \"aspect-video w-full\",\n                                                        src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareIframeSrcNoAutoplay)(video.cloudflare_uid),\n                                                        allow: \"accelerometer; encrypted-media; picture-in-picture;\",\n                                                        allowFullScreen: true,\n                                                        title: video.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1807,\n                                                        columnNumber: 21\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        className: \"aspect-video w-full bg-black\",\n                                                        controls: true,\n                                                        preload: \"metadata\",\n                                                        poster: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, thumbSeconds, 1920),\n                                                        src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareDownloadSrc)(video.cloudflare_uid),\n                                                        onTimeUpdate: (e)=>{\n                                                            setPlayerTime(Math.floor(e.currentTarget.currentTime));\n                                                        },\n                                                        onError: ()=>{\n                                                            setUseIframePlayer(true);\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                        lineNumber: 1815,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1801,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !useIframePlayer ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2 text-xs text-zinc-400\",\n                                                    children: [\n                                                        \"Temps courant: \",\n                                                        playerTime,\n                                                        \"s\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1832,\n                                                    columnNumber: 19\n                                                }, this) : null\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1787,\n                                            columnNumber: 15\n                                        }, this),\n                                        message ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-red-400\",\n                                            children: message\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1838,\n                                            columnNumber: 26\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                            type: \"button\",\n                                            onClick: ()=>void save(),\n                                            disabled: status === \"saving\" || !supabase,\n                                            children: status === \"saving\" ? \"Sauvegarde…\" : \"Sauvegarder\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1840,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1710,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"rounded-2xl border border-white/10 bg-white/5 p-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                                    children: \"Tags\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1852,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                    type: \"button\",\n                                                    onClick: ()=>void requestAiKeywords(),\n                                                    disabled: aiStatus === \"loading\" || !supabase,\n                                                    children: aiStatus === \"loading\" ? \"Analyse…\" : \"Analyser mots-clés\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1855,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1851,\n                                            columnNumber: 15\n                                        }, this),\n                                        aiMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 text-xs text-red-400\",\n                                            children: aiMessage\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1864,\n                                            columnNumber: 28\n                                        }, this) : null,\n                                        taxonomyMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 text-xs text-red-400\",\n                                            children: taxonomyMessage\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1866,\n                                            columnNumber: 17\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 space-y-3\",\n                                            children: _app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.taxonomyGroups.map((group)=>{\n                                                const options = (0,_app_admin_lib_taxonomies__WEBPACK_IMPORTED_MODULE_7__.mergeTaxonomiesByKinds)(groupedTaxonomies, group.kinds);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm font-semibold\",\n                                                                    children: group.label\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1874,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    className: \"rounded-md border border-white/10 bg-white/10 px-2 py-1 text-[10px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                                    type: \"button\",\n                                                                    onClick: ()=>void addTaxonomy(group.kind),\n                                                                    disabled: !supabase,\n                                                                    children: \"Ajouter\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1875,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1873,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                                            children: options.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm text-zinc-400\",\n                                                                children: \"\\xc0 venir\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                lineNumber: 1886,\n                                                                columnNumber: 27\n                                                            }, this) : options.map((t)=>{\n                                                                const checked = selectedTaxonomyIds.has(t.id);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                            className: \"hidden\",\n                                                                            type: \"checkbox\",\n                                                                            checked: checked,\n                                                                            onChange: ()=>{\n                                                                                setSelectedTaxonomyIds((prev)=>{\n                                                                                    const next = new Set(prev);\n                                                                                    if (next.has(t.id)) next.delete(t.id);\n                                                                                    else next.add(t.id);\n                                                                                    return next;\n                                                                                });\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                            lineNumber: 1899,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        t.label\n                                                                    ]\n                                                                }, t.id, true, {\n                                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                                    lineNumber: 1891,\n                                                                    columnNumber: 31\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1884,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, group.kind, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1872,\n                                                    columnNumber: 21\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1868,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-6 text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Thumbnail\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1923,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 overflow-hidden rounded-2xl border border-white/10 bg-black/30\",\n                                            children: isPendingVideoUid(video.cloudflare_uid) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex aspect-video w-full items-center justify-center text-xs uppercase tracking-wide text-zinc-500\",\n                                                children: \"En attente d'upload\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1928,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                className: \"aspect-video w-full object-cover\",\n                                                src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, thumbSeconds, 1920),\n                                                alt: \"\",\n                                                width: 1920,\n                                                height: 1080\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 1932,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1926,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 flex items-center justify-between gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-zinc-400\",\n                                                    children: durationSeconds ? \"Choisis un thumbnail parmi les suggestions.\" : \"Renseigne la durée pour générer des suggestions.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1942,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"rounded-lg border border-white/10 bg-white/10 px-2 py-1 text-[11px] font-semibold text-zinc-200 hover:bg-white/20 disabled:opacity-50\",\n                                                    type: \"button\",\n                                                    onClick: refreshThumbChoices,\n                                                    disabled: !durationSeconds || isPendingVideoUid(video.cloudflare_uid),\n                                                    children: \"Nouvelles suggestions\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1947,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1941,\n                                            columnNumber: 15\n                                        }, this),\n                                        thumbChoices.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 grid grid-cols-2 gap-2 sm:grid-cols-4\",\n                                            children: thumbChoices.map((time)=>{\n                                                const selected = Math.floor(thumbSeconds) === time;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>setThumbSeconds(time),\n                                                    className: `overflow-hidden rounded-xl border text-left ${selected ? \"border-emerald-400/60 bg-emerald-500/10\" : \"border-white/10 bg-black/30 hover:border-white/30\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                            className: \"aspect-video w-full object-cover\",\n                                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, time, 1920),\n                                                            alt: \"\",\n                                                            width: 640,\n                                                            height: 360\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1971,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"px-2 py-1 text-center text-[10px] text-zinc-400\",\n                                                            children: [\n                                                                time,\n                                                                \"s\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 1978,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, time, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 1961,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1957,\n                                            columnNumber: 17\n                                        }, this) : null\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1850,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1709,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 1692,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1691,\n                columnNumber: 7\n            }, this),\n            aiOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-[60] overflow-y-auto bg-black/70 p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto w-full max-w-2xl rounded-2xl border border-white/10 bg-zinc-950 p-6 shadow-2xl shadow-black/40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start justify-between gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"truncate text-lg font-semibold\",\n                                            children: \"Suggestions mots-cl\\xe9s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1996,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 text-xs text-zinc-400\",\n                                            children: \"Valide les tags propos\\xe9s avant insertion.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 1997,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 1995,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-md px-2 py-1 text-sm text-zinc-300 hover:bg-white/10\",\n                                    onClick: ()=>setAiOpen(false),\n                                    type: \"button\",\n                                    children: \"Fermer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2001,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 1994,\n                            columnNumber: 13\n                        }, this),\n                        aiFrames.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-5\",\n                            children: aiFrames.map((time)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"overflow-hidden rounded-xl border border-white/10 bg-black/30\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            className: \"aspect-video w-full object-cover\",\n                                            src: (0,_lib_cloudflare__WEBPACK_IMPORTED_MODULE_4__.cloudflareThumbnailSrc)(video.cloudflare_uid, time, 1920),\n                                            alt: \"\",\n                                            width: 640,\n                                            height: 360\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2017,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"px-2 py-1 text-center text-[10px] text-zinc-400\",\n                                            children: [\n                                                time,\n                                                \"s\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2024,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, time, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2013,\n                                    columnNumber: 19\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 2011,\n                            columnNumber: 15\n                        }, this) : null,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Mots-cl\\xe9s existants\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2034,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                            children: (aiSuggestions?.existing ?? []).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-zinc-400\",\n                                                children: \"Aucun propos\\xe9.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 2039,\n                                                columnNumber: 21\n                                            }, this) : (aiSuggestions?.existing ?? []).map((label)=>{\n                                                const checked = aiSelectedExisting.has(label);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-emerald-400/40 bg-emerald-500/20 text-emerald-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            className: \"hidden\",\n                                                            type: \"checkbox\",\n                                                            checked: checked,\n                                                            onChange: ()=>{\n                                                                setAiSelectedExisting((prev)=>{\n                                                                    const next = new Set(prev);\n                                                                    if (next.has(label)) next.delete(label);\n                                                                    else next.add(label);\n                                                                    return next;\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 2052,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        label\n                                                    ]\n                                                }, label, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 2044,\n                                                    columnNumber: 25\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2037,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2033,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold uppercase tracking-wide text-zinc-500\",\n                                            children: \"Nouveaux mots-cl\\xe9s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2074,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 flex flex-wrap gap-2\",\n                                            children: (aiSuggestions?.new ?? []).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-zinc-400\",\n                                                children: \"Aucun propos\\xe9.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                lineNumber: 2079,\n                                                columnNumber: 21\n                                            }, this) : (aiSuggestions?.new ?? []).map((label)=>{\n                                                const checked = aiSelectedNew.has(label);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: `cursor-pointer rounded-full border px-3 py-1 text-sm ${checked ? \"border-amber-400/40 bg-amber-500/20 text-amber-100\" : \"border-white/10 bg-black/30 text-zinc-200 hover:bg-white/10\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            className: \"hidden\",\n                                                            type: \"checkbox\",\n                                                            checked: checked,\n                                                            onChange: ()=>{\n                                                                setAiSelectedNew((prev)=>{\n                                                                    const next = new Set(prev);\n                                                                    if (next.has(label)) next.delete(label);\n                                                                    else next.add(label);\n                                                                    return next;\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                            lineNumber: 2092,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        label\n                                                    ]\n                                                }, label, true, {\n                                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                                    lineNumber: 2084,\n                                                    columnNumber: 25\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                            lineNumber: 2077,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2073,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 2032,\n                            columnNumber: 13\n                        }, this),\n                        aiApplyMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-3 text-sm text-red-400\",\n                            children: aiApplyMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 2114,\n                            columnNumber: 31\n                        }, this) : null,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-5 flex flex-wrap items-center justify-end gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-zinc-200 hover:bg-white/10\",\n                                    type: \"button\",\n                                    onClick: ()=>setAiOpen(false),\n                                    children: \"Annuler\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2117,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60\",\n                                    type: \"button\",\n                                    onClick: ()=>void applyAiKeywords(),\n                                    disabled: aiApplyStatus === \"saving\" || !supabase,\n                                    children: aiApplyStatus === \"saving\" ? \"Application…\" : \"Appliquer\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                                    lineNumber: 2124,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                            lineNumber: 2116,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 1993,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 1992,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true);\n}\n_s1(EditVideoModal, \"c7eZToexmqLUkgyeHMXo3ETLzoc=\");\n_c1 = EditVideoModal;\nfunction TagsCell({ tags }) {\n    if (tags.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n            className: \"px-3 py-2 text-zinc-500\",\n            children: \"—\"\n        }, void 0, false, {\n            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n            lineNumber: 2142,\n            columnNumber: 12\n        }, this);\n    }\n    const shown = tags.slice(0, 3);\n    const remaining = tags.length - shown.length;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n        className: \"px-3 py-2\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex max-w-[240px] flex-wrap gap-1\",\n            children: [\n                shown.map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-zinc-200\",\n                        children: t.label\n                    }, t.id, false, {\n                        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                        lineNumber: 2152,\n                        columnNumber: 11\n                    }, this)),\n                remaining > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-zinc-300\",\n                    children: [\n                        \"+\",\n                        remaining\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                    lineNumber: 2160,\n                    columnNumber: 11\n                }, this) : null\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n            lineNumber: 2150,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 2149,\n        columnNumber: 5\n    }, this);\n}\n_c2 = TagsCell;\nfunction RowUploadDropzone({ state, onUpload }) {\n    _s2();\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dragActive, setDragActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const isUploading = state?.status === \"uploading\" || state?.status === \"saving\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full text-right\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                className: \"hidden\",\n                ref: inputRef,\n                type: \"file\",\n                accept: \"video/*\",\n                onChange: (e)=>{\n                    const selected = e.target.files?.[0];\n                    if (selected) onUpload(selected);\n                    e.currentTarget.value = \"\";\n                }\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2182,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `rounded-xl border px-3 py-2 text-xs font-semibold ${dragActive ? \"border-emerald-400/60 bg-emerald-500/10 text-emerald-100\" : \"border-emerald-400/30 bg-emerald-500/10 text-emerald-100 hover:bg-emerald-500/15\"} ${isUploading ? \"pointer-events-none opacity-70\" : \"\"}`,\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (!isUploading) inputRef.current?.click();\n                },\n                onDragEnter: (e)=>{\n                    e.preventDefault();\n                    setDragActive(true);\n                },\n                onDragOver: (e)=>{\n                    e.preventDefault();\n                    setDragActive(true);\n                },\n                onDragLeave: (e)=>{\n                    e.preventDefault();\n                    setDragActive(false);\n                },\n                onDrop: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setDragActive(false);\n                    const dropped = e.dataTransfer.files?.[0];\n                    if (dropped && !isUploading) onUpload(dropped);\n                },\n                children: isUploading ? state?.status === \"saving\" ? \"Sauvegarde…\" : `Upload… ${state?.progress ?? 0}%` : \"Glisser / cliquer\"\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2193,\n                columnNumber: 7\n            }, this),\n            state?.status === \"error\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 text-xs text-red-400\",\n                children: state.message\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2231,\n                columnNumber: 9\n            }, this) : null,\n            state?.status === \"done\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 text-xs text-emerald-200\",\n                children: \"Upload OK ✅\"\n            }, void 0, false, {\n                fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n                lineNumber: 2234,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zerohuit/Documents/GitHub/zero-huit/src/app/admin/portfolio/page.tsx\",\n        lineNumber: 2181,\n        columnNumber: 5\n    }, this);\n}\n_s2(RowUploadDropzone, \"K9mVfSkweTliARfzUZhc+l5fWQ8=\");\n_c3 = RowUploadDropzone;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"AdminPortfolioPage\");\n$RefreshReg$(_c1, \"EditVideoModal\");\n$RefreshReg$(_c2, \"TagsCell\");\n$RefreshReg$(_c3, \"RowUploadDropzone\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYWRtaW4vcG9ydGZvbGlvL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUUwRTtBQUMzQztBQUN3QjtBQUs3QjtBQUNtQztBQUVJO0FBSzVCO0FBRXJDLE1BQU1nQiwwQkFBMEI7QUF1QmhDLFNBQVNDLGNBQWNDLEtBQWE7SUFDbEMsT0FBT0EsTUFDSkMsU0FBUyxDQUFDLE9BQ1ZDLE9BQU8sQ0FBQyxvQkFBb0IsSUFDNUJBLE9BQU8sQ0FBQyxhQUFhLEtBQ3JCQyxXQUFXLEdBQ1hELE9BQU8sQ0FBQyxlQUFlLEtBQ3ZCRSxJQUFJLEdBQ0pGLE9BQU8sQ0FBQyxRQUFRO0FBQ3JCO0FBRUEsU0FBU0csa0JBQWtCTCxLQUFhO0lBQ3RDLE9BQU9ELGNBQWNDLE9BQU9FLE9BQU8sQ0FBQyxRQUFRO0FBQzlDO0FBRUEsU0FBU0ksZUFBZUMsUUFBZ0I7SUFDdEMsT0FBT0EsU0FBU0wsT0FBTyxDQUFDLGFBQWE7QUFDdkM7QUFFQSxTQUFTTSxrQkFBa0JELFFBQWdCO0lBQ3pDLE1BQU1FLE9BQU9ILGVBQWVDO0lBQzVCLE1BQU1HLGFBQWFYLGNBQWNVO0lBQ2pDLE1BQU1FLGlCQUFpQkQsV0FBV1IsT0FBTyxDQUFDLDRCQUE0QjtJQUN0RSxPQUFPRyxrQkFBa0JNO0FBQzNCO0FBRUEsU0FBU0MsZUFBZUMsT0FBc0I7SUFDNUMsSUFBSSxDQUFDQyxPQUFPQyxRQUFRLENBQUNGLFVBQVUsT0FBTztJQUN0QyxNQUFNRyxRQUFRQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDTixXQUFXO0lBQ2hELE1BQU1PLFVBQVVILEtBQUtFLEtBQUssQ0FBQ0gsUUFBUTtJQUNuQyxNQUFNSyxZQUFZTCxRQUFRO0lBQzFCLE9BQU8sR0FBR0ksUUFBUSxDQUFDLEVBQUVFLE9BQU9ELFdBQVdFLFFBQVEsQ0FBQyxHQUFHLE1BQU07QUFDM0Q7QUFFQSxTQUFTQyxrQkFBa0JDLFdBQTBCO0lBQ25E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RUFBRTBGLGNBQWM7b0JBQ2hCc0gsY0FBYztnQkFDaEI7Z0JBQ0FwSCxhQUFhLENBQUM1RjtvQkFDWkEsRUFBRTBGLGNBQWM7b0JBQ2hCc0gsY0FBYztnQkFDaEI7Z0JBQ0FuSCxRQUFRLENBQUM3RjtvQkFDUEEsRUFBRTBGLGNBQWM7b0JBQ2hCMUYsRUFBRTZHLGVBQWU7b0JBQ2pCbUcsY0FBYztvQkFDZCxNQUFNRSxVQUFVbE4sRUFBRThGLFlBQVksQ0FBQzFDLEtBQUssRUFBRSxDQUFDLEVBQUU7b0JBQ3pDLElBQUk4SixXQUFXLENBQUNELGFBQWEvRixTQUFTZ0c7Z0JBQ3hDOzBCQUVDRCxjQUNHaEcsT0FBTzFRLFdBQVcsV0FDaEIsZ0JBQ0EsQ0FBQyxRQUFRLEVBQUUwUSxPQUFPMUYsWUFBWSxFQUFFLENBQUMsQ0FBQyxHQUNwQzs7Ozs7O1lBRUwwRixPQUFPMVEsV0FBVyx3QkFDakIsOERBQUMwTjtnQkFBSUMsV0FBVTswQkFBNkIrQyxNQUFNbEosT0FBTzs7Ozs7dUJBQ3ZEO1lBQ0hrSixPQUFPMVEsV0FBVyx1QkFDakIsOERBQUMwTjtnQkFBSUMsV0FBVTswQkFBZ0M7Ozs7O3VCQUM3Qzs7Ozs7OztBQUdWO0lBckVTOEM7TUFBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy96ZXJvaHVpdC9Eb2N1bWVudHMvR2l0SHViL3plcm8taHVpdC9zcmMvYXBwL2FkbWluL3BvcnRmb2xpby9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XG5pbXBvcnQgeyBidWRnZXRMZXZlbHMsIGZvcm1hdENhZCB9IGZyb20gXCJAL2xpYi9idWRnZXRcIjtcbmltcG9ydCB7XG4gIGNsb3VkZmxhcmVEb3dubG9hZFNyYyxcbiAgY2xvdWRmbGFyZUlmcmFtZVNyY05vQXV0b3BsYXksXG4gIGNsb3VkZmxhcmVUaHVtYm5haWxTcmMsXG59IGZyb20gXCJAL2xpYi9jbG91ZGZsYXJlXCI7XG5pbXBvcnQgeyB1c2VTdXBhYmFzZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS91c2VDbGllbnRcIjtcbmltcG9ydCB0eXBlIHsgVGF4b25vbXksIFRheG9ub215S2luZCwgVmlkZW8gfSBmcm9tIFwiQC9saWIvdHlwZXNcIjtcbmltcG9ydCB7IHVzZUFkbWluU3RhdGUgfSBmcm9tIFwiQC9hcHAvYWRtaW4vX2hvb2tzL3VzZUFkbWluU3RhdGVcIjtcbmltcG9ydCB7XG4gIGtleXdvcmRHcm91cEtpbmRzLFxuICBtZXJnZVRheG9ub21pZXNCeUtpbmRzLFxuICB0YXhvbm9teUdyb3Vwcyxcbn0gZnJvbSBcIkAvYXBwL2FkbWluL19saWIvdGF4b25vbWllc1wiO1xuXG5jb25zdCBwZW5kaW5nQ2xvdWRmbGFyZVByZWZpeCA9IFwicGVuZGluZzpcIjtcblxudHlwZSBVcGxvYWRTdGFnZSA9IFwicXVldWVkXCIgfCBcInVwbG9hZGluZ1wiIHwgXCJzYXZpbmdcIiB8IFwiZG9uZVwiIHwgXCJlcnJvclwiO1xuXG50eXBlIFJvd1VwbG9hZFN0YXRlID0ge1xuICBzdGF0dXM6IFVwbG9hZFN0YWdlO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgQnVsa1VwbG9hZEl0ZW0gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGZpbGU6IEZpbGU7XG4gIHZpZGVvOiBWaWRlbyB8IG51bGw7XG4gIHN0YXR1czogVXBsb2FkU3RhZ2U7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmcgfCBudWxsO1xufTtcblxudHlwZSBQZW5kaW5nTWF0Y2hWaWRlbyA9IFBpY2s8VmlkZW8sIFwiaWRcIiB8IFwidGl0bGVcIiB8IFwiY2xvdWRmbGFyZV91aWRcIj47XG5cbnR5cGUgS2V5d29yZFN1Z2dlc3Rpb25zID0geyBleGlzdGluZzogc3RyaW5nW107IG5ldzogc3RyaW5nW10gfTtcblxuZnVuY3Rpb24gbm9ybWFsaXplVGV4dCh2YWx1ZTogc3RyaW5nKSB7XG4gIHJldHVybiB2YWx1ZVxuICAgIC5ub3JtYWxpemUoXCJORkRcIilcbiAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIilcbiAgICAucmVwbGFjZSgvW1xcdTAwYTBdL2csIFwiIFwiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgXCIgXCIpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTWF0Y2hLZXkodmFsdWU6IHN0cmluZykge1xuICByZXR1cm4gbm9ybWFsaXplVGV4dCh2YWx1ZSkucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gc3RyaXBFeHRlbnNpb24oZmlsZW5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmlsZW5hbWUucmVwbGFjZSgvXFwuW14vLl0rJC8sIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVGaWxlbmFtZShmaWxlbmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IGJhc2UgPSBzdHJpcEV4dGVuc2lvbihmaWxlbmFtZSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVUZXh0KGJhc2UpO1xuICBjb25zdCB3aXRob3V0VmVyc2lvbiA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFxiKD86dnx2ZXJzaW9uKVxccypcXGQrXFxiL2csIFwiIFwiKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZU1hdGNoS2V5KHdpdGhvdXRWZXJzaW9uKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24oc2Vjb25kczogbnVtYmVyIHwgbnVsbCkge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShzZWNvbmRzKSkgcmV0dXJuIFwi4oCUXCI7XG4gIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihzZWNvbmRzID8/IDApKTtcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWwgLyA2MCk7XG4gIGNvbnN0IHJlbWFpbmluZyA9IHRvdGFsICUgNjA7XG4gIHJldHVybiBgJHttaW51dGVzfToke1N0cmluZyhyZW1haW5pbmcpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xufVxuXG5mdW5jdGlvbiBidWlsZEFpRnJhbWVUaW1lcyhiYXNlU2Vjb25kczogbnVtYmVyIHwgbnVsbCkge1xuICBjb25zdCBiYXNlID1cbiAgICB0eXBlb2YgYmFzZVNlY29uZHMgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGJhc2VTZWNvbmRzKVxuICAgICAgPyBNYXRoLm1heCgxLCBNYXRoLmZsb29yKGJhc2VTZWNvbmRzKSlcbiAgICAgIDogMTtcbiAgY29uc3QgY2FuZGlkYXRlcyA9IFtiYXNlLCBiYXNlICsgMywgYmFzZSArIDYsIGJhc2UgKyA5LCBiYXNlICsgMTJdO1xuICBjb25zdCB1bmlxdWUgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgY29uc3QgdGltZXM6IG51bWJlcltdID0gW107XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgY2FuZGlkYXRlcykge1xuICAgIGlmICh1bmlxdWUuaGFzKHZhbHVlKSkgY29udGludWU7XG4gICAgdW5pcXVlLmFkZCh2YWx1ZSk7XG4gICAgdGltZXMucHVzaCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRpbWVzLnNsaWNlKDAsIDUpO1xufVxuXG5mdW5jdGlvbiBpc1BlbmRpbmdWaWRlb1VpZCh1aWQ6IHN0cmluZykge1xuICByZXR1cm4gdWlkLnN0YXJ0c1dpdGgocGVuZGluZ0Nsb3VkZmxhcmVQcmVmaXgpO1xufVxuXG5mdW5jdGlvbiB1cGxvYWRGaWxlV2l0aFByb2dyZXNzKFxuICB1cGxvYWRVUkw6IHN0cmluZyxcbiAgZmlsZTogRmlsZSxcbiAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkLFxuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVwbG9hZFVSTCk7XG5cbiAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghb25Qcm9ncmVzcykgcmV0dXJuO1xuICAgICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKSAqIDEwMCk7XG4gICAgICAgIG9uUHJvZ3Jlc3MoTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwZXJjZW50KSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgb25Qcm9ncmVzcz8uKDEwMCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGV4dCA9IHhoci5yZXNwb25zZVRleHQgfHwgXCJVcGxvYWQgQ2xvdWRmbGFyZSDDqWNob3XDqS5cIjtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IodGV4dCkpO1xuICAgIH07XG5cbiAgICB4aHIub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJVcGxvYWQgQ2xvdWRmbGFyZSDDqWNob3XDqS5cIikpO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG4gICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRtaW5Qb3J0Zm9saW9QYWdlKCkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZVN1cGFiYXNlQ2xpZW50KCk7XG4gIGNvbnN0IHsgaXNBZG1pbiB9ID0gdXNlQWRtaW5TdGF0ZShzdXBhYmFzZSk7XG5cbiAgY29uc3QgcGFnZVNpemUgPSA1MDtcbiAgY29uc3QgW3RheG9ub21pZXMsIHNldFRheG9ub21pZXNdID0gdXNlU3RhdGU8VGF4b25vbXlbXT4oW10pO1xuICBjb25zdCBbdmlkZW9zLCBzZXRWaWRlb3NdID0gdXNlU3RhdGU8VmlkZW9bXT4oW10pO1xuICBjb25zdCBbdmlkZW9zTWVzc2FnZSwgc2V0VmlkZW9zTWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRpbmdWaWRlbywgc2V0RWRpdGluZ1ZpZGVvXSA9IHVzZVN0YXRlPFZpZGVvIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFt0b3RhbFZpZGVvcywgc2V0VG90YWxWaWRlb3NdID0gdXNlU3RhdGUoMCk7XG5cbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2J1ZGdldE1pbkluZGV4LCBzZXRCdWRnZXRNaW5JbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2J1ZGdldE1heEluZGV4LCBzZXRCdWRnZXRNYXhJbmRleF0gPSB1c2VTdGF0ZShidWRnZXRMZXZlbHMubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IFt0aHVtYlNlY29uZHMsIHNldFRodW1iU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXI+KDEpO1xuICBjb25zdCBbZHVyYXRpb25TZWNvbmRzLCBzZXREdXJhdGlvblNlY29uZHNdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZFRheG9ub215SWRzLCBzZXRTZWxlY3RlZFRheG9ub215SWRzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihcbiAgICBuZXcgU2V0KCksXG4gICk7XG4gIGNvbnN0IFtmaWxlLCBzZXRGaWxlXSA9IHVzZVN0YXRlPEZpbGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VwbG9hZFN0YXRlLCBzZXRVcGxvYWRTdGF0ZV0gPSB1c2VTdGF0ZTxcbiAgICBcImlkbGVcIiB8IFwicmVxdWVzdGluZ1wiIHwgXCJ1cGxvYWRpbmdcIiB8IFwic2F2aW5nXCIgfCBcImRvbmVcIiB8IFwiZXJyb3JcIlxuICA+KFwiaWRsZVwiKTtcbiAgY29uc3QgW3VwbG9hZE1lc3NhZ2UsIHNldFVwbG9hZE1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt1cGxvYWRQcm9ncmVzcywgc2V0VXBsb2FkUHJvZ3Jlc3NdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93VXBsb2FkZXIsIHNldFNob3dVcGxvYWRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW3Jvd1VwbG9hZHMsIHNldFJvd1VwbG9hZHNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgUm93VXBsb2FkU3RhdGU+Pih7fSk7XG4gIGNvbnN0IFtidWxrVXBsb2Fkcywgc2V0QnVsa1VwbG9hZHNdID0gdXNlU3RhdGU8QnVsa1VwbG9hZEl0ZW1bXT4oW10pO1xuICBjb25zdCBbYnVsa01lc3NhZ2UsIHNldEJ1bGtNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYnVsa0Ryb3BBY3RpdmUsIHNldEJ1bGtEcm9wQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgYnVsa0lucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc29ydEtleSwgc2V0U29ydEtleV0gPSB1c2VTdGF0ZTxcbiAgICBcInRpdGxlXCIgfCBcImJ1ZGdldFwiIHwgXCJkdXJhdGlvblwiIHwgXCJmZWF0dXJlZFwiIHwgXCJ0eXBlXCIgfCBcIm9iamVjdGlmXCIgfCBcImtleXdvcmRzXCIgfCBcImZlZWxcIlxuICA+KFwidGl0bGVcIik7XG4gIGNvbnN0IFtzb3J0RGlyZWN0aW9uLCBzZXRTb3J0RGlyZWN0aW9uXSA9IHVzZVN0YXRlPFwiYXNjXCIgfCBcImRlc2NcIj4oXCJhc2NcIik7XG4gIGNvbnN0IFtkdXJhdGlvblJlZnJlc2hTdGF0ZSwgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGVdID0gdXNlU3RhdGU8XG4gICAgXCJpZGxlXCIgfCBcImxvYWRpbmdcIiB8IFwiZXJyb3JcIlxuICA+KFwiaWRsZVwiKTtcbiAgY29uc3QgW2R1cmF0aW9uUmVmcmVzaE1lc3NhZ2UsIHNldER1cmF0aW9uUmVmcmVzaE1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4oXG4gICAgbnVsbCxcbiAgKTtcblxuICBjb25zdCBncm91cGVkVGF4b25vbWllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwczogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT4gPSB7XG4gICAgICB0eXBlOiBbXSxcbiAgICAgIG9iamVjdGlmOiBbXSxcbiAgICAgIGtleXdvcmQ6IFtdLFxuICAgICAgc3R5bGU6IFtdLFxuICAgICAgZmVlbDogW10sXG4gICAgICBwYXJhbWV0cmU6IFtdLFxuICAgIH07XG4gICAgZm9yIChjb25zdCB0IG9mIHRheG9ub21pZXMpIGdyb3Vwc1t0LmtpbmRdLnB1c2godCk7XG4gICAgZm9yIChjb25zdCBraW5kIG9mIE9iamVjdC5rZXlzKGdyb3VwcykgYXMgVGF4b25vbXlLaW5kW10pIHtcbiAgICAgIGdyb3Vwc1traW5kXS5zb3J0KChhLCBiKSA9PiBhLmxhYmVsLmxvY2FsZUNvbXBhcmUoYi5sYWJlbCwgXCJmclwiKSk7XG4gICAgfVxuICAgIHJldHVybiBncm91cHM7XG4gIH0sIFt0YXhvbm9taWVzXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRWaWRlb3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlYXJjaFF1ZXJ5LnRyaW0oKSkgcmV0dXJuIHZpZGVvcztcbiAgICBjb25zdCBxdWVyeSA9IG5vcm1hbGl6ZVRleHQoc2VhcmNoUXVlcnkpO1xuICAgIHJldHVybiB2aWRlb3MuZmlsdGVyKCh2aWRlbykgPT4ge1xuICAgICAgY29uc3QgdGFncyA9IHZpZGVvLnRheG9ub21pZXMubWFwKCh0KSA9PiB0LmxhYmVsKS5qb2luKFwiIFwiKTtcbiAgICAgIGNvbnN0IGhheXN0YWNrID0gbm9ybWFsaXplVGV4dChgJHt2aWRlby50aXRsZX0gJHt2aWRlby5jbG91ZGZsYXJlX3VpZH0gJHt0YWdzfWApO1xuICAgICAgcmV0dXJuIGhheXN0YWNrLmluY2x1ZGVzKHF1ZXJ5KTtcbiAgICB9KTtcbiAgfSwgW3NlYXJjaFF1ZXJ5LCB2aWRlb3NdKTtcblxuICBjb25zdCBzb3J0ZWRWaWRlb3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpdGVtcyA9IFsuLi5maWx0ZXJlZFZpZGVvc107XG4gICAgY29uc3QgZ2V0VGFnVmFsdWUgPSAodmlkZW86IFZpZGVvLCBraW5kOiBUYXhvbm9teUtpbmQgfCBcImtleXdvcmRzXCIpID0+IHtcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBraW5kID09PSBcImtleXdvcmRzXCJcbiAgICAgICAgICA/IHZpZGVvLnRheG9ub21pZXMuZmlsdGVyKCh0KSA9PiBrZXl3b3JkR3JvdXBLaW5kcy5pbmNsdWRlcyh0LmtpbmQpKVxuICAgICAgICAgIDogdmlkZW8udGF4b25vbWllcy5maWx0ZXIoKHQpID0+IHQua2luZCA9PT0ga2luZCk7XG4gICAgICBjb25zdCBzb3J0ZWQgPSB0YWdzXG4gICAgICAgIC5tYXAoKHQpID0+IHQubGFiZWwpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYiwgXCJmclwiKSk7XG4gICAgICByZXR1cm4gc29ydGVkWzBdID8/IFwiXCI7XG4gICAgfTtcbiAgICBjb25zdCBnZXRWYWx1ZSA9ICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICAgIHN3aXRjaCAoc29ydEtleSkge1xuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gdmlkZW8udGl0bGUgPz8gXCJcIjtcbiAgICAgICAgY2FzZSBcImJ1ZGdldFwiOlxuICAgICAgICAgIHJldHVybiB2aWRlby5idWRnZXRfbWluID8/IFwiXCI7XG4gICAgICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgICAgIHJldHVybiB2aWRlby5kdXJhdGlvbl9zZWNvbmRzID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgY2FzZSBcImZlYXR1cmVkXCI6XG4gICAgICAgICAgcmV0dXJuIHZpZGVvLmlzX2ZlYXR1cmVkID8gMSA6IDA7XG4gICAgICAgIGNhc2UgXCJ0eXBlXCI6XG4gICAgICAgICAgcmV0dXJuIGdldFRhZ1ZhbHVlKHZpZGVvLCBcInR5cGVcIik7XG4gICAgICAgIGNhc2UgXCJvYmplY3RpZlwiOlxuICAgICAgICAgIHJldHVybiBnZXRUYWdWYWx1ZSh2aWRlbywgXCJvYmplY3RpZlwiKTtcbiAgICAgICAgY2FzZSBcImtleXdvcmRzXCI6XG4gICAgICAgICAgcmV0dXJuIGdldFRhZ1ZhbHVlKHZpZGVvLCBcImtleXdvcmRzXCIpO1xuICAgICAgICBjYXNlIFwiZmVlbFwiOlxuICAgICAgICAgIHJldHVybiBnZXRUYWdWYWx1ZSh2aWRlbywgXCJmZWVsXCIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH07XG4gICAgaXRlbXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgbGVmdCA9IGdldFZhbHVlKGEpO1xuICAgICAgY29uc3QgcmlnaHQgPSBnZXRWYWx1ZShiKTtcbiAgICAgIGxldCBvcmRlciA9IDA7XG4gICAgICBpZiAodHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG9yZGVyID0gbGVmdCAtIHJpZ2h0O1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3JkZXIgPSBsZWZ0LmxvY2FsZUNvbXBhcmUocmlnaHQsIFwiZnJcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmRlciA9IFN0cmluZyhsZWZ0KS5sb2NhbGVDb21wYXJlKFN0cmluZyhyaWdodCksIFwiZnJcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gc29ydERpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IG9yZGVyIDogLW9yZGVyO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVtcztcbiAgfSwgW2ZpbHRlcmVkVmlkZW9zLCBzb3J0RGlyZWN0aW9uLCBzb3J0S2V5XSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlU29ydChuZXh0S2V5OiB0eXBlb2Ygc29ydEtleSkge1xuICAgIHNldFNvcnRLZXkoKGN1cnJlbnQpID0+IHtcbiAgICAgIGlmIChjdXJyZW50ICE9PSBuZXh0S2V5KSB7XG4gICAgICAgIHNldFNvcnREaXJlY3Rpb24oXCJhc2NcIik7XG4gICAgICAgIHJldHVybiBuZXh0S2V5O1xuICAgICAgfVxuICAgICAgc2V0U29ydERpcmVjdGlvbigocHJldikgPT4gKHByZXYgPT09IFwiYXNjXCIgPyBcImRlc2NcIiA6IFwiYXNjXCIpKTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVmcmVzaFRheG9ub21pZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwidGF4b25vbWllc1wiKVxuICAgICAgLnNlbGVjdChcImlkLGtpbmQsbGFiZWxcIilcbiAgICAgIC5vcmRlcihcImxhYmVsXCIpO1xuICAgIHNldFRheG9ub21pZXMoKGRhdGEgPz8gW10pIGFzIFRheG9ub215W10pO1xuICB9LCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCB0b2dnbGVGZWF0dXJlZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICAgIGlmICghc3VwYWJhc2UpIHJldHVybjtcbiAgICAgIGNvbnN0IG5leHRWYWx1ZSA9ICF2aWRlby5pc19mZWF0dXJlZDtcbiAgICAgIHNldFZpZGVvcygocHJldikgPT5cbiAgICAgICAgcHJldi5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gdmlkZW8uaWQgPyB7IC4uLml0ZW0sIGlzX2ZlYXR1cmVkOiBuZXh0VmFsdWUgfSA6IGl0ZW0sXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgICAgLnVwZGF0ZSh7IGlzX2ZlYXR1cmVkOiBuZXh0VmFsdWUgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgdmlkZW8uaWQpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNldFZpZGVvcygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHZpZGVvLmlkID8geyAuLi5pdGVtLCBpc19mZWF0dXJlZDogdmlkZW8uaXNfZmVhdHVyZWQgfSA6IGl0ZW0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VmlkZW9zTWVzc2FnZShlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzdXBhYmFzZV0sXG4gICk7XG5cbiAgY29uc3QgcmVmcmVzaFZpZGVvcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgc2V0VmlkZW9zTWVzc2FnZShudWxsKTtcbiAgICBjb25zdCBmcm9tID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBwYWdlU2l6ZTtcbiAgICBjb25zdCB0byA9IGZyb20gKyBwYWdlU2l6ZSAtIDE7XG4gICAgY29uc3QgW1xuICAgICAgeyBkYXRhOiByYXdWaWRlb3MsIGVycm9yOiB2aWRlb3NFcnJvciwgY291bnQ6IHZpZGVvc0NvdW50IH0sXG4gICAgICB7IGRhdGE6IHJhd1RheG9ub21pZXMsIGVycm9yOiB0YXhvbm9taWVzRXJyb3IgfSxcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgICAgLnNlbGVjdChcbiAgICAgICAgICBcImlkLHRpdGxlLGNsb3VkZmxhcmVfdWlkLHN0YXR1cyx0aHVtYm5haWxfdGltZV9zZWNvbmRzLGR1cmF0aW9uX3NlY29uZHMsYnVkZ2V0X21pbixidWRnZXRfbWF4LGlzX2ZlYXR1cmVkLGNyZWF0ZWRfYXRcIixcbiAgICAgICAgICB7IGNvdW50OiBcImV4YWN0XCIgfSxcbiAgICAgICAgKVxuICAgICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAucmFuZ2UoZnJvbSwgdG8pLFxuICAgICAgc3VwYWJhc2UuZnJvbShcInRheG9ub21pZXNcIikuc2VsZWN0KFwiaWQsa2luZCxsYWJlbFwiKSxcbiAgICBdKTtcblxuICAgIGxldCByYXdMaW5rczogeyB2aWRlb19pZDogc3RyaW5nOyB0YXhvbm9teV9pZDogc3RyaW5nIH1bXSA9IFtdO1xuICAgIGxldCBsaW5rc0Vycm9yOiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuICAgIGlmICghdmlkZW9zRXJyb3IgJiYgKHJhd1ZpZGVvcyA/PyBbXSkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aWRlb190YXhvbm9taWVzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJ2aWRlb19pZCx0YXhvbm9teV9pZFwiKVxuICAgICAgICAuaW4oXG4gICAgICAgICAgXCJ2aWRlb19pZFwiLFxuICAgICAgICAgIChyYXdWaWRlb3MgPz8gW10pLm1hcCgodmlkZW8pID0+IHZpZGVvLmlkKSxcbiAgICAgICAgKTtcbiAgICAgIHJhd0xpbmtzID0gKGRhdGEgPz8gW10pIGFzIHsgdmlkZW9faWQ6IHN0cmluZzsgdGF4b25vbXlfaWQ6IHN0cmluZyB9W107XG4gICAgICBsaW5rc0Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvc0Vycm9yIHx8IGxpbmtzRXJyb3IgfHwgdGF4b25vbWllc0Vycm9yKSB7XG4gICAgICBzZXRWaWRlb3NNZXNzYWdlKFxuICAgICAgICB2aWRlb3NFcnJvcj8ubWVzc2FnZSA/PyBsaW5rc0Vycm9yPy5tZXNzYWdlID8/IHRheG9ub21pZXNFcnJvcj8ubWVzc2FnZSA/PyBcIkVycmV1clwiLFxuICAgICAgKTtcbiAgICAgIHNldFZpZGVvcyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x2ZWRUYXhvbm9taWVzID0gKHJhd1RheG9ub21pZXMgPz8gW10pIGFzIFRheG9ub215W107XG4gICAgc2V0VGF4b25vbWllcyhyZXNvbHZlZFRheG9ub21pZXMpO1xuICAgIHNldFRvdGFsVmlkZW9zKHZpZGVvc0NvdW50ID8/IDApO1xuXG4gICAgY29uc3QgdGF4b25vbXlCeUlkID0gbmV3IE1hcDxzdHJpbmcsIFRheG9ub215PigpO1xuICAgIGZvciAoY29uc3QgdCBvZiByZXNvbHZlZFRheG9ub21pZXMpIHRheG9ub215QnlJZC5zZXQodC5pZCwgdCk7XG5cbiAgICBjb25zdCB0YXhvbm9teUlkc0J5VmlkZW9JZCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiAocmF3TGlua3MgPz8gW10pIGFzIHsgdmlkZW9faWQ6IHN0cmluZzsgdGF4b25vbXlfaWQ6IHN0cmluZyB9W10pIHtcbiAgICAgIGNvbnN0IGxpc3QgPSB0YXhvbm9teUlkc0J5VmlkZW9JZC5nZXQocm93LnZpZGVvX2lkKSA/PyBbXTtcbiAgICAgIGxpc3QucHVzaChyb3cudGF4b25vbXlfaWQpO1xuICAgICAgdGF4b25vbXlJZHNCeVZpZGVvSWQuc2V0KHJvdy52aWRlb19pZCwgbGlzdCk7XG4gICAgfVxuXG4gICAgY29uc3QgaHlkcmF0ZWRWaWRlb3M6IFZpZGVvW10gPSAoKHJhd1ZpZGVvcyA/PyBbXSkgYXMgT21pdDxWaWRlbywgXCJ0YXhvbm9taWVzXCI+W10pLm1hcChcbiAgICAgICh2KSA9PiAoe1xuICAgICAgICAuLi52LFxuICAgICAgICB0YXhvbm9taWVzOiAodGF4b25vbXlJZHNCeVZpZGVvSWQuZ2V0KHYuaWQpID8/IFtdKVxuICAgICAgICAgIC5tYXAoKGlkKSA9PiB0YXhvbm9teUJ5SWQuZ2V0KGlkKSlcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIFRheG9ub215W10sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgc2V0VmlkZW9zKGh5ZHJhdGVkVmlkZW9zKTtcbiAgfSwgW3N1cGFiYXNlLCBjdXJyZW50UGFnZSwgcGFnZVNpemVdKTtcblxuICBjb25zdCByZWZyZXNoTWlzc2luZ0R1cmF0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0cyA9IHZpZGVvcy5maWx0ZXIoXG4gICAgICAodmlkZW8pID0+XG4gICAgICAgICFpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkgJiZcbiAgICAgICAgIU51bWJlci5pc0Zpbml0ZSh2aWRlby5kdXJhdGlvbl9zZWNvbmRzKSxcbiAgICApO1xuICAgIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGUoXCJpZGxlXCIpO1xuICAgICAgc2V0RHVyYXRpb25SZWZyZXNoTWVzc2FnZShcIkF1Y3VuZSBkdXLDqWUgbWFucXVhbnRlLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0RHVyYXRpb25SZWZyZXNoU3RhdGUoXCJsb2FkaW5nXCIpO1xuICAgIHNldER1cmF0aW9uUmVmcmVzaE1lc3NhZ2UoYExlY3R1cmUgZGUgJHt0YXJnZXRzLmxlbmd0aH0gdmlkw6lvKHMp4oCmYCk7XG4gICAgbGV0IHVwZGF0ZWRDb3VudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdGFyZ2V0cykge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGF3YWl0IGZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uKHZpZGVvLmNsb3VkZmxhcmVfdWlkKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb24pKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZpZGVvc1wiKVxuICAgICAgICAgIC51cGRhdGUoeyBkdXJhdGlvbl9zZWNvbmRzOiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGR1cmF0aW9uID8/IDApKSB9KVxuICAgICAgICAgIC5lcShcImlkXCIsIHZpZGVvLmlkKTtcbiAgICAgICAgaWYgKCFlcnJvcikgdXBkYXRlZENvdW50ICs9IDE7XG4gICAgICB9XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hTdGF0ZShcImlkbGVcIik7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hNZXNzYWdlKFxuICAgICAgICBgRHVyw6llKHMpIG1pc2Uocykgw6Agam91cjogJHt1cGRhdGVkQ291bnR9LyR7dGFyZ2V0cy5sZW5ndGh9LmAsXG4gICAgICApO1xuICAgICAgYXdhaXQgcmVmcmVzaFZpZGVvcygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldER1cmF0aW9uUmVmcmVzaFN0YXRlKFwiZXJyb3JcIik7XG4gICAgICBzZXREdXJhdGlvblJlZnJlc2hNZXNzYWdlKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiRXJyZXVyXCIpO1xuICAgIH1cbiAgfSwgW2ZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uLCBpc0FkbWluLCByZWZyZXNoVmlkZW9zLCBzdXBhYmFzZSwgdmlkZW9zXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgdm9pZCByZWZyZXNoVGF4b25vbWllcygpO1xuICAgIHZvaWQgcmVmcmVzaFZpZGVvcygpO1xuICB9LCBbc3VwYWJhc2UsIHJlZnJlc2hUYXhvbm9taWVzLCByZWZyZXNoVmlkZW9zXSk7XG5cbiAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCh0b3RhbFZpZGVvcyAvIHBhZ2VTaXplKSk7XG4gIGNvbnN0IHBlbmRpbmdWaWRlb3MgPSB1c2VNZW1vKFxuICAgICgpID0+IHZpZGVvcy5maWx0ZXIoKHZpZGVvKSA9PiBpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCkpLFxuICAgIFt2aWRlb3NdLFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgc2V0Q3VycmVudFBhZ2UodG90YWxQYWdlcyk7XG4gICAgfVxuICB9LCBbY3VycmVudFBhZ2UsIHRvdGFsUGFnZXNdKTtcblxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVEaXJlY3RVcGxvYWQoKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgdGhyb3cgbmV3IEVycm9yKFwiU3VwYWJhc2Ugbm9uIGluaXRpYWxpc8OpLlwiKTtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHNlc3Npb25EYXRhLnNlc3Npb24/LmFjY2Vzc190b2tlbjtcbiAgICBpZiAoIWFjY2Vzc1Rva2VuKSB0aHJvdyBuZXcgRXJyb3IoXCJOb24gY29ubmVjdMOpLlwiKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2Nsb3VkZmxhcmUvZGlyZWN0LXVwbG9hZFwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QganNvbiA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzXG4gICAgICB8IHsgdXBsb2FkVVJMOiBzdHJpbmc7IHVpZDogc3RyaW5nIH1cbiAgICAgIHwgeyBlcnJvcjogc3RyaW5nOyBkZXRhaWxzPzogc3RyaW5nIH07XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IFwiZXJyb3JcIiBpbiBqc29uKSB7XG4gICAgICBjb25zdCBkZXRhaWxzID0gXCJkZXRhaWxzXCIgaW4ganNvbiA/IGA6ICR7anNvbi5kZXRhaWxzfWAgOiBcIlwiO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChcImVycm9yXCIgaW4ganNvbiA/IGpzb24uZXJyb3IgOiBcIkVycmV1clwiKSArIGRldGFpbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hDbG91ZGZsYXJlRHVyYXRpb24odWlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIXN1cGFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoXCJTdXBhYmFzZSBub24gaW5pdGlhbGlzw6kuXCIpO1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuICAgIGlmICghYWNjZXNzVG9rZW4pIHRocm93IG5ldyBFcnJvcihcIk5vbiBjb25uZWN0w6kuXCIpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAvYXBpL2Nsb3VkZmxhcmUvdmlkZW8taW5mbz91aWQ9JHtlbmNvZGVVUklDb21wb25lbnQodWlkKX1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXNcbiAgICAgIHwgeyBkdXJhdGlvblNlY29uZHM6IG51bWJlciB8IG51bGwgfVxuICAgICAgfCB7IGVycm9yOiBzdHJpbmc7IGRldGFpbHM/OiBzdHJpbmcgfTtcblxuICAgIGlmICghcmVzcG9uc2Uub2sgfHwgXCJlcnJvclwiIGluIGpzb24pIHtcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBcImRldGFpbHNcIiBpbiBqc29uID8gYDogJHtqc29uLmRldGFpbHN9YCA6IFwiXCI7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiZXJyb3JcIiBpbiBqc29uID8ganNvbi5lcnJvciA6IFwiRXJyZXVyXCIpICsgZGV0YWlscyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb24uZHVyYXRpb25TZWNvbmRzID8/IG51bGw7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGxvYWRUb0Nsb3VkZmxhcmUoXG4gICAgdXBsb2FkRmlsZTogRmlsZSxcbiAgICBvblByb2dyZXNzPzogKHByb2dyZXNzOiBudW1iZXIpID0+IHZvaWQsXG4gICkge1xuICAgIGNvbnN0IHsgdXBsb2FkVVJMLCB1aWQgfSA9IGF3YWl0IGNyZWF0ZURpcmVjdFVwbG9hZCgpO1xuICAgIGF3YWl0IHVwbG9hZEZpbGVXaXRoUHJvZ3Jlc3ModXBsb2FkVVJMLCB1cGxvYWRGaWxlLCBvblByb2dyZXNzKTtcbiAgICByZXR1cm4gdWlkO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkVmlkZW8oKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIHNldFVwbG9hZE1lc3NhZ2UobnVsbCk7XG4gICAgc2V0VXBsb2FkU3RhdGUoXCJyZXF1ZXN0aW5nXCIpO1xuICAgIHNldFVwbG9hZFByb2dyZXNzKG51bGwpO1xuXG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcImVycm9yXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIkNob2lzaXMgdW4gZmljaGllciB2aWTDqW8uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRpdGxlLnRyaW0oKSkge1xuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJlcnJvclwiKTtcbiAgICAgIHNldFVwbG9hZE1lc3NhZ2UoXCJUaXRyZSByZXF1aXMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRVcGxvYWRTdGF0ZShcInVwbG9hZGluZ1wiKTtcbiAgICAgIHNldFVwbG9hZFByb2dyZXNzKDApO1xuICAgICAgY29uc3QgdWlkID0gYXdhaXQgdXBsb2FkVG9DbG91ZGZsYXJlKGZpbGUsIChwcm9ncmVzcykgPT4ge1xuICAgICAgICBzZXRVcGxvYWRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICB9KTtcbiAgICAgIGxldCBkdXJhdGlvbkZyb21DbG91ZGZsYXJlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGR1cmF0aW9uRnJvbUNsb3VkZmxhcmUgPSBhd2FpdCBmZXRjaENsb3VkZmxhcmVEdXJhdGlvbih1aWQpO1xuICAgICAgICBzZXREdXJhdGlvblNlY29uZHMoZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHNldFVwbG9hZFN0YXRlKFwic2F2aW5nXCIpO1xuICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnRlZCwgZXJyb3I6IHZpZGVvRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmlkZW9zXCIpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIHRpdGxlOiB0aXRsZS50cmltKCksXG4gICAgICAgICAgY2xvdWRmbGFyZV91aWQ6IHVpZCxcbiAgICAgICAgICBzdGF0dXM6IFwicHJvY2Vzc2luZ1wiLFxuICAgICAgICAgIHRodW1ibmFpbF90aW1lX3NlY29uZHM6IE51bWJlci5pc0Zpbml0ZSh0aHVtYlNlY29uZHMpXG4gICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodGh1bWJTZWNvbmRzKSlcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICBkdXJhdGlvbl9zZWNvbmRzOiBOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25Gcm9tQ2xvdWRmbGFyZSlcbiAgICAgICAgICAgID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihkdXJhdGlvbkZyb21DbG91ZGZsYXJlID8/IDApKVxuICAgICAgICAgICAgOiBOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25TZWNvbmRzKVxuICAgICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzID8/IDApKVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgYnVkZ2V0X21pbjogYnVkZ2V0TGV2ZWxzW2J1ZGdldE1pbkluZGV4XSxcbiAgICAgICAgICBidWRnZXRfbWF4OiBidWRnZXRMZXZlbHNbYnVkZ2V0TWF4SW5kZXhdLFxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAodmlkZW9FcnJvciB8fCAhaW5zZXJ0ZWQ/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih2aWRlb0Vycm9yPy5tZXNzYWdlID8/IFwiRXJyZXVyIERCICh2aWRlb3MpXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXhvbm9teUlkcyA9IEFycmF5LmZyb20oc2VsZWN0ZWRUYXhvbm9teUlkcyk7XG4gICAgICBpZiAodGF4b25vbXlJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByb3dzID0gdGF4b25vbXlJZHMubWFwKCh0YXhvbm9teUlkKSA9PiAoe1xuICAgICAgICAgIHZpZGVvX2lkOiBpbnNlcnRlZC5pZCxcbiAgICAgICAgICB0YXhvbm9teV9pZDogdGF4b25vbXlJZCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCB7IGVycm9yOiBsaW5rRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2aWRlb190YXhvbm9taWVzXCIpXG4gICAgICAgICAgLmluc2VydChyb3dzKTtcbiAgICAgICAgaWYgKGxpbmtFcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihsaW5rRXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJkb25lXCIpO1xuICAgICAgc2V0VXBsb2FkTWVzc2FnZShcIlZpZMOpbyBham91dMOpZS4gKExlIHN0YXR1dCAncmVhZHknIHNlcmEgZ8OpcsOpIHBsdXMgdGFyZC4pXCIpO1xuICAgICAgc2V0VGl0bGUoXCJcIik7XG4gICAgICBzZXRGaWxlKG51bGwpO1xuICAgICAgc2V0VXBsb2FkUHJvZ3Jlc3MobnVsbCk7XG4gICAgICBzZXREdXJhdGlvblNlY29uZHMobnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZFRheG9ub215SWRzKG5ldyBTZXQoKSk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0VXBsb2FkU3RhdGUoXCJlcnJvclwiKTtcbiAgICAgIHNldFVwbG9hZE1lc3NhZ2UoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXJcIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gYXR0YWNoVXBsb2FkVG9WaWRlbyhcbiAgICB2aWRlbzogVmlkZW8sXG4gICAgdXBsb2FkRmlsZTogRmlsZSxcbiAgICBvcHRpb25zPzoge1xuICAgICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkO1xuICAgICAgb25TdGFnZT86IChzdGFnZTogXCJ1cGxvYWRpbmdcIiB8IFwic2F2aW5nXCIpID0+IHZvaWQ7XG4gICAgfSxcbiAgKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGlmICghaXNBZG1pbikgdGhyb3cgbmV3IEVycm9yKFwiQWNjw6hzIHJlZnVzw6kgKGFkbWluIHJlcXVpcykuXCIpO1xuXG4gICAgb3B0aW9ucz8ub25TdGFnZT8uKFwidXBsb2FkaW5nXCIpO1xuICAgIGNvbnN0IHVpZCA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRmbGFyZSh1cGxvYWRGaWxlLCBvcHRpb25zPy5vblByb2dyZXNzKTtcblxuICAgIG9wdGlvbnM/Lm9uU3RhZ2U/LihcInNhdmluZ1wiKTtcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwidmlkZW9zXCIpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgY2xvdWRmbGFyZV91aWQ6IHVpZCxcbiAgICAgICAgc3RhdHVzOiBcInByb2Nlc3NpbmdcIixcbiAgICAgICAgdGh1bWJuYWlsX3RpbWVfc2Vjb25kczogdmlkZW8udGh1bWJuYWlsX3RpbWVfc2Vjb25kcyA/PyAxLFxuICAgICAgfSlcbiAgICAgIC5lcShcImlkXCIsIHZpZGVvLmlkKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikgdGhyb3cgbmV3IEVycm9yKHVwZGF0ZUVycm9yLm1lc3NhZ2UpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVmlkZW8odmlkZW86IFZpZGVvKSB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuICAgIGlmICghY29uZmlybShgU3VwcHJpbWVyIFwiJHt2aWRlby50aXRsZX1cIiBkZSBTdXBhYmFzZT8gKExhIHZpZMOpbyByZXN0ZXJhIHN1ciBDbG91ZGZsYXJlKWApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFZpZGVvc01lc3NhZ2UobnVsbCk7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInZpZGVvc1wiKS5kZWxldGUoKS5lcShcImlkXCIsIHZpZGVvLmlkKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHNldFZpZGVvc01lc3NhZ2UoZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHJlZnJlc2hWaWRlb3MoKTtcbiAgfVxuXG4gIGNvbnN0IGFsbFRheG9ub215SWRzID0gdXNlTWVtbygoKSA9PiBuZXcgU2V0KHRheG9ub21pZXMubWFwKCh0KSA9PiB0LmlkKSksIFt0YXhvbm9taWVzXSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlUm93VXBsb2FkKHZpZGVvSWQ6IHN0cmluZywgbmV4dDogUGFydGlhbDxSb3dVcGxvYWRTdGF0ZT4pIHtcbiAgICBzZXRSb3dVcGxvYWRzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldlt2aWRlb0lkXSA/PyB7IHN0YXR1czogXCJxdWV1ZWRcIiwgcHJvZ3Jlc3M6IDAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFt2aWRlb0lkXToge1xuICAgICAgICAgIC4uLmN1cnJlbnQsXG4gICAgICAgICAgLi4ubmV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdGFydFJvd1VwbG9hZCh2aWRlbzogVmlkZW8sIHVwbG9hZEZpbGU6IEZpbGUpIHtcbiAgICBpZiAoIWlzQWRtaW4pIHtcbiAgICAgIHVwZGF0ZVJvd1VwbG9hZCh2aWRlby5pZCwge1xuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQWNjw6hzIHJlZnVzw6kgKGFkbWluIHJlcXVpcykuXCIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7XG4gICAgICBzdGF0dXM6IFwidXBsb2FkaW5nXCIsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIG1lc3NhZ2U6IG51bGwsXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGF0dGFjaFVwbG9hZFRvVmlkZW8odmlkZW8sIHVwbG9hZEZpbGUsIHtcbiAgICAgICAgb25Qcm9ncmVzczogKHByb2dyZXNzKSA9PiB1cGRhdGVSb3dVcGxvYWQodmlkZW8uaWQsIHsgcHJvZ3Jlc3MgfSksXG4gICAgICAgIG9uU3RhZ2U6IChzdGFnZSkgPT5cbiAgICAgICAgICB1cGRhdGVSb3dVcGxvYWQodmlkZW8uaWQsIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhZ2UgPT09IFwic2F2aW5nXCIgPyBcInNhdmluZ1wiIDogXCJ1cGxvYWRpbmdcIixcbiAgICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7IHN0YXR1czogXCJkb25lXCIsIHByb2dyZXNzOiAxMDAgfSk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdXBkYXRlUm93VXBsb2FkKHZpZGVvLmlkLCB7XG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgICBtZXNzYWdlOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIkVycmV1clwiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFBlbmRpbmdWaWRlb3NGb3JNYXRjaCgpOiBQcm9taXNlPFBlbmRpbmdNYXRjaFZpZGVvW10+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gcGVuZGluZ1ZpZGVvcztcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJ2aWRlb3NcIilcbiAgICAgIC5zZWxlY3QoXCJpZCx0aXRsZSxjbG91ZGZsYXJlX3VpZFwiKVxuICAgICAgLmxpa2UoXCJjbG91ZGZsYXJlX3VpZFwiLCBgJHtwZW5kaW5nQ2xvdWRmbGFyZVByZWZpeH0lYCk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRCdWxrTWVzc2FnZShlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBwZW5kaW5nVmlkZW9zO1xuICAgIH1cbiAgICByZXR1cm4gKGRhdGEgPz8gW10pIGFzIFBlbmRpbmdNYXRjaFZpZGVvW107XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBlbnF1ZXVlQnVsa1VwbG9hZHMoZmlsZXM6IEZpbGVbXSkge1xuICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47XG4gICAgc2V0QnVsa01lc3NhZ2UobnVsbCk7XG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICBzZXRCdWxrTWVzc2FnZShcIkFjY8OocyByZWZ1c8OpIChhZG1pbiByZXF1aXMpLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZW5kaW5nTWF0Y2hlcyA9IGF3YWl0IGxvYWRQZW5kaW5nVmlkZW9zRm9yTWF0Y2goKTtcbiAgICBjb25zdCBwZW5kaW5nQnlUaXRsZSA9IG5ldyBNYXA8c3RyaW5nLCBWaWRlb1tdPigpO1xuICAgIGZvciAoY29uc3QgdmlkZW8gb2YgcGVuZGluZ01hdGNoZXMpIHtcbiAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZU1hdGNoS2V5KHZpZGVvLnRpdGxlKTtcbiAgICAgIGNvbnN0IGxpc3QgPSBwZW5kaW5nQnlUaXRsZS5nZXQoa2V5KSA/PyBbXTtcbiAgICAgIGxpc3QucHVzaCh2aWRlbyBhcyBWaWRlbyk7XG4gICAgICBwZW5kaW5nQnlUaXRsZS5zZXQoa2V5LCBsaXN0KTtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdJdGVtczogQnVsa1VwbG9hZEl0ZW1bXSA9IGZpbGVzLm1hcCgodXBsb2FkRmlsZSkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gbm9ybWFsaXplRmlsZW5hbWUodXBsb2FkRmlsZS5uYW1lKTtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBwZW5kaW5nQnlUaXRsZS5nZXQoa2V5KTtcbiAgICAgIGNvbnN0IHZpZGVvID0gbWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDAgPyBtYXRjaGVzLnNoaWZ0KCkgPz8gbnVsbCA6IG51bGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgZmlsZTogdXBsb2FkRmlsZSxcbiAgICAgICAgdmlkZW8sXG4gICAgICAgIHN0YXR1czogdmlkZW8gPyBcInF1ZXVlZFwiIDogXCJlcnJvclwiLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgbWVzc2FnZTogdmlkZW9cbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IFwiQXVjdW5lIHZpZMOpbyBlbiBhdHRlbnRlIHRyb3V2w6llIHBvdXIgY2Ugbm9tIGRlIGZpY2hpZXIuXCIsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+IFsuLi5uZXdJdGVtcywgLi4ucHJldl0pO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIG5ld0l0ZW1zKSB7XG4gICAgICBpZiAoIWl0ZW0udmlkZW8pIGNvbnRpbnVlO1xuICAgICAgdm9pZCBzdGFydEJ1bGtVcGxvYWQoaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRCdWxrVXBsb2FkKGl0ZW06IEJ1bGtVcGxvYWRJdGVtKSB7XG4gICAgaWYgKCFpdGVtLnZpZGVvKSByZXR1cm47XG4gICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkXG4gICAgICAgICAgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IFwidXBsb2FkaW5nXCIsIHByb2dyZXNzOiAwLCBtZXNzYWdlOiBudWxsIH1cbiAgICAgICAgICA6IGVudHJ5LFxuICAgICAgKSxcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhdHRhY2hVcGxvYWRUb1ZpZGVvKGl0ZW0udmlkZW8sIGl0ZW0uZmlsZSwge1xuICAgICAgICBvblByb2dyZXNzOiAocHJvZ3Jlc3MpID0+XG4gICAgICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkID8geyAuLi5lbnRyeSwgcHJvZ3Jlc3MgfSA6IGVudHJ5LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApLFxuICAgICAgICBvblN0YWdlOiAoc3RhZ2UpID0+XG4gICAgICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgICAgIGVudHJ5LmlkID09PSBpdGVtLmlkXG4gICAgICAgICAgICAgICAgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IHN0YWdlID09PSBcInNhdmluZ1wiID8gXCJzYXZpbmdcIiA6IFwidXBsb2FkaW5nXCIgfVxuICAgICAgICAgICAgICAgIDogZW50cnksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICksXG4gICAgICB9KTtcbiAgICAgIHNldEJ1bGtVcGxvYWRzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoZW50cnkpID0+XG4gICAgICAgICAgZW50cnkuaWQgPT09IGl0ZW0uaWQgPyB7IC4uLmVudHJ5LCBzdGF0dXM6IFwiZG9uZVwiLCBwcm9ncmVzczogMTAwIH0gOiBlbnRyeSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2V0QnVsa1VwbG9hZHMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChlbnRyeSkgPT5cbiAgICAgICAgICBlbnRyeS5pZCA9PT0gaXRlbS5pZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXJcIixcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBlbnRyeSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdG90YWxQYWdlc1RleHQgPSBgUGFnZSAke2N1cnJlbnRQYWdlfSAvICR7dG90YWxQYWdlc30gKCR7dG90YWxWaWRlb3N9KWA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgdy1mdWxsIGdyaWQtY29scy0xIGdhcC00IGxnOmdyaWQtY29scy0yXCI+XG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTUwLzQwIHAtNCBiYWNrZHJvcC1ibHVyIGxnOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPlVwbG9hZGVyIHVuZSB2aWTDqW88L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dVcGxvYWRlcigocHJldikgPT4gIXByZXYpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzaG93VXBsb2FkZXIgPyBcIk1hc3F1ZXJcIiA6IFwiQWZmaWNoZXJcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtzaG93VXBsb2FkZXIgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTEgZ2FwLTQgbGc6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlRpdHJlPC9kaXY+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXppbmMtMTAwIHBsYWNlaG9sZGVyOnRleHQtemluYy01MDBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aXRsZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRpdGxlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtM1wiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5CdWRnZXQgbWluPC9kaXY+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtc20gdGV4dC16aW5jLTEwMFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YnVkZ2V0TWluSW5kZXh9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IE51bWJlcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEJ1ZGdldE1pbkluZGV4KE1hdGgubWluKG5leHQsIGJ1ZGdldE1heEluZGV4KSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtidWRnZXRMZXZlbHMubWFwKChiLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2J9IHZhbHVlPXtpZHh9PlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRDYWQoYil9XG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkJ1ZGdldCBtYXg8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXppbmMtMTAwXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtidWRnZXRNYXhJbmRleH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnVkZ2V0TWF4SW5kZXgoTWF0aC5tYXgobmV4dCwgYnVkZ2V0TWluSW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2J1ZGdldExldmVscy5tYXAoKGIsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Yn0gdmFsdWU9e2lkeH0+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdENhZChiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2tcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+VGh1bWJuYWlsIChzZWNvbmRlcyk8L2Rpdj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtemluYy0xMDBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aHVtYlNlY29uZHN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUaHVtYlNlY29uZHMoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5EdXLDqWUgKHNlY29uZGVzKTwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC16aW5jLTEwMFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2R1cmF0aW9uU2Vjb25kcyA/PyBcIlwifVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICBzZXREdXJhdGlvblNlY29uZHMocmF3ID09PSBcIlwiID8gbnVsbCA6IE51bWJlcihyYXcpKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIG1pbj17MH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5GaWNoaWVyIHZpZMOpbzwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LXppbmMtMTAwIGZpbGU6bXItMyBmaWxlOnJvdW5kZWQtbGcgZmlsZTpib3JkZXItMCBmaWxlOmJnLXdoaXRlLzEwIGZpbGU6cHgtMyBmaWxlOnB5LTEuNSBmaWxlOnRleHQteHMgZmlsZTpmb250LXNlbWlib2xkIGZpbGU6dGV4dC13aGl0ZSBob3ZlcjpmaWxlOmJnLXdoaXRlLzIwXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgYWNjZXB0PVwidmlkZW8vKlwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWxlKGUudGFyZ2V0LmZpbGVzPy5bMF0gPz8gbnVsbCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLXhsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1lbWVyYWxkLTUwMCBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS02MFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB2b2lkIHVwbG9hZFZpZGVvKCl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt1cGxvYWRTdGF0ZSA9PT0gXCJyZXF1ZXN0aW5nXCIgfHwgdXBsb2FkU3RhdGUgPT09IFwidXBsb2FkaW5nXCIgfHwgdXBsb2FkU3RhdGUgPT09IFwic2F2aW5nXCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt1cGxvYWRTdGF0ZSA9PT0gXCJyZXF1ZXN0aW5nXCJcbiAgICAgICAgICAgICAgICA/IFwiQ3LDqWF0aW9uIFVSTOKAplwiXG4gICAgICAgICAgICAgICAgOiB1cGxvYWRTdGF0ZSA9PT0gXCJ1cGxvYWRpbmdcIlxuICAgICAgICAgICAgICAgICAgPyBcIlVwbG9hZOKAplwiXG4gICAgICAgICAgICAgICAgICA6IHVwbG9hZFN0YXRlID09PSBcInNhdmluZ1wiXG4gICAgICAgICAgICAgICAgICAgID8gXCJTYXV2ZWdhcmRl4oCmXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIlVwbG9hZGVyXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIHt1cGxvYWRTdGF0ZSA9PT0gXCJ1cGxvYWRpbmdcIiAmJiB1cGxvYWRQcm9ncmVzcyAhPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtemluYy00MDBcIj5VcGxvYWQ6IHt1cGxvYWRQcm9ncmVzc30lPC9kaXY+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHt1cGxvYWRNZXNzYWdlID8gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC1zbSAke3VwbG9hZFN0YXRlID09PSBcImVycm9yXCIgPyBcInRleHQtcmVkLTQwMFwiIDogXCJ0ZXh0LXppbmMtMjAwXCJ9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt1cGxvYWRNZXNzYWdlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgIFRhZ3Mgc8OpbGVjdGlvbm7DqXNcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICB7dGF4b25vbXlHcm91cHMubWFwKChncm91cCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZVRheG9ub21pZXNCeUtpbmRzKGdyb3VwZWRUYXhvbm9taWVzLCBncm91cC5raW5kcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtncm91cC5raW5kfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj57Z3JvdXAubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb25zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXppbmMtNDAwXCI+w4AgdmVuaXI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tYXAoKHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IHNlbGVjdGVkVGF4b25vbXlJZHMuaGFzKHQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciBweC0zIHB5LTEgdGV4dC1zbSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1lbWVyYWxkLTQwMC80MCBiZy1lbWVyYWxkLTUwMC8yMCB0ZXh0LWVtZXJhbGQtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUYXhvbm9teUlkcygocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dC5oYXModC5pZCkpIG5leHQuZGVsZXRlKHQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBuZXh0LmFkZCh0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0LmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgIFByZXZpZXcgdGh1bWJuYWlsIChleGVtcGxlKVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXppbmMtNDAwXCI+XG4gICAgICAgICAgICAgIEFwcsOocyB1cGxvYWQsIGxhIGdyaWxsZSB1dGlsaXNlcmE6XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgcC0zIHRleHQteHMgdGV4dC16aW5jLTIwMFwiPlxuICAgICAgICAgICAgICA8Y29kZT57Y2xvdWRmbGFyZVRodW1ibmFpbFNyYyhcIkNMT1VERkxBUkVfVUlEXCIsIHRodW1iU2Vjb25kcyl9PC9jb2RlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTUwLzQwIHAtNCBiYWNrZHJvcC1ibHVyIGxnOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPlZpZMOpb3M8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi13LVsyMjBweF0gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQteHMgdGV4dC16aW5jLTEwMCBwbGFjZWhvbGRlcjp0ZXh0LXppbmMtNTAwIHNtOnctYXV0b1wiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUmVjaGVyY2hlci4uLlwiXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4gc2V0U2VhcmNoUXVlcnkoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgcmVmcmVzaE1pc3NpbmdEdXJhdGlvbnMoKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2R1cmF0aW9uUmVmcmVzaFN0YXRlID09PSBcImxvYWRpbmdcIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2R1cmF0aW9uUmVmcmVzaFN0YXRlID09PSBcImxvYWRpbmdcIiA/IFwiRHVyw6llc+KAplwiIDogXCJSw6ljdXDDqXJlciBkdXLDqWVzXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgIEZpbHRyZToge3NvcnRlZFZpZGVvcy5sZW5ndGh9IC8ge3ZpZGVvcy5sZW5ndGh9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXppbmMtNDAwXCI+e3RvdGFsUGFnZXNUZXh0fTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZSgocGFnZSkgPT4gTWF0aC5tYXgoMSwgcGFnZSAtIDEpKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRQYWdlIDw9IDF9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFByw6ljw6lkZW50XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFBhZ2UoKHBhZ2UpID0+IE1hdGgubWluKHRvdGFsUGFnZXMsIHBhZ2UgKyAxKSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTdWl2YW50XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgcmVmcmVzaFZpZGVvcygpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBSYWZyYcOuY2hpclxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7ZHVyYXRpb25SZWZyZXNoTWVzc2FnZSA/IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BtdC0yIHRleHQteHMgJHtcbiAgICAgICAgICAgICAgZHVyYXRpb25SZWZyZXNoU3RhdGUgPT09IFwiZXJyb3JcIiA/IFwidGV4dC1yZWQtNDAwXCIgOiBcInRleHQtemluYy00MDBcIlxuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2R1cmF0aW9uUmVmcmVzaE1lc3NhZ2V9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgICB7dmlkZW9zTWVzc2FnZSA/IDxkaXYgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtIHRleHQtcmVkLTQwMFwiPnt2aWRlb3NNZXNzYWdlfTwvZGl2PiA6IG51bGx9XG5cbiAgICAgICAge3BlbmRpbmdWaWRlb3MubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLXdoaXRlLzE1IGJnLXdoaXRlLzUgcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPlVwbG9hZCByYXBpZGUgKGRyYWcgJmFtcDsgZHJvcCk8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgTGVzIG5vbXMgZGUgZmljaGllcnMgZG9pdmVudCBjb3JyZXNwb25kcmUgYXV4IHRpdHJlcyBkZXMgdmlkw6lvcyBlbiBhdHRlbnRlLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS8xMCBweC0zIHB5LTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMjBcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGJ1bGtJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2hvaXNpciBkZXMgZmljaGllcnNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICByZWY9e2J1bGtJbnB1dFJlZn1cbiAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICBhY2NlcHQ9XCJ2aWRlby8qXCJcbiAgICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzID8/IFtdKTtcbiAgICAgICAgICAgICAgICB2b2lkIGVucXVldWVCdWxrVXBsb2FkcyhmaWxlcyk7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YG10LTQgZmxleCBtaW4taC1bOTZweF0gY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgcHgtNCB0ZXh0LXNtIHRleHQtemluYy00MDAgdHJhbnNpdGlvbiAke1xuICAgICAgICAgICAgICAgIGJ1bGtEcm9wQWN0aXZlID8gXCJiZy13aGl0ZS8xMFwiIDogXCJiZy1ibGFjay8yMFwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBidWxrSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgb25EcmFnRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNldEJ1bGtEcm9wQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZXRCdWxrRHJvcEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25EcmFnTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNldEJ1bGtEcm9wQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZXRCdWxrRHJvcEFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzID8/IFtdKTtcbiAgICAgICAgICAgICAgICB2b2lkIGVucXVldWVCdWxrVXBsb2FkcyhmaWxlcyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEdsaXNzZSB0ZXMgZmljaGllcnMgdmlkw6lvIGljaVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7YnVsa01lc3NhZ2UgPyA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXJlZC00MDBcIj57YnVsa01lc3NhZ2V9PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgIHtidWxrVXBsb2Fkcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS0yIHRleHQtc20gdGV4dC16aW5jLTIwMFwiPlxuICAgICAgICAgICAgICAgIHtidWxrVXBsb2Fkcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgcC0zXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRydW5jYXRlIGZvbnQtc2VtaWJvbGRcIj57aXRlbS5maWxlLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS52aWRlbyA/IGDihpIgJHtpdGVtLnZpZGVvLnRpdGxlfWAgOiBcIkF1Y3VuZSBjb3JyZXNwb25kYW5jZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1cyA9PT0gXCJ1cGxvYWRpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiVXBsb2FkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PT0gXCJzYXZpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTYXV2ZWdhcmRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09PSBcImRvbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT09IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiRXJyZXVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIkVuIGF0dGVudGVcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBoLTIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGgtZnVsbCByb3VuZGVkLWZ1bGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IFwiZXJyb3JcIiA/IFwiYmctcmVkLTUwMC83MFwiIDogXCJiZy1lbWVyYWxkLTUwMC83MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtpdGVtLnByb2dyZXNzfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdGF0dXMgPT09IFwiZXJyb3JcIiA/IGl0ZW0ubWVzc2FnZSA6IGAke2l0ZW0ucHJvZ3Jlc3N9JWB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHt2aWRlb3MubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXNtIHRleHQtemluYy00MDBcIj5BdWN1bmUgdmlkw6lvIHBvdXIgbGUgbW9tZW50LjwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBvdmVyZmxvdy14LWF1dG8gcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMFwiPlxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInctZnVsbCBtaW4tdy1bMTEwMHB4XSBib3JkZXItY29sbGFwc2UgdGV4dC1sZWZ0IHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJnLWJsYWNrLzMwXCI+XG4gICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci13aGl0ZS8xMCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlRodW1ibmFpbDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgVGl0cmVcbiAgICAgICAgICAgICAgICAgICAgICB7c29ydEtleSA9PT0gXCJ0aXRsZVwiID8gKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcIuKGkVwiIDogXCLihpNcIikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcImJ1ZGdldFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEJ1ZGdldFxuICAgICAgICAgICAgICAgICAgICAgIHtzb3J0S2V5ID09PSBcImJ1ZGdldFwiID8gKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcIuKGkVwiIDogXCLihpNcIikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcImR1cmF0aW9uXCIpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgRHVyw6llXG4gICAgICAgICAgICAgICAgICAgICAge3NvcnRLZXkgPT09IFwiZHVyYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzb3J0RGlyZWN0aW9uID09PSBcImFzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCLihpFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwi4oaTXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVNvcnQoXCJmZWF0dXJlZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEZhdm9yaXNcbiAgICAgICAgICAgICAgICAgICAgICB7c29ydEtleSA9PT0gXCJmZWF0dXJlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIuKGkVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCLihpNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcInR5cGVcIil9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBUeXBlXG4gICAgICAgICAgICAgICAgICAgICAge3NvcnRLZXkgPT09IFwidHlwZVwiID8gKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcIuKGkVwiIDogXCLihpNcIikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcIm9iamVjdGlmXCIpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgT2JqZWN0aWZzXG4gICAgICAgICAgICAgICAgICAgICAge3NvcnRLZXkgPT09IFwib2JqZWN0aWZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzb3J0RGlyZWN0aW9uID09PSBcImFzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCLihpFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwi4oaTXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVNvcnQoXCJrZXl3b3Jkc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIE1vdHMgY2zDqXNcbiAgICAgICAgICAgICAgICAgICAgICB7c29ydEtleSA9PT0gXCJrZXl3b3Jkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIuKGkVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCLihpNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlU29ydChcImZlZWxcIil9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBGZWVsXG4gICAgICAgICAgICAgICAgICAgICAge3NvcnRLZXkgPT09IFwiZmVlbFwiID8gKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcIuKGkVwiIDogXCLihpNcIikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+PC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiZGl2aWRlLXkgZGl2aWRlLXdoaXRlLzEwXCI+XG4gICAgICAgICAgICAgICAge3NvcnRlZFZpZGVvcy5tYXAoKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5S2luZDogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT4gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RpZjogW10sXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogW10sXG4gICAgICAgICAgICAgICAgICAgIGZlZWw6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0cmU6IFtdLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB2LnRheG9ub21pZXMpIGJ5S2luZFt0LmtpbmRdLnB1c2godCk7XG4gICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtpbmQgb2YgT2JqZWN0LmtleXMoYnlLaW5kKSBhcyBUYXhvbm9teUtpbmRbXSkge1xuICAgICAgICAgICAgICAgICAgICBieUtpbmRba2luZF0uc29ydCgoYSwgYikgPT4gYS5sYWJlbC5sb2NhbGVDb21wYXJlKGIubGFiZWwsIFwiZnJcIikpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCBidWRnZXRUZXh0ID1cbiAgICAgICAgICAgICAgICAgICAgdi5idWRnZXRfbWluICYmIHYuYnVkZ2V0X21heFxuICAgICAgICAgICAgICAgICAgICAgID8gYCR7Zm9ybWF0Q2FkKHYuYnVkZ2V0X21pbil94oCTJHtmb3JtYXRDYWQodi5idWRnZXRfbWF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIuKAlFwiO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25UZXh0ID0gZm9ybWF0RHVyYXRpb24odi5kdXJhdGlvbl9zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRHcm91cFRhZ3MgPSBtZXJnZVRheG9ub21pZXNCeUtpbmRzKGJ5S2luZCwga2V5d29yZEdyb3VwS2luZHMpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3YuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBob3ZlcjpiZy13aGl0ZS81XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1ZpZGVvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGF4b25vbWllczogdi50YXhvbm9taWVzLmZpbHRlcigodCkgPT4gYWxsVGF4b25vbXlJZHMuaGFzKHQuaWQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHYuY2xvdWRmbGFyZV91aWQpID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0xMiB3LTIwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNDAgdGV4dC1bMTBweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIMOAIHVwbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzQwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHctMjAgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZVRodW1ibmFpbFNyYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5jbG91ZGZsYXJlX3VpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi50aHVtYm5haWxfdGltZV9zZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MTYwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXs5Nn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtMyBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LVszMjBweF0gdHJ1bmNhdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt2LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTAuNSB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHYuY2xvdWRmbGFyZV91aWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkVuIGF0dGVudGUgZCd1cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdi5zdGF0dXMgPT09IFwicmVhZHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlJlYWR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQcm9jZXNzaW5nXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTIgdGV4dC16aW5jLTIwMFwiPntidWRnZXRUZXh0fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMiB0ZXh0LXppbmMtMjAwXCI+e2R1cmF0aW9uVGV4dH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtZnVsbCBib3JkZXIgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuaXNfZmVhdHVyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItYW1iZXItMzAwLzUwIGJnLWFtYmVyLTQwMC8yMCB0ZXh0LWFtYmVyLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC16aW5jLTMwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdG9nZ2xlRmVhdHVyZWQodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuaXNfZmVhdHVyZWQgPyBcIlJldGlyZXIgZGVzIGZhdm9yaXNcIiA6IFwiQWpvdXRlciBhdXggZmF2b3Jpc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3YuaXNfZmVhdHVyZWQgPyBcIuKYhVwiIDogXCLimIZcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2J5S2luZC50eXBlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxUYWdzQ2VsbCB0YWdzPXtieUtpbmQub2JqZWN0aWZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2tleXdvcmRHcm91cFRhZ3N9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRhZ3NDZWxsIHRhZ3M9e2J5S2luZC5mZWVsfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC0zIHB5LTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWVuZCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQZW5kaW5nVmlkZW9VaWQodi5jbG91ZGZsYXJlX3VpZCkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvd1VwbG9hZERyb3B6b25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17cm93VXBsb2Fkc1t2LmlkXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBsb2FkPXsoZmlsZVRvVXBsb2FkKSA9PiBzdGFydFJvd1VwbG9hZCh2LCBmaWxlVG9VcGxvYWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXJlZC00MDAvMzAgYmctcmVkLTUwMC8xMCBweC0zIHB5LTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcmVkLTIwMCBob3ZlcjpiZy1yZWQtNTAwLzE1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgZGVsZXRlVmlkZW8odik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1cHByaW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAge2VkaXRpbmdWaWRlbyA/IChcbiAgICAgICAgPEVkaXRWaWRlb01vZGFsXG4gICAgICAgICAga2V5PXtlZGl0aW5nVmlkZW8uaWR9XG4gICAgICAgICAgb3BlblxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEVkaXRpbmdWaWRlbyhudWxsKX1cbiAgICAgICAgICB2aWRlbz17ZWRpdGluZ1ZpZGVvfVxuICAgICAgICAgIGdyb3VwZWRUYXhvbm9taWVzPXtncm91cGVkVGF4b25vbWllc31cbiAgICAgICAgICBvblNhdmVkPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRFZGl0aW5nVmlkZW8obnVsbCk7XG4gICAgICAgICAgICBhd2FpdCByZWZyZXNoVmlkZW9zKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZWZyZXNoVGF4b25vbWllcz17cmVmcmVzaFRheG9ub21pZXN9XG4gICAgICAgICAgb25GZXRjaER1cmF0aW9uPXtmZXRjaENsb3VkZmxhcmVEdXJhdGlvbn1cbiAgICAgICAgICBzdXBhYmFzZT17c3VwYWJhc2V9XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRWRpdFZpZGVvTW9kYWwoe1xuICBvcGVuLFxuICBvbkNsb3NlLFxuICB2aWRlbyxcbiAgZ3JvdXBlZFRheG9ub21pZXMsXG4gIG9uU2F2ZWQsXG4gIHJlZnJlc2hUYXhvbm9taWVzLFxuICBvbkZldGNoRHVyYXRpb24sXG4gIHN1cGFiYXNlLFxufToge1xuICBvcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICB2aWRlbzogVmlkZW8gfCBudWxsO1xuICBncm91cGVkVGF4b25vbWllczogUmVjb3JkPFRheG9ub215S2luZCwgVGF4b25vbXlbXT47XG4gIG9uU2F2ZWQ6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICByZWZyZXNoVGF4b25vbWllczogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG4gIG9uRmV0Y2hEdXJhdGlvbjogKHVpZDogc3RyaW5nKSA9PiBQcm9taXNlPG51bWJlciB8IG51bGw+O1xuICBzdXBhYmFzZTogUmV0dXJuVHlwZTx0eXBlb2YgdXNlU3VwYWJhc2VDbGllbnQ+IHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZSgoKSA9PiB2aWRlbz8udGl0bGUgPz8gXCJcIik7XG4gIGNvbnN0IFt0aHVtYlNlY29uZHMsIHNldFRodW1iU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXI+KFxuICAgICgpID0+IHZpZGVvPy50aHVtYm5haWxfdGltZV9zZWNvbmRzID8/IDEsXG4gICk7XG4gIGNvbnN0IFtkdXJhdGlvblNlY29uZHMsIHNldER1cmF0aW9uU2Vjb25kc10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihcbiAgICAoKSA9PiB2aWRlbz8uZHVyYXRpb25fc2Vjb25kcyA/PyBudWxsLFxuICApO1xuICBjb25zdCBbZHVyYXRpb25GZXRjaFN0YXR1cywgc2V0RHVyYXRpb25GZXRjaFN0YXR1c10gPSB1c2VTdGF0ZTxcbiAgICBcImlkbGVcIiB8IFwibG9hZGluZ1wiIHwgXCJlcnJvclwiXG4gID4oXCJpZGxlXCIpO1xuICBjb25zdCBbZHVyYXRpb25GZXRjaE1lc3NhZ2UsIHNldER1cmF0aW9uRmV0Y2hNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYnVkZ2V0TWluSW5kZXgsIHNldEJ1ZGdldE1pbkluZGV4XSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBpZiAoIXZpZGVvPy5idWRnZXRfbWluKSByZXR1cm4gMDtcbiAgICBjb25zdCBpZHggPSBidWRnZXRMZXZlbHMuaW5kZXhPZihcbiAgICAgIHZpZGVvLmJ1ZGdldF9taW4gYXMgKHR5cGVvZiBidWRnZXRMZXZlbHMpW251bWJlcl0sXG4gICAgKTtcbiAgICByZXR1cm4gaWR4ID49IDAgPyBpZHggOiAwO1xuICB9KTtcbiAgY29uc3QgW2J1ZGdldE1heEluZGV4LCBzZXRCdWRnZXRNYXhJbmRleF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgaWYgKCF2aWRlbz8uYnVkZ2V0X21heCkgcmV0dXJuIGJ1ZGdldExldmVscy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGlkeCA9IGJ1ZGdldExldmVscy5pbmRleE9mKFxuICAgICAgdmlkZW8uYnVkZ2V0X21heCBhcyAodHlwZW9mIGJ1ZGdldExldmVscylbbnVtYmVyXSxcbiAgICApO1xuICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCA6IGJ1ZGdldExldmVscy5sZW5ndGggLSAxO1xuICB9KTtcbiAgY29uc3QgW3NlbGVjdGVkVGF4b25vbXlJZHMsIHNldFNlbGVjdGVkVGF4b25vbXlJZHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KFxuICAgICgpID0+IG5ldyBTZXQodmlkZW8/LnRheG9ub21pZXMubWFwKCh0KSA9PiB0LmlkKSA/PyBbXSksXG4gICk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxcImlkbGVcIiB8IFwic2F2aW5nXCIgfCBcImVycm9yXCI+KFwiaWRsZVwiKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthaVN0YXR1cywgc2V0QWlTdGF0dXNdID0gdXNlU3RhdGU8XCJpZGxlXCIgfCBcImxvYWRpbmdcIiB8IFwiZXJyb3JcIj4oXCJpZGxlXCIpO1xuICBjb25zdCBbYWlNZXNzYWdlLCBzZXRBaU1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthaU9wZW4sIHNldEFpT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaVN1Z2dlc3Rpb25zLCBzZXRBaVN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlPEtleXdvcmRTdWdnZXN0aW9ucyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWlTZWxlY3RlZEV4aXN0aW5nLCBzZXRBaVNlbGVjdGVkRXhpc3RpbmddID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KFxuICAgIG5ldyBTZXQoKSxcbiAgKTtcbiAgY29uc3QgW2FpU2VsZWN0ZWROZXcsIHNldEFpU2VsZWN0ZWROZXddID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFthaUZyYW1lcywgc2V0QWlGcmFtZXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbiAgY29uc3QgW2FpQXBwbHlTdGF0dXMsIHNldEFpQXBwbHlTdGF0dXNdID0gdXNlU3RhdGU8XCJpZGxlXCIgfCBcInNhdmluZ1wiIHwgXCJlcnJvclwiPihcbiAgICBcImlkbGVcIixcbiAgKTtcbiAgY29uc3QgW2FpQXBwbHlNZXNzYWdlLCBzZXRBaUFwcGx5TWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RheG9ub215TWVzc2FnZSwgc2V0VGF4b25vbXlNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3BsYXllclRpbWUsIHNldFBsYXllclRpbWVdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW3VzZUlmcmFtZVBsYXllciwgc2V0VXNlSWZyYW1lUGxheWVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RodW1iQ2hvaWNlcywgc2V0VGh1bWJDaG9pY2VzXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7XG5cbiAgY29uc3QgYXZhaWxhYmxlS2V5d29yZExhYmVscyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gZ3JvdXBlZFRheG9ub21pZXMua2V5d29yZC5tYXAoKHQpID0+IHQubGFiZWwpLFxuICAgIFtncm91cGVkVGF4b25vbWllcy5rZXl3b3JkXSxcbiAgKTtcblxuICBjb25zdCBrZXl3b3JkTWFwID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFRheG9ub215PigpO1xuICAgIGZvciAoY29uc3QgdGF4b25vbXkgb2YgZ3JvdXBlZFRheG9ub21pZXMua2V5d29yZCkge1xuICAgICAgbWFwLnNldChub3JtYWxpemVUZXh0KHRheG9ub215LmxhYmVsKSwgdGF4b25vbXkpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9LCBbZ3JvdXBlZFRheG9ub21pZXMua2V5d29yZF0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkUmFuZG9tVGh1bWJUaW1lcyhkdXJhdGlvbjogbnVtYmVyLCBjb3VudCA9IDgpIHtcbiAgICBjb25zdCBzYWZlRHVyYXRpb24gPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKGR1cmF0aW9uKSk7XG4gICAgY29uc3Qgc2VnbWVudCA9IHNhZmVEdXJhdGlvbiAvIGNvdW50O1xuICAgIGNvbnN0IHRpbWVzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoaSAqIHNlZ21lbnQpKTtcbiAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHNhZmVEdXJhdGlvbiwgTWF0aC5mbG9vcigoaSArIDEpICogc2VnbWVudCkpO1xuICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLm1heCgxLCBlbmQgLSBzdGFydCk7XG4gICAgICBjb25zdCByYW5kb20gPSBzdGFydCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJhbmdlKTtcbiAgICAgIHRpbWVzLmFkZChNYXRoLm1pbihzYWZlRHVyYXRpb24sIE1hdGgubWF4KDAsIHJhbmRvbSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGltZXMpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2hUaHVtYkNob2ljZXMoKSB7XG4gICAgaWYgKCFkdXJhdGlvblNlY29uZHMgfHwgIU51bWJlci5pc0Zpbml0ZShkdXJhdGlvblNlY29uZHMpKSByZXR1cm47XG4gICAgc2V0VGh1bWJDaG9pY2VzKGJ1aWxkUmFuZG9tVGh1bWJUaW1lcyhkdXJhdGlvblNlY29uZHMsIDgpKTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGxheWVyVGltZSgwKTtcbiAgICBzZXRVc2VJZnJhbWVQbGF5ZXIoZmFsc2UpO1xuICAgIHNldFRodW1iQ2hvaWNlcyhbXSk7XG4gIH0sIFt2aWRlbz8uY2xvdWRmbGFyZV91aWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZHVyYXRpb25TZWNvbmRzIHx8ICFOdW1iZXIuaXNGaW5pdGUoZHVyYXRpb25TZWNvbmRzKSkgcmV0dXJuO1xuICAgIHJlZnJlc2hUaHVtYkNob2ljZXMoKTtcbiAgfSwgW2R1cmF0aW9uU2Vjb25kc10pO1xuXG4gIGlmICghb3BlbiB8fCAhdmlkZW8pIHJldHVybiBudWxsO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RBaUtleXdvcmRzKCkge1xuICAgIGlmIChhaVN0YXR1cyA9PT0gXCJsb2FkaW5nXCIpIHJldHVybjtcbiAgICBpZiAoIXZpZGVvKSByZXR1cm47XG4gICAgaWYgKGlzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSkge1xuICAgICAgc2V0QWlTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldEFpTWVzc2FnZShcIkxhIHZpZMOpbyBkb2l0IMOqdHJlIHVwbG9hZMOpZSBhdmFudCBsJ2FuYWx5c2UuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBaVN0YXR1cyhcImxvYWRpbmdcIik7XG4gICAgc2V0QWlNZXNzYWdlKG51bGwpO1xuICAgIHNldEFpQXBwbHlNZXNzYWdlKG51bGwpO1xuXG4gICAgY29uc3QgdGltZXMgPSBidWlsZEFpRnJhbWVUaW1lcyh0aHVtYlNlY29uZHMpO1xuICAgIHNldEFpRnJhbWVzKHRpbWVzKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvYWkva2V5d29yZHNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBjbG91ZGZsYXJlVWlkOiB2aWRlby5jbG91ZGZsYXJlX3VpZCxcbiAgICAgICAgICB0aW1lcyxcbiAgICAgICAgICBhdmFpbGFibGVLZXl3b3JkczogYXZhaWxhYmxlS2V5d29yZExhYmVscyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGpzb24gPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKSBhc1xuICAgICAgICB8IHsgc3VnZ2VzdGlvbnM6IEtleXdvcmRTdWdnZXN0aW9ucyB9XG4gICAgICAgIHwgeyBlcnJvcjogc3RyaW5nIH07XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgXCJlcnJvclwiIGluIGpzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXJyb3JcIiBpbiBqc29uID8ganNvbi5lcnJvciA6IFwiRXJyZXVyIEFJXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGpzb24uc3VnZ2VzdGlvbnMgPz8geyBleGlzdGluZzogW10sIG5ldzogW10gfTtcbiAgICAgIHNldEFpU3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnMpO1xuICAgICAgc2V0QWlTZWxlY3RlZEV4aXN0aW5nKG5ldyBTZXQoc3VnZ2VzdGlvbnMuZXhpc3RpbmcpKTtcbiAgICAgIHNldEFpU2VsZWN0ZWROZXcobmV3IFNldChzdWdnZXN0aW9ucy5uZXcpKTtcbiAgICAgIHNldEFpT3Blbih0cnVlKTtcbiAgICAgIHNldEFpU3RhdHVzKFwiaWRsZVwiKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXRBaVN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgc2V0QWlNZXNzYWdlKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiRXJyZXVyIEFJXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWlLZXl3b3JkcygpIHtcbiAgICBpZiAoIXN1cGFiYXNlIHx8ICFhaVN1Z2dlc3Rpb25zKSByZXR1cm47XG4gICAgc2V0QWlBcHBseVN0YXR1cyhcInNhdmluZ1wiKTtcbiAgICBzZXRBaUFwcGx5TWVzc2FnZShudWxsKTtcblxuICAgIGNvbnN0IHNlbGVjdGVkRXhpc3RpbmcgPSBBcnJheS5mcm9tKGFpU2VsZWN0ZWRFeGlzdGluZyk7XG4gICAgY29uc3Qgc2VsZWN0ZWROZXcgPSBBcnJheS5mcm9tKGFpU2VsZWN0ZWROZXcpO1xuICAgIGNvbnN0IGRlc2lyZWRJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBtaXNzaW5nTGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IG1pc3NpbmdOb3JtYWxpemVkID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIHNlbGVjdGVkRXhpc3RpbmcpIHtcbiAgICAgIGNvbnN0IHRheG9ub215ID0ga2V5d29yZE1hcC5nZXQobm9ybWFsaXplVGV4dChsYWJlbCkpO1xuICAgICAgaWYgKHRheG9ub215KSBkZXNpcmVkSWRzLmFkZCh0YXhvbm9teS5pZCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBsYWJlbCBvZiBzZWxlY3RlZE5ldykge1xuICAgICAgY29uc3QgdHJpbW1lZCA9IGxhYmVsLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkgY29udGludWU7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplVGV4dCh0cmltbWVkKTtcbiAgICAgIGlmICghbm9ybWFsaXplZCB8fCBtaXNzaW5nTm9ybWFsaXplZC5oYXMobm9ybWFsaXplZCkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBrZXl3b3JkTWFwLmdldChub3JtYWxpemVUZXh0KHRyaW1tZWQpKTtcbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICBkZXNpcmVkSWRzLmFkZChleGlzdGluZy5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaXNzaW5nTm9ybWFsaXplZC5hZGQobm9ybWFsaXplZCk7XG4gICAgICAgIG1pc3NpbmdMYWJlbHMucHVzaCh0cmltbWVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKG1pc3NpbmdMYWJlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByb3dzID0gbWlzc2luZ0xhYmVscy5tYXAoKGxhYmVsKSA9PiAoeyBraW5kOiBcImtleXdvcmRcIiwgbGFiZWwgfSkpO1xuICAgICAgICBjb25zdCB7IGRhdGE6IGluc2VydGVkLCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ0YXhvbm9taWVzXCIpXG4gICAgICAgICAgLnVwc2VydChyb3dzLCB7IG9uQ29uZmxpY3Q6IFwia2luZCxsYWJlbFwiIH0pXG4gICAgICAgICAgLnNlbGVjdChcImlkLGtpbmQsbGFiZWxcIik7XG4gICAgICAgIGlmIChpbnNlcnRFcnJvcikgdGhyb3cgaW5zZXJ0RXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiAoaW5zZXJ0ZWQgPz8gW10pIGFzIFRheG9ub215W10pIHtcbiAgICAgICAgICBpZiAoaXRlbS5raW5kID09PSBcImtleXdvcmRcIikgZGVzaXJlZElkcy5hZGQoaXRlbS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVmcmVzaFRheG9ub21pZXMoKTtcbiAgICAgIH1cblxuICAgICAgc2V0U2VsZWN0ZWRUYXhvbm9teUlkcygocHJldikgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBkZXNpcmVkSWRzKSBuZXh0LmFkZChpZCk7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgfSk7XG5cbiAgICAgIHNldEFpQXBwbHlTdGF0dXMoXCJpZGxlXCIpO1xuICAgICAgc2V0QWlPcGVuKGZhbHNlKTtcbiAgICAgIHNldEFpU3VnZ2VzdGlvbnMobnVsbCk7XG4gICAgICBzZXRBaVNlbGVjdGVkRXhpc3RpbmcobmV3IFNldCgpKTtcbiAgICAgIHNldEFpU2VsZWN0ZWROZXcobmV3IFNldCgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXRBaUFwcGx5U3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICBzZXRBaUFwcGx5TWVzc2FnZShlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIkVycmV1ciBzYXV2ZWdhcmRlLlwiKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBhZGRUYXhvbm9teShraW5kOiBUYXhvbm9teUtpbmQpIHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG4gICAgY29uc3QgbGFiZWwgPSBwcm9tcHQoXCJOb3V2ZWF1IGxpYmVsbMOpIDpcIiwgXCJcIik/LnRyaW0oKTtcbiAgICBpZiAoIWxhYmVsKSByZXR1cm47XG4gICAgc2V0VGF4b25vbXlNZXNzYWdlKG51bGwpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGluc2VydGVkLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ0YXhvbm9taWVzXCIpXG4gICAgICAgIC51cHNlcnQoeyBraW5kLCBsYWJlbCB9LCB7IG9uQ29uZmxpY3Q6IFwia2luZCxsYWJlbFwiIH0pXG4gICAgICAgIC5zZWxlY3QoXCJpZCxraW5kLGxhYmVsXCIpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBpZiAoaW5zZXJ0ZWQ/LmlkKSB7XG4gICAgICAgIHNldFNlbGVjdGVkVGF4b25vbXlJZHMoKHByZXYpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICBuZXh0LmFkZChpbnNlcnRlZC5pZCk7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYXdhaXQgcmVmcmVzaFRheG9ub21pZXMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXRUYXhvbm9teU1lc3NhZ2UoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJFcnJldXIgYWpvdXQgdGF4b25vbWllLlwiKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzYXZlKCkge1xuICAgIGlmICghc3VwYWJhc2UpIHJldHVybjtcbiAgICBpZiAoIXZpZGVvKSByZXR1cm47XG4gICAgc2V0U3RhdHVzKFwic2F2aW5nXCIpO1xuICAgIHNldE1lc3NhZ2UobnVsbCk7XG4gICAgY29uc3QgY2xlYW5UaXRsZSA9IHRpdGxlLnRyaW0oKTtcbiAgICBpZiAoIWNsZWFuVGl0bGUpIHtcbiAgICAgIHNldFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgc2V0TWVzc2FnZShcIlRpdHJlIHJlcXVpcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcInZpZGVvc1wiKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHRpdGxlOiBjbGVhblRpdGxlLFxuICAgICAgICB0aHVtYm5haWxfdGltZV9zZWNvbmRzOiBOdW1iZXIuaXNGaW5pdGUodGh1bWJTZWNvbmRzKVxuICAgICAgICAgID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih0aHVtYlNlY29uZHMpKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgZHVyYXRpb25fc2Vjb25kczogTnVtYmVyLmlzRmluaXRlKGR1cmF0aW9uU2Vjb25kcylcbiAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzID8/IDApKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgYnVkZ2V0X21pbjogYnVkZ2V0TGV2ZWxzW2J1ZGdldE1pbkluZGV4XSxcbiAgICAgICAgYnVkZ2V0X21heDogYnVkZ2V0TGV2ZWxzW2J1ZGdldE1heEluZGV4XSxcbiAgICAgIH0pXG4gICAgICAuZXEoXCJpZFwiLCB2aWRlby5pZCk7XG5cbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgIHNldFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgc2V0TWVzc2FnZSh1cGRhdGVFcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkZXNpcmVkID0gQXJyYXkuZnJvbShzZWxlY3RlZFRheG9ub215SWRzKTtcbiAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwidmlkZW9fdGF4b25vbWllc1wiKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoXCJ2aWRlb19pZFwiLCB2aWRlby5pZCk7XG4gICAgaWYgKGRlbGV0ZUVycm9yKSB7XG4gICAgICBzZXRTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldE1lc3NhZ2UoZGVsZXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlc2lyZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgcm93cyA9IGRlc2lyZWQubWFwKCh0YXhvbm9teUlkKSA9PiAoe1xuICAgICAgICB2aWRlb19pZDogdmlkZW8uaWQsXG4gICAgICAgIHRheG9ub215X2lkOiB0YXhvbm9teUlkLFxuICAgICAgfSkpO1xuICAgICAgY29uc3QgeyBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmlkZW9fdGF4b25vbWllc1wiKVxuICAgICAgICAuaW5zZXJ0KHJvd3MpO1xuICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgIHNldFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgICBzZXRNZXNzYWdlKGluc2VydEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3RhdHVzKFwiaWRsZVwiKTtcbiAgICBhd2FpdCBvblNhdmVkKCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaER1cmF0aW9uKCkge1xuICAgIGlmICghdmlkZW8pIHJldHVybjtcbiAgICBpZiAoaXNQZW5kaW5nVmlkZW9VaWQodmlkZW8uY2xvdWRmbGFyZV91aWQpKSB7XG4gICAgICBzZXREdXJhdGlvbkZldGNoU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICBzZXREdXJhdGlvbkZldGNoTWVzc2FnZShcIkxhIHZpZMOpbyBkb2l0IMOqdHJlIHVwbG9hZMOpZSBhdmFudCBsJ2FuYWx5c2UuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXREdXJhdGlvbkZldGNoU3RhdHVzKFwibG9hZGluZ1wiKTtcbiAgICBzZXREdXJhdGlvbkZldGNoTWVzc2FnZShudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBhd2FpdCBvbkZldGNoRHVyYXRpb24odmlkZW8uY2xvdWRmbGFyZV91aWQpO1xuICAgICAgc2V0RHVyYXRpb25TZWNvbmRzKGR1cmF0aW9uKTtcbiAgICAgIHNldER1cmF0aW9uRmV0Y2hTdGF0dXMoXCJpZGxlXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldER1cmF0aW9uRmV0Y2hTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgIHNldER1cmF0aW9uRmV0Y2hNZXNzYWdlKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiRXJyZXVyXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5UGxheWVyVGltZSgpIHtcbiAgICBjb25zdCBjdXJyZW50ID0gdmlkZW9SZWYuY3VycmVudD8uY3VycmVudFRpbWU7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoY3VycmVudCkpIHJldHVybjtcbiAgICBzZXRUaHVtYlNlY29uZHMoTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihjdXJyZW50ID8/IDApKSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBvdmVyZmxvdy15LWF1dG8gYmctYmxhY2svNzAgcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LVs5NXZ3XSBtYXgtdy1ub25lIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctemluYy05NTAgcC02IHNoYWRvdy0yeGwgc2hhZG93LWJsYWNrLzQwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0cnVuY2F0ZSB0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5Nb2RpZmllcjwvaDI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0cnVuY2F0ZSB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICBVSUQ6IHt2aWRlby5jbG91ZGZsYXJlX3VpZH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBweC0yIHB5LTEgdGV4dC1zbSB0ZXh0LXppbmMtMzAwIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEZlcm1lclxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZ3JpZCBncmlkLWNvbHMtMSBnYXAtNCBsZzpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0yMDBcIj5UaXRyZTwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtemluYy0xMDAgcGxhY2Vob2xkZXI6dGV4dC16aW5jLTUwMFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRpdGxlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtM1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0yMDBcIj5CdWRnZXQgbWluPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtemluYy0xMDBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnVkZ2V0TWluSW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEJ1ZGdldE1pbkluZGV4KE1hdGgubWluKG5leHQsIGJ1ZGdldE1heEluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtidWRnZXRMZXZlbHMubWFwKChiLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Yn0gdmFsdWU9e2lkeH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Q2FkKGIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC16aW5jLTIwMFwiPkJ1ZGdldCBtYXg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtc20gdGV4dC16aW5jLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtidWRnZXRNYXhJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IE51bWJlcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0QnVkZ2V0TWF4SW5kZXgoTWF0aC5tYXgobmV4dCwgYnVkZ2V0TWluSW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2J1ZGdldExldmVscy5tYXAoKGIsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtifSB2YWx1ZT17aWR4fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRDYWQoYil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0yMDBcIj5UaHVtYm5haWwgKHNlY29uZGVzKTwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0yIHRleHQtemluYy0xMDBcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RodW1iU2Vjb25kc31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGh1bWJTZWNvbmRzKE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0yMDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkR1csOpZSAoc2Vjb25kZXMpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtMjAwIGhvdmVyOmJnLXdoaXRlLzEwIGRpc2FibGVkOm9wYWNpdHktNjBcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCBoYW5kbGVGZXRjaER1cmF0aW9uKCl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkdXJhdGlvbkZldGNoU3RhdHVzID09PSBcImxvYWRpbmdcIiB8fCAhc3VwYWJhc2V9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtkdXJhdGlvbkZldGNoU3RhdHVzID09PSBcImxvYWRpbmdcIiA/IFwiTGVjdHVyZeKAplwiIDogXCJSw6ljdXDDqXJlclwifVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC16aW5jLTEwMFwiPlxuICAgICAgICAgICAgICAgICAge051bWJlci5pc0Zpbml0ZShkdXJhdGlvblNlY29uZHMpID8gZHVyYXRpb25TZWNvbmRzIDogXCLigJRcIn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7ZHVyYXRpb25GZXRjaE1lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj57ZHVyYXRpb25GZXRjaE1lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIExlY3RldXJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvMTAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8yMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FwcGx5UGxheWVyVGltZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSB8fCB1c2VJZnJhbWVQbGF5ZXJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFV0aWxpc2VyIGxlIHRlbXBzIGR1IHBsYXllclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzQwXCI+XG4gICAgICAgICAgICAgICAgICB7aXNQZW5kaW5nVmlkZW9VaWQodmlkZW8uY2xvdWRmbGFyZV91aWQpID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggYXNwZWN0LXZpZGVvIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXppbmMtNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgRW4gYXR0ZW50ZSBkJmFwb3M7dXBsb2FkXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IHVzZUlmcmFtZVBsYXllciA/IChcbiAgICAgICAgICAgICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZUlmcmFtZVNyY05vQXV0b3BsYXkodmlkZW8uY2xvdWRmbGFyZV91aWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgZW5jcnlwdGVkLW1lZGlhOyBwaWN0dXJlLWluLXBpY3R1cmU7XCJcbiAgICAgICAgICAgICAgICAgICAgICBhbGxvd0Z1bGxTY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dmlkZW8udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8dmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICByZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGwgYmctYmxhY2tcIlxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzXG4gICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZD1cIm1ldGFkYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgICBwb3N0ZXI9e2Nsb3VkZmxhcmVUaHVtYm5haWxTcmModmlkZW8uY2xvdWRmbGFyZV91aWQsIHRodW1iU2Vjb25kcywgMTkyMCl9XG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtjbG91ZGZsYXJlRG93bmxvYWRTcmModmlkZW8uY2xvdWRmbGFyZV91aWQpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uVGltZVVwZGF0ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFBsYXllclRpbWUoTWF0aC5mbG9vcihlLmN1cnJlbnRUYXJnZXQuY3VycmVudFRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZUlmcmFtZVBsYXllcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7IXVzZUlmcmFtZVBsYXllciA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgVGVtcHMgY291cmFudDoge3BsYXllclRpbWV9c1xuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHttZXNzYWdlID8gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTQwMFwiPnttZXNzYWdlfTwvZGl2PiA6IG51bGx9XG5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLXhsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1lbWVyYWxkLTUwMCBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS02MFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCBzYXZlKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YXR1cyA9PT0gXCJzYXZpbmdcIiB8fCAhc3VwYWJhc2V9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c3RhdHVzID09PSBcInNhdmluZ1wiID8gXCJTYXV2ZWdhcmRl4oCmXCIgOiBcIlNhdXZlZ2FyZGVyXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFRhZ3NcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvMTAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8yMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCByZXF1ZXN0QWlLZXl3b3JkcygpfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2FpU3RhdHVzID09PSBcImxvYWRpbmdcIiB8fCAhc3VwYWJhc2V9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2FpU3RhdHVzID09PSBcImxvYWRpbmdcIiA/IFwiQW5hbHlzZeKAplwiIDogXCJBbmFseXNlciBtb3RzLWNsw6lzXCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7YWlNZXNzYWdlID8gPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1yZWQtNDAwXCI+e2FpTWVzc2FnZX08L2Rpdj4gOiBudWxsfVxuICAgICAgICAgICAgICB7dGF4b25vbXlNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtcmVkLTQwMFwiPnt0YXhvbm9teU1lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAge3RheG9ub215R3JvdXBzLm1hcCgoZ3JvdXApID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZVRheG9ub21pZXNCeUtpbmRzKGdyb3VwZWRUYXhvbm9taWVzLCBncm91cC5raW5kcyk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Z3JvdXAua2luZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+e2dyb3VwLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvMTAgcHgtMiBweS0xIHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8yMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHZvaWQgYWRkVGF4b25vbXkoZ3JvdXAua2luZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc3VwYWJhc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEFqb3V0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC16aW5jLTQwMFwiPsOAIHZlbmlyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBzZWxlY3RlZFRheG9ub215SWRzLmhhcyh0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciBweC0zIHB5LTEgdGV4dC1zbSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItZW1lcmFsZC00MDAvNDAgYmctZW1lcmFsZC01MDAvMjAgdGV4dC1lbWVyYWxkLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGF4b25vbXlJZHMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Lmhhcyh0LmlkKSkgbmV4dC5kZWxldGUodC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgbmV4dC5hZGQodC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3QubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgIFRodW1ibmFpbFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwXCI+XG4gICAgICAgICAgICAgICAge2lzUGVuZGluZ1ZpZGVvVWlkKHZpZGVvLmNsb3VkZmxhcmVfdWlkKSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBhc3BlY3QtdmlkZW8gdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRW4gYXR0ZW50ZSBkJmFwb3M7dXBsb2FkXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gdy1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtjbG91ZGZsYXJlVGh1bWJuYWlsU3JjKHZpZGVvLmNsb3VkZmxhcmVfdWlkLCB0aHVtYlNlY29uZHMsIDE5MjApfVxuICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezE5MjB9XG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxMDgwfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgIHtkdXJhdGlvblNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgPyBcIkNob2lzaXMgdW4gdGh1bWJuYWlsIHBhcm1pIGxlcyBzdWdnZXN0aW9ucy5cIlxuICAgICAgICAgICAgICAgICAgICA6IFwiUmVuc2VpZ25lIGxhIGR1csOpZSBwb3VyIGfDqW7DqXJlciBkZXMgc3VnZ2VzdGlvbnMuXCJ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMjAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3JlZnJlc2hUaHVtYkNob2ljZXN9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWR1cmF0aW9uU2Vjb25kcyB8fCBpc1BlbmRpbmdWaWRlb1VpZCh2aWRlby5jbG91ZGZsYXJlX3VpZCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTm91dmVsbGVzIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7dGh1bWJDaG9pY2VzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgc206Z3JpZC1jb2xzLTRcIj5cbiAgICAgICAgICAgICAgICAgIHt0aHVtYkNob2ljZXMubWFwKCh0aW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gTWF0aC5mbG9vcih0aHVtYlNlY29uZHMpID09PSB0aW1lO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGltZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VGh1bWJTZWNvbmRzKHRpbWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYm9yZGVyIHRleHQtbGVmdCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItZW1lcmFsZC00MDAvNjAgYmctZW1lcmFsZC01MDAvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgaG92ZXI6Ym9yZGVyLXdoaXRlLzMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gdy1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2xvdWRmbGFyZVRodW1ibmFpbFNyYyh2aWRlby5jbG91ZGZsYXJlX3VpZCwgdGltZSwgMTkyMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs2NDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MzYwfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMiBweS0xIHRleHQtY2VudGVyIHRleHQtWzEwcHhdIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RpbWV9c1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge2FpT3BlbiA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzYwXSBvdmVyZmxvdy15LWF1dG8gYmctYmxhY2svNzAgcC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIHctZnVsbCBtYXgtdy0yeGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy16aW5jLTk1MCBwLTYgc2hhZG93LTJ4bCBzaGFkb3ctYmxhY2svNDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRydW5jYXRlIHRleHQtbGcgZm9udC1zZW1pYm9sZFwiPlN1Z2dlc3Rpb25zIG1vdHMtY2zDqXM8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIHRleHQtemluYy00MDBcIj5cbiAgICAgICAgICAgICAgICAgIFZhbGlkZSBsZXMgdGFncyBwcm9wb3PDqXMgYXZhbnQgaW5zZXJ0aW9uLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgcHgtMiBweS0xIHRleHQtc20gdGV4dC16aW5jLTMwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWlPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEZlcm1lclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7YWlGcmFtZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTIgc206Z3JpZC1jb2xzLTVcIj5cbiAgICAgICAgICAgICAgICB7YWlGcmFtZXMubWFwKCh0aW1lKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17dGltZX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay8zMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Nsb3VkZmxhcmVUaHVtYm5haWxTcmModmlkZW8uY2xvdWRmbGFyZV91aWQsIHRpbWUsIDE5MjApfVxuICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezY0MH1cbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezM2MH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC1jZW50ZXIgdGV4dC1bMTBweF0gdGV4dC16aW5jLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt0aW1lfXNcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogbnVsbH1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtemluYy01MDBcIj5cbiAgICAgICAgICAgICAgICAgIE1vdHMtY2zDqXMgZXhpc3RhbnRzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICB7KGFpU3VnZ2VzdGlvbnM/LmV4aXN0aW5nID8/IFtdKS5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXppbmMtNDAwXCI+QXVjdW4gcHJvcG9zw6kuPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAoYWlTdWdnZXN0aW9ucz8uZXhpc3RpbmcgPz8gW10pLm1hcCgobGFiZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gYWlTZWxlY3RlZEV4aXN0aW5nLmhhcyhsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjdXJzb3ItcG9pbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHB4LTMgcHktMSB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1lbWVyYWxkLTQwMC80MCBiZy1lbWVyYWxkLTUwMC8yMCB0ZXh0LWVtZXJhbGQtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvMTAgYmctYmxhY2svMzAgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWlTZWxlY3RlZEV4aXN0aW5nKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dC5oYXMobGFiZWwpKSBuZXh0LmRlbGV0ZShsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgbmV4dC5hZGQobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC16aW5jLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgTm91dmVhdXggbW90cy1jbMOpc1xuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgeyhhaVN1Z2dlc3Rpb25zPy5uZXcgPz8gW10pLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtemluYy00MDBcIj5BdWN1biBwcm9wb3PDqS48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIChhaVN1Z2dlc3Rpb25zPy5uZXcgPz8gW10pLm1hcCgobGFiZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gYWlTZWxlY3RlZE5ldy5oYXMobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtsYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciBweC0zIHB5LTEgdGV4dC1zbSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItYW1iZXItNDAwLzQwIGJnLWFtYmVyLTUwMC8yMCB0ZXh0LWFtYmVyLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzMwIHRleHQtemluYy0yMDAgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFpU2VsZWN0ZWROZXcoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmhhcyhsYWJlbCkpIG5leHQuZGVsZXRlKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBuZXh0LmFkZChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge2FpQXBwbHlNZXNzYWdlID8gPGRpdiBjbGFzc05hbWU9XCJtdC0zIHRleHQtc20gdGV4dC1yZWQtNDAwXCI+e2FpQXBwbHlNZXNzYWdlfTwvZGl2PiA6IG51bGx9XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNSBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC16aW5jLTIwMCBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWlPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEFubnVsZXJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLXhsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1lbWVyYWxkLTUwMCBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS02MFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdm9pZCBhcHBseUFpS2V5d29yZHMoKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17YWlBcHBseVN0YXR1cyA9PT0gXCJzYXZpbmdcIiB8fCAhc3VwYWJhc2V9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7YWlBcHBseVN0YXR1cyA9PT0gXCJzYXZpbmdcIiA/IFwiQXBwbGljYXRpb27igKZcIiA6IFwiQXBwbGlxdWVyXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IG51bGx9XG4gICAgPC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRhZ3NDZWxsKHsgdGFncyB9OiB7IHRhZ3M6IFRheG9ub215W10gfSkge1xuICBpZiAodGFncy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMiB0ZXh0LXppbmMtNTAwXCI+4oCUPC90ZD47XG4gIH1cblxuICBjb25zdCBzaG93biA9IHRhZ3Muc2xpY2UoMCwgMyk7XG4gIGNvbnN0IHJlbWFpbmluZyA9IHRhZ3MubGVuZ3RoIC0gc2hvd24ubGVuZ3RoO1xuXG4gIHJldHVybiAoXG4gICAgPHRkIGNsYXNzTmFtZT1cInB4LTMgcHktMlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1heC13LVsyNDBweF0gZmxleC13cmFwIGdhcC0xXCI+XG4gICAgICAgIHtzaG93bi5tYXAoKHQpID0+IChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PXt0LmlkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0yIHB5LTAuNSB0ZXh0LXhzIHRleHQtemluYy0yMDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0LmxhYmVsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKSl9XG4gICAgICAgIHtyZW1haW5pbmcgPiAwID8gKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMiBweS0wLjUgdGV4dC14cyB0ZXh0LXppbmMtMzAwXCI+XG4gICAgICAgICAgICAre3JlbWFpbmluZ31cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgPC90ZD5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUm93VXBsb2FkRHJvcHpvbmUoe1xuICBzdGF0ZSxcbiAgb25VcGxvYWQsXG59OiB7XG4gIHN0YXRlOiBSb3dVcGxvYWRTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgb25VcGxvYWQ6IChmaWxlOiBGaWxlKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2RyYWdBY3RpdmUsIHNldERyYWdBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBpc1VwbG9hZGluZyA9IHN0YXRlPy5zdGF0dXMgPT09IFwidXBsb2FkaW5nXCIgfHwgc3RhdGU/LnN0YXR1cyA9PT0gXCJzYXZpbmdcIjtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtcmlnaHRcIj5cbiAgICAgIDxpbnB1dFxuICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgIGFjY2VwdD1cInZpZGVvLypcIlxuICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSBvblVwbG9hZChzZWxlY3RlZCk7XG4gICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtcbiAgICAgICAgICBkcmFnQWN0aXZlXG4gICAgICAgICAgICA/IFwiYm9yZGVyLWVtZXJhbGQtNDAwLzYwIGJnLWVtZXJhbGQtNTAwLzEwIHRleHQtZW1lcmFsZC0xMDBcIlxuICAgICAgICAgICAgOiBcImJvcmRlci1lbWVyYWxkLTQwMC8zMCBiZy1lbWVyYWxkLTUwMC8xMCB0ZXh0LWVtZXJhbGQtMTAwIGhvdmVyOmJnLWVtZXJhbGQtNTAwLzE1XCJcbiAgICAgICAgfSAke2lzVXBsb2FkaW5nID8gXCJwb2ludGVyLWV2ZW50cy1ub25lIG9wYWNpdHktNzBcIiA6IFwiXCJ9YH1cbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBpZiAoIWlzVXBsb2FkaW5nKSBpbnB1dFJlZi5jdXJyZW50Py5jbGljaygpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0RHJhZ0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0RHJhZ0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25EcmFnTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldERyYWdBY3RpdmUoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyb3A9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2V0RHJhZ0FjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgY29uc3QgZHJvcHBlZCA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzPy5bMF07XG4gICAgICAgICAgaWYgKGRyb3BwZWQgJiYgIWlzVXBsb2FkaW5nKSBvblVwbG9hZChkcm9wcGVkKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2lzVXBsb2FkaW5nXG4gICAgICAgICAgPyBzdGF0ZT8uc3RhdHVzID09PSBcInNhdmluZ1wiXG4gICAgICAgICAgICA/IFwiU2F1dmVnYXJkZeKAplwiXG4gICAgICAgICAgICA6IGBVcGxvYWTigKYgJHtzdGF0ZT8ucHJvZ3Jlc3MgPz8gMH0lYFxuICAgICAgICAgIDogXCJHbGlzc2VyIC8gY2xpcXVlclwifVxuICAgICAgPC9kaXY+XG4gICAgICB7c3RhdGU/LnN0YXR1cyA9PT0gXCJlcnJvclwiID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj57c3RhdGUubWVzc2FnZX08L2Rpdj5cbiAgICAgICkgOiBudWxsfVxuICAgICAge3N0YXRlPy5zdGF0dXMgPT09IFwiZG9uZVwiID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWVtZXJhbGQtMjAwXCI+VXBsb2FkIE9LIOKchTwvZGl2PlxuICAgICAgKSA6IG51bGx9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJJbWFnZSIsImJ1ZGdldExldmVscyIsImZvcm1hdENhZCIsImNsb3VkZmxhcmVEb3dubG9hZFNyYyIsImNsb3VkZmxhcmVJZnJhbWVTcmNOb0F1dG9wbGF5IiwiY2xvdWRmbGFyZVRodW1ibmFpbFNyYyIsInVzZVN1cGFiYXNlQ2xpZW50IiwidXNlQWRtaW5TdGF0ZSIsImtleXdvcmRHcm91cEtpbmRzIiwibWVyZ2VUYXhvbm9taWVzQnlLaW5kcyIsInRheG9ub215R3JvdXBzIiwicGVuZGluZ0Nsb3VkZmxhcmVQcmVmaXgiLCJub3JtYWxpemVUZXh0IiwidmFsdWUiLCJub3JtYWxpemUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwibm9ybWFsaXplTWF0Y2hLZXkiLCJzdHJpcEV4dGVuc2lvbiIsImZpbGVuYW1lIiwibm9ybWFsaXplRmlsZW5hbWUiLCJiYXNlIiwibm9ybWFsaXplZCIsIndpdGhvdXRWZXJzaW9uIiwiZm9ybWF0RHVyYXRpb24iLCJzZWNvbmRzIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ0b3RhbCIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm1pbnV0ZXMiLCJyZW1haW5pbmciLCJTdHJpbmciLCJwYWRTdGFydCIsImJ1aWxkQWlGcmFtZVRpbWVzIiwiYmFzZVNlY29uZHMiLCJjYW5kaWRhdGVzIiwidW5pcXVlIiwiU2V0IiwidGltZXMiLCJoYXMiLCJhZGQiLCJwdXNoIiwic2xpY2UiLCJpc1BlbmRpbmdWaWRlb1VpZCIsInVpZCIsInN0YXJ0c1dpdGgiLCJ1cGxvYWRGaWxlV2l0aFByb2dyZXNzIiwidXBsb2FkVVJMIiwiZmlsZSIsIm9uUHJvZ3Jlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInVwbG9hZCIsIm9ucHJvZ3Jlc3MiLCJldmVudCIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50Iiwicm91bmQiLCJsb2FkZWQiLCJtaW4iLCJvbmxvYWQiLCJzdGF0dXMiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiRXJyb3IiLCJvbmVycm9yIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInNlbmQiLCJBZG1pblBvcnRmb2xpb1BhZ2UiLCJzdXBhYmFzZSIsImlzQWRtaW4iLCJwYWdlU2l6ZSIsInRheG9ub21pZXMiLCJzZXRUYXhvbm9taWVzIiwidmlkZW9zIiwic2V0VmlkZW9zIiwidmlkZW9zTWVzc2FnZSIsInNldFZpZGVvc01lc3NhZ2UiLCJlZGl0aW5nVmlkZW8iLCJzZXRFZGl0aW5nVmlkZW8iLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwidG90YWxWaWRlb3MiLCJzZXRUb3RhbFZpZGVvcyIsInRpdGxlIiwic2V0VGl0bGUiLCJidWRnZXRNaW5JbmRleCIsInNldEJ1ZGdldE1pbkluZGV4IiwiYnVkZ2V0TWF4SW5kZXgiLCJzZXRCdWRnZXRNYXhJbmRleCIsImxlbmd0aCIsInRodW1iU2Vjb25kcyIsInNldFRodW1iU2Vjb25kcyIsImR1cmF0aW9uU2Vjb25kcyIsInNldER1cmF0aW9uU2Vjb25kcyIsInNlbGVjdGVkVGF4b25vbXlJZHMiLCJzZXRTZWxlY3RlZFRheG9ub215SWRzIiwic2V0RmlsZSIsInVwbG9hZFN0YXRlIiwic2V0VXBsb2FkU3RhdGUiLCJ1cGxvYWRNZXNzYWdlIiwic2V0VXBsb2FkTWVzc2FnZSIsInVwbG9hZFByb2dyZXNzIiwic2V0VXBsb2FkUHJvZ3Jlc3MiLCJzaG93VXBsb2FkZXIiLCJzZXRTaG93VXBsb2FkZXIiLCJyb3dVcGxvYWRzIiwic2V0Um93VXBsb2FkcyIsImJ1bGtVcGxvYWRzIiwic2V0QnVsa1VwbG9hZHMiLCJidWxrTWVzc2FnZSIsInNldEJ1bGtNZXNzYWdlIiwiYnVsa0Ryb3BBY3RpdmUiLCJzZXRCdWxrRHJvcEFjdGl2ZSIsImJ1bGtJbnB1dFJlZiIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzb3J0S2V5Iiwic2V0U29ydEtleSIsInNvcnREaXJlY3Rpb24iLCJzZXRTb3J0RGlyZWN0aW9uIiwiZHVyYXRpb25SZWZyZXNoU3RhdGUiLCJzZXREdXJhdGlvblJlZnJlc2hTdGF0ZSIsImR1cmF0aW9uUmVmcmVzaE1lc3NhZ2UiLCJzZXREdXJhdGlvblJlZnJlc2hNZXNzYWdlIiwiZ3JvdXBlZFRheG9ub21pZXMiLCJncm91cHMiLCJ0eXBlIiwib2JqZWN0aWYiLCJrZXl3b3JkIiwic3R5bGUiLCJmZWVsIiwicGFyYW1ldHJlIiwidCIsImtpbmQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImEiLCJiIiwibGFiZWwiLCJsb2NhbGVDb21wYXJlIiwiZmlsdGVyZWRWaWRlb3MiLCJxdWVyeSIsImZpbHRlciIsInZpZGVvIiwidGFncyIsIm1hcCIsImpvaW4iLCJoYXlzdGFjayIsImNsb3VkZmxhcmVfdWlkIiwiaW5jbHVkZXMiLCJzb3J0ZWRWaWRlb3MiLCJpdGVtcyIsImdldFRhZ1ZhbHVlIiwic29ydGVkIiwiZ2V0VmFsdWUiLCJidWRnZXRfbWluIiwiZHVyYXRpb25fc2Vjb25kcyIsIlBPU0lUSVZFX0lORklOSVRZIiwiaXNfZmVhdHVyZWQiLCJsZWZ0IiwicmlnaHQiLCJvcmRlciIsInRvZ2dsZVNvcnQiLCJuZXh0S2V5IiwiY3VycmVudCIsInByZXYiLCJyZWZyZXNoVGF4b25vbWllcyIsImRhdGEiLCJmcm9tIiwic2VsZWN0IiwidG9nZ2xlRmVhdHVyZWQiLCJuZXh0VmFsdWUiLCJpdGVtIiwiaWQiLCJlcnJvciIsInVwZGF0ZSIsImVxIiwibWVzc2FnZSIsInJlZnJlc2hWaWRlb3MiLCJ0byIsInJhd1ZpZGVvcyIsInZpZGVvc0Vycm9yIiwiY291bnQiLCJ2aWRlb3NDb3VudCIsInJhd1RheG9ub21pZXMiLCJ0YXhvbm9taWVzRXJyb3IiLCJhbGwiLCJhc2NlbmRpbmciLCJyYW5nZSIsInJhd0xpbmtzIiwibGlua3NFcnJvciIsImluIiwicmVzb2x2ZWRUYXhvbm9taWVzIiwidGF4b25vbXlCeUlkIiwiTWFwIiwic2V0IiwidGF4b25vbXlJZHNCeVZpZGVvSWQiLCJyb3ciLCJsaXN0IiwiZ2V0IiwidmlkZW9faWQiLCJ0YXhvbm9teV9pZCIsImh5ZHJhdGVkVmlkZW9zIiwidiIsIkJvb2xlYW4iLCJyZWZyZXNoTWlzc2luZ0R1cmF0aW9ucyIsInRhcmdldHMiLCJ1cGRhdGVkQ291bnQiLCJkdXJhdGlvbiIsImZldGNoQ2xvdWRmbGFyZUR1cmF0aW9uIiwiZSIsInRvdGFsUGFnZXMiLCJjZWlsIiwicGVuZGluZ1ZpZGVvcyIsImNyZWF0ZURpcmVjdFVwbG9hZCIsInNlc3Npb25EYXRhIiwiYXV0aCIsImdldFNlc3Npb24iLCJhY2Nlc3NUb2tlbiIsInNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJqc29uIiwib2siLCJkZXRhaWxzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXBsb2FkVG9DbG91ZGZsYXJlIiwidXBsb2FkRmlsZSIsInVwbG9hZFZpZGVvIiwicHJvZ3Jlc3MiLCJkdXJhdGlvbkZyb21DbG91ZGZsYXJlIiwiaW5zZXJ0ZWQiLCJ2aWRlb0Vycm9yIiwiaW5zZXJ0IiwidGh1bWJuYWlsX3RpbWVfc2Vjb25kcyIsImJ1ZGdldF9tYXgiLCJzaW5nbGUiLCJ0YXhvbm9teUlkcyIsIkFycmF5Iiwicm93cyIsInRheG9ub215SWQiLCJsaW5rRXJyb3IiLCJhdHRhY2hVcGxvYWRUb1ZpZGVvIiwib3B0aW9ucyIsIm9uU3RhZ2UiLCJ1cGRhdGVFcnJvciIsImRlbGV0ZVZpZGVvIiwiY29uZmlybSIsImRlbGV0ZSIsImFsbFRheG9ub215SWRzIiwidXBkYXRlUm93VXBsb2FkIiwidmlkZW9JZCIsIm5leHQiLCJzdGFydFJvd1VwbG9hZCIsInN0YWdlIiwibG9hZFBlbmRpbmdWaWRlb3NGb3JNYXRjaCIsImxpa2UiLCJlbnF1ZXVlQnVsa1VwbG9hZHMiLCJmaWxlcyIsInBlbmRpbmdNYXRjaGVzIiwicGVuZGluZ0J5VGl0bGUiLCJrZXkiLCJuZXdJdGVtcyIsIm5hbWUiLCJtYXRjaGVzIiwic2hpZnQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwic3RhcnRCdWxrVXBsb2FkIiwiZW50cnkiLCJ0b3RhbFBhZ2VzVGV4dCIsImRpdiIsImNsYXNzTmFtZSIsInNlY3Rpb24iLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbnB1dCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiaWR4Iiwib3B0aW9uIiwicmF3IiwiYWNjZXB0IiwiZGlzYWJsZWQiLCJncm91cCIsImtpbmRzIiwiY2hlY2tlZCIsImNvZGUiLCJwbGFjZWhvbGRlciIsInBhZ2UiLCJjbGljayIsInJlZiIsIm11bHRpcGxlIiwiY3VycmVudFRhcmdldCIsIm9uRHJhZ0VudGVyIiwicHJldmVudERlZmF1bHQiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJkYXRhVHJhbnNmZXIiLCJ3aWR0aCIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJieUtpbmQiLCJidWRnZXRUZXh0IiwiZHVyYXRpb25UZXh0Iiwia2V5d29yZEdyb3VwVGFncyIsInRkIiwic3JjIiwiYWx0IiwiaGVpZ2h0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYXJpYS1sYWJlbCIsIlRhZ3NDZWxsIiwiUm93VXBsb2FkRHJvcHpvbmUiLCJzdGF0ZSIsIm9uVXBsb2FkIiwiZmlsZVRvVXBsb2FkIiwiRWRpdFZpZGVvTW9kYWwiLCJvbkNsb3NlIiwib25TYXZlZCIsIm9uRmV0Y2hEdXJhdGlvbiIsImR1cmF0aW9uRmV0Y2hTdGF0dXMiLCJzZXREdXJhdGlvbkZldGNoU3RhdHVzIiwiZHVyYXRpb25GZXRjaE1lc3NhZ2UiLCJzZXREdXJhdGlvbkZldGNoTWVzc2FnZSIsImluZGV4T2YiLCJzZXRTdGF0dXMiLCJzZXRNZXNzYWdlIiwiYWlTdGF0dXMiLCJzZXRBaVN0YXR1cyIsImFpTWVzc2FnZSIsInNldEFpTWVzc2FnZSIsImFpT3BlbiIsInNldEFpT3BlbiIsImFpU3VnZ2VzdGlvbnMiLCJzZXRBaVN1Z2dlc3Rpb25zIiwiYWlTZWxlY3RlZEV4aXN0aW5nIiwic2V0QWlTZWxlY3RlZEV4aXN0aW5nIiwiYWlTZWxlY3RlZE5ldyIsInNldEFpU2VsZWN0ZWROZXciLCJhaUZyYW1lcyIsInNldEFpRnJhbWVzIiwiYWlBcHBseVN0YXR1cyIsInNldEFpQXBwbHlTdGF0dXMiLCJhaUFwcGx5TWVzc2FnZSIsInNldEFpQXBwbHlNZXNzYWdlIiwidGF4b25vbXlNZXNzYWdlIiwic2V0VGF4b25vbXlNZXNzYWdlIiwidmlkZW9SZWYiLCJwbGF5ZXJUaW1lIiwic2V0UGxheWVyVGltZSIsInVzZUlmcmFtZVBsYXllciIsInNldFVzZUlmcmFtZVBsYXllciIsInRodW1iQ2hvaWNlcyIsInNldFRodW1iQ2hvaWNlcyIsImF2YWlsYWJsZUtleXdvcmRMYWJlbHMiLCJrZXl3b3JkTWFwIiwidGF4b25vbXkiLCJidWlsZFJhbmRvbVRodW1iVGltZXMiLCJzYWZlRHVyYXRpb24iLCJzZWdtZW50IiwiaSIsInN0YXJ0IiwiZW5kIiwicmFuZG9tIiwicmVmcmVzaFRodW1iQ2hvaWNlcyIsInJlcXVlc3RBaUtleXdvcmRzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbG91ZGZsYXJlVWlkIiwiYXZhaWxhYmxlS2V5d29yZHMiLCJzdWdnZXN0aW9ucyIsImV4aXN0aW5nIiwibmV3IiwiYXBwbHlBaUtleXdvcmRzIiwic2VsZWN0ZWRFeGlzdGluZyIsInNlbGVjdGVkTmV3IiwiZGVzaXJlZElkcyIsIm1pc3NpbmdMYWJlbHMiLCJtaXNzaW5nTm9ybWFsaXplZCIsInRyaW1tZWQiLCJpbnNlcnRFcnJvciIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJhZGRUYXhvbm9teSIsInByb21wdCIsInNhdmUiLCJjbGVhblRpdGxlIiwiZGVzaXJlZCIsImRlbGV0ZUVycm9yIiwiaGFuZGxlRmV0Y2hEdXJhdGlvbiIsImFwcGx5UGxheWVyVGltZSIsImN1cnJlbnRUaW1lIiwic3BhbiIsImlmcmFtZSIsImFsbG93IiwiYWxsb3dGdWxsU2NyZWVuIiwiY29udHJvbHMiLCJwcmVsb2FkIiwicG9zdGVyIiwib25UaW1lVXBkYXRlIiwib25FcnJvciIsInRpbWUiLCJzZWxlY3RlZCIsImgzIiwic2hvd24iLCJpbnB1dFJlZiIsImRyYWdBY3RpdmUiLCJzZXREcmFnQWN0aXZlIiwiaXNVcGxvYWRpbmciLCJkcm9wcGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/admin/portfolio/page.tsx\n"));

/***/ })

});